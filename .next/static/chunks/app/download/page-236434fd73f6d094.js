(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[40],{1415:function(e,t,o){Promise.resolve().then(o.bind(o,8702))},6463:function(e,t,o){"use strict";var r=o(1169);o.o(r,"usePathname")&&o.d(t,{usePathname:function(){return r.usePathname}}),o.o(r,"useRouter")&&o.d(t,{useRouter:function(){return r.useRouter}})},8702:function(e,t,o){"use strict";o.r(t),o.d(t,{default:function(){return l}});var r=o(7437),n=o(6463),a=o(2265);function l(){let e=(0,n.useRouter)(),[t,o]=(0,a.useState)(""),l="",s=async()=>{let t=document.createElement("a");if((null===localStorage.getItem("userId")||null===localStorage.getItem("directoryName"))&&(null===localStorage.getItem("userIdForTrans")||null===localStorage.getItem("userIdForOpt"))){o("No file found.");return}null!=localStorage.getItem("userIdForOpt")?(l=await fetch("/api/download",{method:"GET",headers:{userIdForOpt:localStorage.getItem("userIdForOpt")}}),t.download="".concat(localStorage.getItem("userIdForOpt"),".zip")):null!=localStorage.getItem("userIdForTrans")?(l=await fetch("/api/download",{method:"GET",headers:{userIdForTrans:localStorage.getItem("userIdForTrans")}}),t.download="".concat(localStorage.getItem("userIdForTrans"),".zip")):(l=await fetch("/api/download",{method:"GET",headers:{directoryName:localStorage.getItem("directoryName"),uuid:localStorage.getItem("userId")}}),t.download="".concat(localStorage.getItem("directoryName"),".zip"));let r=await l.blob(),n=window.URL.createObjectURL(r);t.href=n,document.body.appendChild(t),t.click(),t.remove(),window.URL.revokeObjectURL(n),e.push("/")};return(0,r.jsx)("div",{className:"flex items-center justify-center h-screen",children:(0,r.jsxs)("div",{class:"flex items-center justify-center h-screen",children:[t&&(0,r.jsx)("p",{style:{marginTop:"10px",color:"red"},children:t}),(0,r.jsxs)("button",{onClick:s,className:"bg-blue-500 hover:bg-blue-600 text-white font-bold py-3 px-6 rounded-lg flex items-center space-x-2",children:[(0,r.jsx)("span",{children:"Download Files"}),(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2",children:(0,r.jsx)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19 9l-7 7-7-7"})})]})]})})}}},function(e){e.O(0,[971,23,744],function(){return e(e.s=1415)}),_N_E=e.O()}]);