exports.id=679,exports.ids=[679],exports.modules={46242:(e,t,r)=>{"use strict";Object.defineProperty(t,"$",{enumerable:!0,get:function(){return a}});let n=r(15424);function a(e){let{createServerReference:t}=r(56493);return t(e,n.callServer)}},8472:()=>{},51596:(e,t,r)=>{"use strict";r(8472);var n=r(17577),a=function(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}(n),s="undefined"!=typeof process&&process.env&&!0,o=function(e){return"[object String]"===Object.prototype.toString.call(e)},i=function(){function e(e){var t=void 0===e?{}:e,r=t.name,n=void 0===r?"stylesheet":r,a=t.optimizeForSpeed,i=void 0===a?s:a;l(o(n),"`name` must be a string"),this._name=n,this._deletedRulePlaceholder="#"+n+"-deleted-rule____{}",l("boolean"==typeof i,"`optimizeForSpeed` must be a boolean"),this._optimizeForSpeed=i,this._serverSheet=void 0,this._tags=[],this._injected=!1,this._rulesCount=0,this._nonce=null}var t=e.prototype;return t.setOptimizeForSpeed=function(e){l("boolean"==typeof e,"`setOptimizeForSpeed` accepts a boolean"),l(0===this._rulesCount,"optimizeForSpeed cannot be when rules have already been inserted"),this.flush(),this._optimizeForSpeed=e,this.inject()},t.isOptimizeForSpeed=function(){return this._optimizeForSpeed},t.inject=function(){var e=this;l(!this._injected,"sheet already injected"),this._injected=!0,this._serverSheet={cssRules:[],insertRule:function(t,r){return"number"==typeof r?e._serverSheet.cssRules[r]={cssText:t}:e._serverSheet.cssRules.push({cssText:t}),r},deleteRule:function(t){e._serverSheet.cssRules[t]=null}}},t.getSheetForTag=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]},t.getSheet=function(){return this.getSheetForTag(this._tags[this._tags.length-1])},t.insertRule=function(e,t){return l(o(e),"`insertRule` accepts only strings"),"number"!=typeof t&&(t=this._serverSheet.cssRules.length),this._serverSheet.insertRule(e,t),this._rulesCount++},t.replaceRule=function(e,t){this._optimizeForSpeed;var r=this._serverSheet;if(t.trim()||(t=this._deletedRulePlaceholder),!r.cssRules[e])return e;r.deleteRule(e);try{r.insertRule(t,e)}catch(n){s||console.warn("StyleSheet: illegal rule: \n\n"+t+"\n\nSee https://stackoverflow.com/q/20007992 for more info"),r.insertRule(this._deletedRulePlaceholder,e)}return e},t.deleteRule=function(e){this._serverSheet.deleteRule(e)},t.flush=function(){this._injected=!1,this._rulesCount=0,this._serverSheet.cssRules=[]},t.cssRules=function(){return this._serverSheet.cssRules},t.makeStyleTag=function(e,t,r){t&&l(o(t),"makeStyleTag accepts only strings as second parameter");var n=document.createElement("style");this._nonce&&n.setAttribute("nonce",this._nonce),n.type="text/css",n.setAttribute("data-"+e,""),t&&n.appendChild(document.createTextNode(t));var a=document.head||document.getElementsByTagName("head")[0];return r?a.insertBefore(n,r):a.appendChild(n),n},function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(e.prototype,[{key:"length",get:function(){return this._rulesCount}}]),e}();function l(e,t){if(!e)throw Error("StyleSheet: "+t+".")}var u=function(e){for(var t=5381,r=e.length;r;)t=33*t^e.charCodeAt(--r);return t>>>0},c={};function d(e,t){if(!t)return"jsx-"+e;var r=String(t),n=e+r;return c[n]||(c[n]="jsx-"+u(e+"-"+r)),c[n]}function p(e,t){var r=e+(t=t.replace(/\/style/gi,"\\/style"));return c[r]||(c[r]=t.replace(/__jsx-style-dynamic-selector/g,e)),c[r]}var f=n.createContext(null);f.displayName="StyleSheetContext",a.default.useInsertionEffect||a.default.useLayoutEffect;var m=void 0;function h(e){var t=m||n.useContext(f);return t&&t.add(e),null}h.dynamic=function(e){return e.map(function(e){return d(e[0],e[1])}).join(" ")},t.style=h},77626:(e,t,r)=>{"use strict";e.exports=r(51596).style},47463:(e,t,r)=>{"use strict";r.d(t,{Z:()=>u});var n=r(6005),a=r.n(n);let s={randomUUID:a().randomUUID},o=new Uint8Array(256),i=o.length,l=[];for(let e=0;e<256;++e)l.push((e+256).toString(16).slice(1));let u=function(e,t,r){if(s.randomUUID&&!t&&!e)return s.randomUUID();let n=(e=e||{}).random||(e.rng||function(){return i>o.length-16&&(a().randomFillSync(o),i=0),o.slice(i,i+=16)})();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){r=r||0;for(let e=0;e<16;++e)t[r+e]=n[e];return t}return function(e,t=0){return(l[e[t+0]]+l[e[t+1]]+l[e[t+2]]+l[e[t+3]]+"-"+l[e[t+4]]+l[e[t+5]]+"-"+l[e[t+6]]+l[e[t+7]]+"-"+l[e[t+8]]+l[e[t+9]]+"-"+l[e[t+10]]+l[e[t+11]]+l[e[t+12]]+l[e[t+13]]+l[e[t+14]]+l[e[t+15]]).toLowerCase()}(n)}},76648:(e,t,r)=>{"use strict";r.d(t,{c:()=>f});var n=r(65194),a=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,a,s=r.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(n=s.next()).done;)o.push(n.value)}catch(e){a={error:e}}finally{try{n&&!n.done&&(r=s.return)&&r.call(s)}finally{if(a)throw a.error}}return o},s=function(e,t,r){if(r||2==arguments.length)for(var n,a=0,s=t.length;a<s;a++)!n&&a in t||(n||(n=Array.prototype.slice.call(t,0,a)),n[a]=t[a]);return e.concat(n||Array.prototype.slice.call(t))},o=function(){function e(){}return e.prototype.active=function(){return n.I},e.prototype.with=function(e,t,r){for(var n=[],o=3;o<arguments.length;o++)n[o-3]=arguments[o];return t.call.apply(t,s([r],a(n),!1))},e.prototype.bind=function(e,t){return t},e.prototype.enable=function(){return this},e.prototype.disable=function(){return this},e}(),i=r(11359),l=r(39250),u=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,a,s=r.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(n=s.next()).done;)o.push(n.value)}catch(e){a={error:e}}finally{try{n&&!n.done&&(r=s.return)&&r.call(s)}finally{if(a)throw a.error}}return o},c=function(e,t,r){if(r||2==arguments.length)for(var n,a=0,s=t.length;a<s;a++)!n&&a in t||(n||(n=Array.prototype.slice.call(t,0,a)),n[a]=t[a]);return e.concat(n||Array.prototype.slice.call(t))},d="context",p=new o,f=function(){function e(){}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalContextManager=function(e){return(0,i.TG)(d,e,l.G.instance())},e.prototype.active=function(){return this._getContextManager().active()},e.prototype.with=function(e,t,r){for(var n,a=[],s=3;s<arguments.length;s++)a[s-3]=arguments[s];return(n=this._getContextManager()).with.apply(n,c([e,t,r],u(a),!1))},e.prototype.bind=function(e,t){return this._getContextManager().bind(e,t)},e.prototype._getContextManager=function(){return(0,i.Rd)(d)||p},e.prototype.disable=function(){this._getContextManager().disable(),(0,i.J_)(d,l.G.instance())},e}()},39250:(e,t,r)=>{"use strict";r.d(t,{G:()=>d});var n=r(11359),a=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,a,s=r.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(n=s.next()).done;)o.push(n.value)}catch(e){a={error:e}}finally{try{n&&!n.done&&(r=s.return)&&r.call(s)}finally{if(a)throw a.error}}return o},s=function(e,t,r){if(r||2==arguments.length)for(var n,a=0,s=t.length;a<s;a++)!n&&a in t||(n||(n=Array.prototype.slice.call(t,0,a)),n[a]=t[a]);return e.concat(n||Array.prototype.slice.call(t))},o=function(){function e(e){this._namespace=e.namespace||"DiagComponentLogger"}return e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return i("debug",this._namespace,e)},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return i("error",this._namespace,e)},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return i("info",this._namespace,e)},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return i("warn",this._namespace,e)},e.prototype.verbose=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return i("verbose",this._namespace,e)},e}();function i(e,t,r){var o=(0,n.Rd)("diag");if(o)return r.unshift(t),o[e].apply(o,s([],a(r),!1))}var l=r(94385),u=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,a,s=r.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(n=s.next()).done;)o.push(n.value)}catch(e){a={error:e}}finally{try{n&&!n.done&&(r=s.return)&&r.call(s)}finally{if(a)throw a.error}}return o},c=function(e,t,r){if(r||2==arguments.length)for(var n,a=0,s=t.length;a<s;a++)!n&&a in t||(n||(n=Array.prototype.slice.call(t,0,a)),n[a]=t[a]);return e.concat(n||Array.prototype.slice.call(t))},d=function(){function e(){function e(e){return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var a=(0,n.Rd)("diag");if(a)return a[e].apply(a,c([],u(t),!1))}}var t=this;t.setLogger=function(e,r){if(void 0===r&&(r={logLevel:l.n.INFO}),e===t){var a,s,o,i=Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return t.error(null!==(a=i.stack)&&void 0!==a?a:i.message),!1}"number"==typeof r&&(r={logLevel:r});var u=(0,n.Rd)("diag"),c=function(e,t){function r(r,n){var a=t[r];return"function"==typeof a&&e>=n?a.bind(t):function(){}}return e<l.n.NONE?e=l.n.NONE:e>l.n.ALL&&(e=l.n.ALL),t=t||{},{error:r("error",l.n.ERROR),warn:r("warn",l.n.WARN),info:r("info",l.n.INFO),debug:r("debug",l.n.DEBUG),verbose:r("verbose",l.n.VERBOSE)}}(null!==(s=r.logLevel)&&void 0!==s?s:l.n.INFO,e);if(u&&!r.suppressOverrideMessage){var d=null!==(o=Error().stack)&&void 0!==o?o:"<failed to generate stacktrace>";u.warn("Current logger will be overwritten from "+d),c.warn("Current logger will overwrite one already registered from "+d)}return(0,n.TG)("diag",c,t,!0)},t.disable=function(){(0,n.J_)("diag",t)},t.createComponentLogger=function(e){return new o(e)},t.verbose=e("verbose"),t.debug=e("debug"),t.info=e("info"),t.warn=e("warn"),t.error=e("error")}return e.instance=function(){return this._instance||(this._instance=new e),this._instance},e}()},65194:(e,t,r)=>{"use strict";function n(e){return Symbol.for(e)}r.d(t,{I:()=>a,Y:()=>n});var a=new function e(t){var r=this;r._currentContext=t?new Map(t):new Map,r.getValue=function(e){return r._currentContext.get(e)},r.setValue=function(t,n){var a=new e(r._currentContext);return a._currentContext.set(t,n),a},r.deleteValue=function(t){var n=new e(r._currentContext);return n._currentContext.delete(t),n}}},94385:(e,t,r)=>{"use strict";var n;r.d(t,{n:()=>n}),function(e){e[e.NONE=0]="NONE",e[e.ERROR=30]="ERROR",e[e.WARN=50]="WARN",e[e.INFO=60]="INFO",e[e.DEBUG=70]="DEBUG",e[e.VERBOSE=80]="VERBOSE",e[e.ALL=9999]="ALL"}(n||(n={}))},99361:(e,t,r)=>{"use strict";r.r(t),r.d(t,{DiagConsoleLogger:()=>g,DiagLogLevel:()=>y.n,INVALID_SPANID:()=>X.fQ,INVALID_SPAN_CONTEXT:()=>X.Rr,INVALID_TRACEID:()=>X.AE,ProxyTracer:()=>Z.T,ProxyTracerProvider:()=>F.K,ROOT_CONTEXT:()=>m.I,SamplingDecision:()=>a,SpanKind:()=>s,SpanStatusCode:()=>B.Q,TraceFlags:()=>V.r,ValueType:()=>n,baggageEntryMetadataFromString:()=>f,context:()=>Q,createContextKey:()=>m.Y,createNoopMeter:()=>D,createTraceState:()=>H,default:()=>eh,defaultTextMapGetter:()=>z,defaultTextMapSetter:()=>$,diag:()=>ee,isSpanContextValid:()=>W.BM,isValidSpanId:()=>W.Lc,isValidTraceId:()=>W.jN,metrics:()=>ea,propagation:()=>ef,trace:()=>em.g});var n,a,s,o=r(39250),i=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,a,s=r.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(n=s.next()).done;)o.push(n.value)}catch(e){a={error:e}}finally{try{n&&!n.done&&(r=s.return)&&r.call(s)}finally{if(a)throw a.error}}return o},l=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},u=function(){function e(e){this._entries=e?new Map(e):new Map}return e.prototype.getEntry=function(e){var t=this._entries.get(e);if(t)return Object.assign({},t)},e.prototype.getAllEntries=function(){return Array.from(this._entries.entries()).map(function(e){var t=i(e,2);return[t[0],t[1]]})},e.prototype.setEntry=function(t,r){var n=new e(this._entries);return n._entries.set(t,r),n},e.prototype.removeEntry=function(t){var r=new e(this._entries);return r._entries.delete(t),r},e.prototype.removeEntries=function(){for(var t,r,n=[],a=0;a<arguments.length;a++)n[a]=arguments[a];var s=new e(this._entries);try{for(var o=l(n),i=o.next();!i.done;i=o.next()){var u=i.value;s._entries.delete(u)}}catch(e){t={error:e}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}return s},e.prototype.clear=function(){return new e},e}(),c=Symbol("BaggageEntryMetadata"),d=o.G.instance();function p(e){return void 0===e&&(e={}),new u(new Map(Object.entries(e)))}function f(e){return"string"!=typeof e&&(d.error("Cannot create baggage metadata from unknown type: "+typeof e),e=""),{__TYPE__:c,toString:function(){return e}}}var m=r(65194),h=[{n:"error",c:"error"},{n:"warn",c:"warn"},{n:"info",c:"info"},{n:"debug",c:"debug"},{n:"verbose",c:"trace"}],g=function(){for(var e=0;e<h.length;e++)this[h[e].n]=function(e){return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];if(console){var n=console[e];if("function"!=typeof n&&(n=console.log),"function"==typeof n)return n.apply(console,t)}}}(h[e].c)},y=r(94385),v=function(){var e=function(t,r){return(e=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),_=function(){function e(){}return e.prototype.createGauge=function(e,t){return C},e.prototype.createHistogram=function(e,t){return R},e.prototype.createCounter=function(e,t){return I},e.prototype.createUpDownCounter=function(e,t){return P},e.prototype.createObservableGauge=function(e,t){return j},e.prototype.createObservableCounter=function(e,t){return M},e.prototype.createObservableUpDownCounter=function(e,t){return L},e.prototype.addBatchObservableCallback=function(e,t){},e.prototype.removeBatchObservableCallback=function(e){},e}(),b=function(){},S=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return v(t,e),t.prototype.add=function(e,t){},t}(b),w=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return v(t,e),t.prototype.add=function(e,t){},t}(b),x=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return v(t,e),t.prototype.record=function(e,t){},t}(b),T=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return v(t,e),t.prototype.record=function(e,t){},t}(b),O=function(){function e(){}return e.prototype.addCallback=function(e){},e.prototype.removeCallback=function(e){},e}(),E=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return v(t,e),t}(O),N=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return v(t,e),t}(O),k=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return v(t,e),t}(O),A=new _,I=new S,C=new x,R=new T,P=new w,M=new E,j=new N,L=new k;function D(){return A}!function(e){e[e.INT=0]="INT",e[e.DOUBLE=1]="DOUBLE"}(n||(n={}));var z={get:function(e,t){if(null!=e)return e[t]},keys:function(e){return null==e?[]:Object.keys(e)}},$={set:function(e,t,r){null!=e&&(e[t]=r)}},Z=r(81327),F=r(73592);(function(e){e[e.NOT_RECORD=0]="NOT_RECORD",e[e.RECORD=1]="RECORD",e[e.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"})(a||(a={})),function(e){e[e.INTERNAL=0]="INTERNAL",e[e.SERVER=1]="SERVER",e[e.CLIENT=2]="CLIENT",e[e.PRODUCER=3]="PRODUCER",e[e.CONSUMER=4]="CONSUMER"}(s||(s={}));var B=r(73701),V=r(95780),U="[_0-9a-z-*/]",q=RegExp("^(?:[a-z]"+U+"{0,255}|"+("[a-z0-9]"+U)+"{0,240}@[a-z]"+U+"{0,13})$"),G=/^[ -~]{0,255}[!-~]$/,J=/,|=/,K=function(){function e(e){this._internalState=new Map,e&&this._parse(e)}return e.prototype.set=function(e,t){var r=this._clone();return r._internalState.has(e)&&r._internalState.delete(e),r._internalState.set(e,t),r},e.prototype.unset=function(e){var t=this._clone();return t._internalState.delete(e),t},e.prototype.get=function(e){return this._internalState.get(e)},e.prototype.serialize=function(){var e=this;return this._keys().reduce(function(t,r){return t.push(r+"="+e.get(r)),t},[]).join(",")},e.prototype._parse=function(e){!(e.length>512)&&(this._internalState=e.split(",").reverse().reduce(function(e,t){var r=t.trim(),n=r.indexOf("=");if(-1!==n){var a=r.slice(0,n),s=r.slice(n+1,t.length);q.test(a)&&G.test(s)&&!J.test(s)&&e.set(a,s)}return e},new Map),this._internalState.size>32&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,32))))},e.prototype._keys=function(){return Array.from(this._internalState.keys()).reverse()},e.prototype._clone=function(){var t=new e;return t._internalState=new Map(this._internalState),t},e}();function H(e){return new K(e)}var W=r(25004),X=r(54556),Y=r(76648),Q=Y.c.getInstance(),ee=o.G.instance(),et=new(function(){function e(){}return e.prototype.getMeter=function(e,t,r){return A},e}()),er=r(11359),en="metrics",ea=(function(){function e(){}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalMeterProvider=function(e){return(0,er.TG)(en,e,o.G.instance())},e.prototype.getMeterProvider=function(){return(0,er.Rd)(en)||et},e.prototype.getMeter=function(e,t,r){return this.getMeterProvider().getMeter(e,t,r)},e.prototype.disable=function(){(0,er.J_)(en,o.G.instance())},e})().getInstance(),es=function(){function e(){}return e.prototype.inject=function(e,t){},e.prototype.extract=function(e,t){return e},e.prototype.fields=function(){return[]},e}(),eo=(0,m.Y)("OpenTelemetry Baggage Key");function ei(e){return e.getValue(eo)||void 0}function el(){return ei(Y.c.getInstance().active())}function eu(e,t){return e.setValue(eo,t)}function ec(e){return e.deleteValue(eo)}var ed="propagation",ep=new es,ef=(function(){function e(){this.createBaggage=p,this.getBaggage=ei,this.getActiveBaggage=el,this.setBaggage=eu,this.deleteBaggage=ec}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalPropagator=function(e){return(0,er.TG)(ed,e,o.G.instance())},e.prototype.inject=function(e,t,r){return void 0===r&&(r=$),this._getGlobalPropagator().inject(e,t,r)},e.prototype.extract=function(e,t,r){return void 0===r&&(r=z),this._getGlobalPropagator().extract(e,t,r)},e.prototype.fields=function(){return this._getGlobalPropagator().fields()},e.prototype.disable=function(){(0,er.J_)(ed,o.G.instance())},e.prototype._getGlobalPropagator=function(){return(0,er.Rd)(ed)||ep},e})().getInstance(),em=r(9974);let eh={context:Q,diag:ee,metrics:ea,propagation:ef,trace:em.g}},11359:(e,t,r)=>{"use strict";r.d(t,{Rd:()=>u,TG:()=>l,J_:()=>c});var n="object"==typeof globalThis?globalThis:global,a="1.9.0",s=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/,o=function(e){var t=new Set([e]),r=new Set,n=e.match(s);if(!n)return function(){return!1};var a={major:+n[1],minor:+n[2],patch:+n[3],prerelease:n[4]};if(null!=a.prerelease)return function(t){return t===e};function o(e){return r.add(e),!1}return function(e){if(t.has(e))return!0;if(r.has(e))return!1;var n=e.match(s);if(!n)return o(e);var i={major:+n[1],minor:+n[2],patch:+n[3],prerelease:n[4]};return null!=i.prerelease||a.major!==i.major?o(e):0===a.major?a.minor===i.minor&&a.patch<=i.patch?(t.add(e),!0):o(e):a.minor<=i.minor?(t.add(e),!0):o(e)}}(a),i=Symbol.for("opentelemetry.js.api."+a.split(".")[0]);function l(e,t,r,s){void 0===s&&(s=!1);var o,l=n[i]=null!==(o=n[i])&&void 0!==o?o:{version:a};if(!s&&l[e]){var u=Error("@opentelemetry/api: Attempted duplicate registration of API: "+e);return r.error(u.stack||u.message),!1}if(l.version!==a){var u=Error("@opentelemetry/api: Registration of version v"+l.version+" for "+e+" does not match previously registered API v"+a);return r.error(u.stack||u.message),!1}return l[e]=t,r.debug("@opentelemetry/api: Registered a global for "+e+" v"+a+"."),!0}function u(e){var t,r,a=null===(t=n[i])||void 0===t?void 0:t.version;if(a&&o(a))return null===(r=n[i])||void 0===r?void 0:r[e]}function c(e,t){t.debug("@opentelemetry/api: Unregistering a global for "+e+" v"+a+".");var r=n[i];r&&delete r[e]}},9974:(e,t,r)=>{"use strict";r.d(t,{g:()=>u});var n=r(11359),a=r(73592),s=r(25004),o=r(22421),i=r(39250),l="trace",u=(function(){function e(){this._proxyTracerProvider=new a.K,this.wrapSpanContext=s.kw,this.isSpanContextValid=s.BM,this.deleteSpan=o.TW,this.getSpan=o.Br,this.getActiveSpan=o.HN,this.getSpanContext=o.A3,this.setSpan=o.WZ,this.setSpanContext=o.G3}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalTracerProvider=function(e){var t=(0,n.TG)(l,this._proxyTracerProvider,i.G.instance());return t&&this._proxyTracerProvider.setDelegate(e),t},e.prototype.getTracerProvider=function(){return(0,n.Rd)(l)||this._proxyTracerProvider},e.prototype.getTracer=function(e,t){return this.getTracerProvider().getTracer(e,t)},e.prototype.disable=function(){(0,n.J_)(l,i.G.instance()),this._proxyTracerProvider=new a.K},e})().getInstance()},1546:(e,t,r)=>{"use strict";r.d(t,{s:()=>a});var n=r(54556),a=function(){function e(e){void 0===e&&(e=n.Rr),this._spanContext=e}return e.prototype.spanContext=function(){return this._spanContext},e.prototype.setAttribute=function(e,t){return this},e.prototype.setAttributes=function(e){return this},e.prototype.addEvent=function(e,t){return this},e.prototype.addLink=function(e){return this},e.prototype.addLinks=function(e){return this},e.prototype.setStatus=function(e){return this},e.prototype.updateName=function(e){return this},e.prototype.end=function(e){},e.prototype.isRecording=function(){return!1},e.prototype.recordException=function(e,t){},e}()},70730:(e,t,r)=>{"use strict";r.d(t,{E:()=>l});var n=r(76648),a=r(22421),s=r(1546),o=r(25004),i=n.c.getInstance(),l=function(){function e(){}return e.prototype.startSpan=function(e,t,r){if(void 0===r&&(r=i.active()),null==t?void 0:t.root)return new s.s;var n=r&&(0,a.A3)(r);return"object"==typeof n&&"string"==typeof n.spanId&&"string"==typeof n.traceId&&"number"==typeof n.traceFlags&&(0,o.BM)(n)?new s.s(n):new s.s},e.prototype.startActiveSpan=function(e,t,r,n){if(!(arguments.length<2)){2==arguments.length?l=t:3==arguments.length?(s=t,l=r):(s=t,o=r,l=n);var s,o,l,u=null!=o?o:i.active(),c=this.startSpan(e,s,u),d=(0,a.WZ)(u,c);return i.with(d,l,void 0,c)}},e}()},81327:(e,t,r)=>{"use strict";r.d(t,{T:()=>a});var n=new(r(70730)).E,a=function(){function e(e,t,r,n){this._provider=e,this.name=t,this.version=r,this.options=n}return e.prototype.startSpan=function(e,t,r){return this._getTracer().startSpan(e,t,r)},e.prototype.startActiveSpan=function(e,t,r,n){var a=this._getTracer();return Reflect.apply(a.startActiveSpan,a,arguments)},e.prototype._getTracer=function(){if(this._delegate)return this._delegate;var e=this._provider.getDelegateTracer(this.name,this.version,this.options);return e?(this._delegate=e,this._delegate):n},e}()},73592:(e,t,r)=>{"use strict";r.d(t,{K:()=>o});var n=r(81327),a=r(70730),s=new(function(){function e(){}return e.prototype.getTracer=function(e,t,r){return new a.E},e}()),o=function(){function e(){}return e.prototype.getTracer=function(e,t,r){var a;return null!==(a=this.getDelegateTracer(e,t,r))&&void 0!==a?a:new n.T(this,e,t,r)},e.prototype.getDelegate=function(){var e;return null!==(e=this._delegate)&&void 0!==e?e:s},e.prototype.setDelegate=function(e){this._delegate=e},e.prototype.getDelegateTracer=function(e,t,r){var n;return null===(n=this._delegate)||void 0===n?void 0:n.getTracer(e,t,r)},e}()},22421:(e,t,r)=>{"use strict";r.d(t,{A3:()=>p,Br:()=>i,G3:()=>d,HN:()=>l,TW:()=>c,WZ:()=>u});var n=r(65194),a=r(1546),s=r(76648),o=(0,n.Y)("OpenTelemetry Context Key SPAN");function i(e){return e.getValue(o)||void 0}function l(){return i(s.c.getInstance().active())}function u(e,t){return e.setValue(o,t)}function c(e){return e.deleteValue(o)}function d(e,t){return u(e,new a.s(t))}function p(e){var t;return null===(t=i(e))||void 0===t?void 0:t.spanContext()}},54556:(e,t,r)=>{"use strict";r.d(t,{AE:()=>s,Rr:()=>o,fQ:()=>a});var n=r(95780),a="0000000000000000",s="00000000000000000000000000000000",o={traceId:s,spanId:a,traceFlags:n.r.NONE}},25004:(e,t,r)=>{"use strict";r.d(t,{BM:()=>u,Lc:()=>l,jN:()=>i,kw:()=>c});var n=r(54556),a=r(1546),s=/^([0-9a-f]{32})$/i,o=/^[0-9a-f]{16}$/i;function i(e){return s.test(e)&&e!==n.AE}function l(e){return o.test(e)&&e!==n.fQ}function u(e){return i(e.traceId)&&l(e.spanId)}function c(e){return new a.s(e)}},73701:(e,t,r)=>{"use strict";var n;r.d(t,{Q:()=>n}),function(e){e[e.UNSET=0]="UNSET",e[e.OK=1]="OK",e[e.ERROR=2]="ERROR"}(n||(n={}))},95780:(e,t,r)=>{"use strict";var n;r.d(t,{r:()=>n}),function(e){e[e.NONE=0]="NONE",e[e.SAMPLED=1]="SAMPLED"}(n||(n={}))},85723:(e,t)=>{"use strict";function r(e){for(let t=0;t<e.length;t++){let r=e[t];if("function"!=typeof r)throw Error(`A "use server" file can only export async functions, found ${typeof r}.
Read more: https://nextjs.org/docs/messages/invalid-use-server-value`)}}Object.defineProperty(t,"h",{enumerable:!0,get:function(){return r}})},27745:(e,t,r)=>{"use strict";Object.defineProperty(t,"j",{enumerable:!0,get:function(){return a}});let n=r(96012);function a(e,t){return(0,n.registerServerReference)(t,e,null)}},98601:e=>{(()=>{"use strict";var t={491:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ContextAPI=void 0;let n=r(223),a=r(172),s=r(930),o="context",i=new n.NoopContextManager;class l{constructor(){}static getInstance(){return this._instance||(this._instance=new l),this._instance}setGlobalContextManager(e){return(0,a.registerGlobal)(o,e,s.DiagAPI.instance())}active(){return this._getContextManager().active()}with(e,t,r,...n){return this._getContextManager().with(e,t,r,...n)}bind(e,t){return this._getContextManager().bind(e,t)}_getContextManager(){return(0,a.getGlobal)(o)||i}disable(){this._getContextManager().disable(),(0,a.unregisterGlobal)(o,s.DiagAPI.instance())}}t.ContextAPI=l},930:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DiagAPI=void 0;let n=r(56),a=r(912),s=r(957),o=r(172);class i{constructor(){function e(e){return function(...t){let r=(0,o.getGlobal)("diag");if(r)return r[e](...t)}}let t=this;t.setLogger=(e,r={logLevel:s.DiagLogLevel.INFO})=>{var n,i,l;if(e===t){let e=Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return t.error(null!==(n=e.stack)&&void 0!==n?n:e.message),!1}"number"==typeof r&&(r={logLevel:r});let u=(0,o.getGlobal)("diag"),c=(0,a.createLogLevelDiagLogger)(null!==(i=r.logLevel)&&void 0!==i?i:s.DiagLogLevel.INFO,e);if(u&&!r.suppressOverrideMessage){let e=null!==(l=Error().stack)&&void 0!==l?l:"<failed to generate stacktrace>";u.warn(`Current logger will be overwritten from ${e}`),c.warn(`Current logger will overwrite one already registered from ${e}`)}return(0,o.registerGlobal)("diag",c,t,!0)},t.disable=()=>{(0,o.unregisterGlobal)("diag",t)},t.createComponentLogger=e=>new n.DiagComponentLogger(e),t.verbose=e("verbose"),t.debug=e("debug"),t.info=e("info"),t.warn=e("warn"),t.error=e("error")}static instance(){return this._instance||(this._instance=new i),this._instance}}t.DiagAPI=i},653:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.MetricsAPI=void 0;let n=r(660),a=r(172),s=r(930),o="metrics";class i{constructor(){}static getInstance(){return this._instance||(this._instance=new i),this._instance}setGlobalMeterProvider(e){return(0,a.registerGlobal)(o,e,s.DiagAPI.instance())}getMeterProvider(){return(0,a.getGlobal)(o)||n.NOOP_METER_PROVIDER}getMeter(e,t,r){return this.getMeterProvider().getMeter(e,t,r)}disable(){(0,a.unregisterGlobal)(o,s.DiagAPI.instance())}}t.MetricsAPI=i},181:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PropagationAPI=void 0;let n=r(172),a=r(874),s=r(194),o=r(277),i=r(369),l=r(930),u="propagation",c=new a.NoopTextMapPropagator;class d{constructor(){this.createBaggage=i.createBaggage,this.getBaggage=o.getBaggage,this.getActiveBaggage=o.getActiveBaggage,this.setBaggage=o.setBaggage,this.deleteBaggage=o.deleteBaggage}static getInstance(){return this._instance||(this._instance=new d),this._instance}setGlobalPropagator(e){return(0,n.registerGlobal)(u,e,l.DiagAPI.instance())}inject(e,t,r=s.defaultTextMapSetter){return this._getGlobalPropagator().inject(e,t,r)}extract(e,t,r=s.defaultTextMapGetter){return this._getGlobalPropagator().extract(e,t,r)}fields(){return this._getGlobalPropagator().fields()}disable(){(0,n.unregisterGlobal)(u,l.DiagAPI.instance())}_getGlobalPropagator(){return(0,n.getGlobal)(u)||c}}t.PropagationAPI=d},997:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TraceAPI=void 0;let n=r(172),a=r(846),s=r(139),o=r(607),i=r(930),l="trace";class u{constructor(){this._proxyTracerProvider=new a.ProxyTracerProvider,this.wrapSpanContext=s.wrapSpanContext,this.isSpanContextValid=s.isSpanContextValid,this.deleteSpan=o.deleteSpan,this.getSpan=o.getSpan,this.getActiveSpan=o.getActiveSpan,this.getSpanContext=o.getSpanContext,this.setSpan=o.setSpan,this.setSpanContext=o.setSpanContext}static getInstance(){return this._instance||(this._instance=new u),this._instance}setGlobalTracerProvider(e){let t=(0,n.registerGlobal)(l,this._proxyTracerProvider,i.DiagAPI.instance());return t&&this._proxyTracerProvider.setDelegate(e),t}getTracerProvider(){return(0,n.getGlobal)(l)||this._proxyTracerProvider}getTracer(e,t){return this.getTracerProvider().getTracer(e,t)}disable(){(0,n.unregisterGlobal)(l,i.DiagAPI.instance()),this._proxyTracerProvider=new a.ProxyTracerProvider}}t.TraceAPI=u},277:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.deleteBaggage=t.setBaggage=t.getActiveBaggage=t.getBaggage=void 0;let n=r(491),a=(0,r(780).createContextKey)("OpenTelemetry Baggage Key");function s(e){return e.getValue(a)||void 0}t.getBaggage=s,t.getActiveBaggage=function(){return s(n.ContextAPI.getInstance().active())},t.setBaggage=function(e,t){return e.setValue(a,t)},t.deleteBaggage=function(e){return e.deleteValue(a)}},993:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BaggageImpl=void 0;class r{constructor(e){this._entries=e?new Map(e):new Map}getEntry(e){let t=this._entries.get(e);if(t)return Object.assign({},t)}getAllEntries(){return Array.from(this._entries.entries()).map(([e,t])=>[e,t])}setEntry(e,t){let n=new r(this._entries);return n._entries.set(e,t),n}removeEntry(e){let t=new r(this._entries);return t._entries.delete(e),t}removeEntries(...e){let t=new r(this._entries);for(let r of e)t._entries.delete(r);return t}clear(){return new r}}t.BaggageImpl=r},830:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.baggageEntryMetadataSymbol=void 0,t.baggageEntryMetadataSymbol=Symbol("BaggageEntryMetadata")},369:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.baggageEntryMetadataFromString=t.createBaggage=void 0;let n=r(930),a=r(993),s=r(830),o=n.DiagAPI.instance();t.createBaggage=function(e={}){return new a.BaggageImpl(new Map(Object.entries(e)))},t.baggageEntryMetadataFromString=function(e){return"string"!=typeof e&&(o.error(`Cannot create baggage metadata from unknown type: ${typeof e}`),e=""),{__TYPE__:s.baggageEntryMetadataSymbol,toString:()=>e}}},67:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.context=void 0;let n=r(491);t.context=n.ContextAPI.getInstance()},223:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NoopContextManager=void 0;let n=r(780);class a{active(){return n.ROOT_CONTEXT}with(e,t,r,...n){return t.call(r,...n)}bind(e,t){return t}enable(){return this}disable(){return this}}t.NoopContextManager=a},780:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ROOT_CONTEXT=t.createContextKey=void 0,t.createContextKey=function(e){return Symbol.for(e)};class r{constructor(e){let t=this;t._currentContext=e?new Map(e):new Map,t.getValue=e=>t._currentContext.get(e),t.setValue=(e,n)=>{let a=new r(t._currentContext);return a._currentContext.set(e,n),a},t.deleteValue=e=>{let n=new r(t._currentContext);return n._currentContext.delete(e),n}}}t.ROOT_CONTEXT=new r},506:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.diag=void 0;let n=r(930);t.diag=n.DiagAPI.instance()},56:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DiagComponentLogger=void 0;let n=r(172);class a{constructor(e){this._namespace=e.namespace||"DiagComponentLogger"}debug(...e){return s("debug",this._namespace,e)}error(...e){return s("error",this._namespace,e)}info(...e){return s("info",this._namespace,e)}warn(...e){return s("warn",this._namespace,e)}verbose(...e){return s("verbose",this._namespace,e)}}function s(e,t,r){let a=(0,n.getGlobal)("diag");if(a)return r.unshift(t),a[e](...r)}t.DiagComponentLogger=a},972:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DiagConsoleLogger=void 0;let r=[{n:"error",c:"error"},{n:"warn",c:"warn"},{n:"info",c:"info"},{n:"debug",c:"debug"},{n:"verbose",c:"trace"}];class n{constructor(){for(let e=0;e<r.length;e++)this[r[e].n]=function(e){return function(...t){if(console){let r=console[e];if("function"!=typeof r&&(r=console.log),"function"==typeof r)return r.apply(console,t)}}}(r[e].c)}}t.DiagConsoleLogger=n},912:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createLogLevelDiagLogger=void 0;let n=r(957);t.createLogLevelDiagLogger=function(e,t){function r(r,n){let a=t[r];return"function"==typeof a&&e>=n?a.bind(t):function(){}}return e<n.DiagLogLevel.NONE?e=n.DiagLogLevel.NONE:e>n.DiagLogLevel.ALL&&(e=n.DiagLogLevel.ALL),t=t||{},{error:r("error",n.DiagLogLevel.ERROR),warn:r("warn",n.DiagLogLevel.WARN),info:r("info",n.DiagLogLevel.INFO),debug:r("debug",n.DiagLogLevel.DEBUG),verbose:r("verbose",n.DiagLogLevel.VERBOSE)}}},957:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DiagLogLevel=void 0,function(e){e[e.NONE=0]="NONE",e[e.ERROR=30]="ERROR",e[e.WARN=50]="WARN",e[e.INFO=60]="INFO",e[e.DEBUG=70]="DEBUG",e[e.VERBOSE=80]="VERBOSE",e[e.ALL=9999]="ALL"}(t.DiagLogLevel||(t.DiagLogLevel={}))},172:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.unregisterGlobal=t.getGlobal=t.registerGlobal=void 0;let n=r(200),a=r(521),s=r(130),o=a.VERSION.split(".")[0],i=Symbol.for(`opentelemetry.js.api.${o}`),l=n._globalThis;t.registerGlobal=function(e,t,r,n=!1){var s;let o=l[i]=null!==(s=l[i])&&void 0!==s?s:{version:a.VERSION};if(!n&&o[e]){let t=Error(`@opentelemetry/api: Attempted duplicate registration of API: ${e}`);return r.error(t.stack||t.message),!1}if(o.version!==a.VERSION){let t=Error(`@opentelemetry/api: Registration of version v${o.version} for ${e} does not match previously registered API v${a.VERSION}`);return r.error(t.stack||t.message),!1}return o[e]=t,r.debug(`@opentelemetry/api: Registered a global for ${e} v${a.VERSION}.`),!0},t.getGlobal=function(e){var t,r;let n=null===(t=l[i])||void 0===t?void 0:t.version;if(n&&(0,s.isCompatible)(n))return null===(r=l[i])||void 0===r?void 0:r[e]},t.unregisterGlobal=function(e,t){t.debug(`@opentelemetry/api: Unregistering a global for ${e} v${a.VERSION}.`);let r=l[i];r&&delete r[e]}},130:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isCompatible=t._makeCompatibilityCheck=void 0;let n=r(521),a=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/;function s(e){let t=new Set([e]),r=new Set,n=e.match(a);if(!n)return()=>!1;let s={major:+n[1],minor:+n[2],patch:+n[3],prerelease:n[4]};if(null!=s.prerelease)return function(t){return t===e};function o(e){return r.add(e),!1}return function(e){if(t.has(e))return!0;if(r.has(e))return!1;let n=e.match(a);if(!n)return o(e);let i={major:+n[1],minor:+n[2],patch:+n[3],prerelease:n[4]};return null!=i.prerelease||s.major!==i.major?o(e):0===s.major?s.minor===i.minor&&s.patch<=i.patch?(t.add(e),!0):o(e):s.minor<=i.minor?(t.add(e),!0):o(e)}}t._makeCompatibilityCheck=s,t.isCompatible=s(n.VERSION)},886:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.metrics=void 0;let n=r(653);t.metrics=n.MetricsAPI.getInstance()},901:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ValueType=void 0,function(e){e[e.INT=0]="INT",e[e.DOUBLE=1]="DOUBLE"}(t.ValueType||(t.ValueType={}))},102:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createNoopMeter=t.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC=t.NOOP_OBSERVABLE_GAUGE_METRIC=t.NOOP_OBSERVABLE_COUNTER_METRIC=t.NOOP_UP_DOWN_COUNTER_METRIC=t.NOOP_HISTOGRAM_METRIC=t.NOOP_COUNTER_METRIC=t.NOOP_METER=t.NoopObservableUpDownCounterMetric=t.NoopObservableGaugeMetric=t.NoopObservableCounterMetric=t.NoopObservableMetric=t.NoopHistogramMetric=t.NoopUpDownCounterMetric=t.NoopCounterMetric=t.NoopMetric=t.NoopMeter=void 0;class r{constructor(){}createHistogram(e,r){return t.NOOP_HISTOGRAM_METRIC}createCounter(e,r){return t.NOOP_COUNTER_METRIC}createUpDownCounter(e,r){return t.NOOP_UP_DOWN_COUNTER_METRIC}createObservableGauge(e,r){return t.NOOP_OBSERVABLE_GAUGE_METRIC}createObservableCounter(e,r){return t.NOOP_OBSERVABLE_COUNTER_METRIC}createObservableUpDownCounter(e,r){return t.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC}addBatchObservableCallback(e,t){}removeBatchObservableCallback(e){}}t.NoopMeter=r;class n{}t.NoopMetric=n;class a extends n{add(e,t){}}t.NoopCounterMetric=a;class s extends n{add(e,t){}}t.NoopUpDownCounterMetric=s;class o extends n{record(e,t){}}t.NoopHistogramMetric=o;class i{addCallback(e){}removeCallback(e){}}t.NoopObservableMetric=i;class l extends i{}t.NoopObservableCounterMetric=l;class u extends i{}t.NoopObservableGaugeMetric=u;class c extends i{}t.NoopObservableUpDownCounterMetric=c,t.NOOP_METER=new r,t.NOOP_COUNTER_METRIC=new a,t.NOOP_HISTOGRAM_METRIC=new o,t.NOOP_UP_DOWN_COUNTER_METRIC=new s,t.NOOP_OBSERVABLE_COUNTER_METRIC=new l,t.NOOP_OBSERVABLE_GAUGE_METRIC=new u,t.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC=new c,t.createNoopMeter=function(){return t.NOOP_METER}},660:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NOOP_METER_PROVIDER=t.NoopMeterProvider=void 0;let n=r(102);class a{getMeter(e,t,r){return n.NOOP_METER}}t.NoopMeterProvider=a,t.NOOP_METER_PROVIDER=new a},200:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),a(r(46),t)},651:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t._globalThis=void 0,t._globalThis="object"==typeof globalThis?globalThis:global},46:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),a(r(651),t)},939:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.propagation=void 0;let n=r(181);t.propagation=n.PropagationAPI.getInstance()},874:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NoopTextMapPropagator=void 0;class r{inject(e,t){}extract(e,t){return e}fields(){return[]}}t.NoopTextMapPropagator=r},194:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.defaultTextMapSetter=t.defaultTextMapGetter=void 0,t.defaultTextMapGetter={get(e,t){if(null!=e)return e[t]},keys:e=>null==e?[]:Object.keys(e)},t.defaultTextMapSetter={set(e,t,r){null!=e&&(e[t]=r)}}},845:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.trace=void 0;let n=r(997);t.trace=n.TraceAPI.getInstance()},403:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NonRecordingSpan=void 0;let n=r(476);class a{constructor(e=n.INVALID_SPAN_CONTEXT){this._spanContext=e}spanContext(){return this._spanContext}setAttribute(e,t){return this}setAttributes(e){return this}addEvent(e,t){return this}setStatus(e){return this}updateName(e){return this}end(e){}isRecording(){return!1}recordException(e,t){}}t.NonRecordingSpan=a},614:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NoopTracer=void 0;let n=r(491),a=r(607),s=r(403),o=r(139),i=n.ContextAPI.getInstance();class l{startSpan(e,t,r=i.active()){if(null==t?void 0:t.root)return new s.NonRecordingSpan;let n=r&&(0,a.getSpanContext)(r);return"object"==typeof n&&"string"==typeof n.spanId&&"string"==typeof n.traceId&&"number"==typeof n.traceFlags&&(0,o.isSpanContextValid)(n)?new s.NonRecordingSpan(n):new s.NonRecordingSpan}startActiveSpan(e,t,r,n){let s,o,l;if(arguments.length<2)return;2==arguments.length?l=t:3==arguments.length?(s=t,l=r):(s=t,o=r,l=n);let u=null!=o?o:i.active(),c=this.startSpan(e,s,u),d=(0,a.setSpan)(u,c);return i.with(d,l,void 0,c)}}t.NoopTracer=l},124:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NoopTracerProvider=void 0;let n=r(614);class a{getTracer(e,t,r){return new n.NoopTracer}}t.NoopTracerProvider=a},125:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ProxyTracer=void 0;let n=new(r(614)).NoopTracer;class a{constructor(e,t,r,n){this._provider=e,this.name=t,this.version=r,this.options=n}startSpan(e,t,r){return this._getTracer().startSpan(e,t,r)}startActiveSpan(e,t,r,n){let a=this._getTracer();return Reflect.apply(a.startActiveSpan,a,arguments)}_getTracer(){if(this._delegate)return this._delegate;let e=this._provider.getDelegateTracer(this.name,this.version,this.options);return e?(this._delegate=e,this._delegate):n}}t.ProxyTracer=a},846:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ProxyTracerProvider=void 0;let n=r(125),a=new(r(124)).NoopTracerProvider;class s{getTracer(e,t,r){var a;return null!==(a=this.getDelegateTracer(e,t,r))&&void 0!==a?a:new n.ProxyTracer(this,e,t,r)}getDelegate(){var e;return null!==(e=this._delegate)&&void 0!==e?e:a}setDelegate(e){this._delegate=e}getDelegateTracer(e,t,r){var n;return null===(n=this._delegate)||void 0===n?void 0:n.getTracer(e,t,r)}}t.ProxyTracerProvider=s},996:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SamplingDecision=void 0,function(e){e[e.NOT_RECORD=0]="NOT_RECORD",e[e.RECORD=1]="RECORD",e[e.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"}(t.SamplingDecision||(t.SamplingDecision={}))},607:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getSpanContext=t.setSpanContext=t.deleteSpan=t.setSpan=t.getActiveSpan=t.getSpan=void 0;let n=r(780),a=r(403),s=r(491),o=(0,n.createContextKey)("OpenTelemetry Context Key SPAN");function i(e){return e.getValue(o)||void 0}function l(e,t){return e.setValue(o,t)}t.getSpan=i,t.getActiveSpan=function(){return i(s.ContextAPI.getInstance().active())},t.setSpan=l,t.deleteSpan=function(e){return e.deleteValue(o)},t.setSpanContext=function(e,t){return l(e,new a.NonRecordingSpan(t))},t.getSpanContext=function(e){var t;return null===(t=i(e))||void 0===t?void 0:t.spanContext()}},325:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TraceStateImpl=void 0;let n=r(564);class a{constructor(e){this._internalState=new Map,e&&this._parse(e)}set(e,t){let r=this._clone();return r._internalState.has(e)&&r._internalState.delete(e),r._internalState.set(e,t),r}unset(e){let t=this._clone();return t._internalState.delete(e),t}get(e){return this._internalState.get(e)}serialize(){return this._keys().reduce((e,t)=>(e.push(t+"="+this.get(t)),e),[]).join(",")}_parse(e){!(e.length>512)&&(this._internalState=e.split(",").reverse().reduce((e,t)=>{let r=t.trim(),a=r.indexOf("=");if(-1!==a){let s=r.slice(0,a),o=r.slice(a+1,t.length);(0,n.validateKey)(s)&&(0,n.validateValue)(o)&&e.set(s,o)}return e},new Map),this._internalState.size>32&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,32))))}_keys(){return Array.from(this._internalState.keys()).reverse()}_clone(){let e=new a;return e._internalState=new Map(this._internalState),e}}t.TraceStateImpl=a},564:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.validateValue=t.validateKey=void 0;let r="[_0-9a-z-*/]",n=`[a-z]${r}{0,255}`,a=`[a-z0-9]${r}{0,240}@[a-z]${r}{0,13}`,s=RegExp(`^(?:${n}|${a})$`),o=/^[ -~]{0,255}[!-~]$/,i=/,|=/;t.validateKey=function(e){return s.test(e)},t.validateValue=function(e){return o.test(e)&&!i.test(e)}},98:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createTraceState=void 0;let n=r(325);t.createTraceState=function(e){return new n.TraceStateImpl(e)}},476:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.INVALID_SPAN_CONTEXT=t.INVALID_TRACEID=t.INVALID_SPANID=void 0;let n=r(475);t.INVALID_SPANID="0000000000000000",t.INVALID_TRACEID="00000000000000000000000000000000",t.INVALID_SPAN_CONTEXT={traceId:t.INVALID_TRACEID,spanId:t.INVALID_SPANID,traceFlags:n.TraceFlags.NONE}},357:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SpanKind=void 0,function(e){e[e.INTERNAL=0]="INTERNAL",e[e.SERVER=1]="SERVER",e[e.CLIENT=2]="CLIENT",e[e.PRODUCER=3]="PRODUCER",e[e.CONSUMER=4]="CONSUMER"}(t.SpanKind||(t.SpanKind={}))},139:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.wrapSpanContext=t.isSpanContextValid=t.isValidSpanId=t.isValidTraceId=void 0;let n=r(476),a=r(403),s=/^([0-9a-f]{32})$/i,o=/^[0-9a-f]{16}$/i;function i(e){return s.test(e)&&e!==n.INVALID_TRACEID}function l(e){return o.test(e)&&e!==n.INVALID_SPANID}t.isValidTraceId=i,t.isValidSpanId=l,t.isSpanContextValid=function(e){return i(e.traceId)&&l(e.spanId)},t.wrapSpanContext=function(e){return new a.NonRecordingSpan(e)}},847:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SpanStatusCode=void 0,function(e){e[e.UNSET=0]="UNSET",e[e.OK=1]="OK",e[e.ERROR=2]="ERROR"}(t.SpanStatusCode||(t.SpanStatusCode={}))},475:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TraceFlags=void 0,function(e){e[e.NONE=0]="NONE",e[e.SAMPLED=1]="SAMPLED"}(t.TraceFlags||(t.TraceFlags={}))},521:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.VERSION=void 0,t.VERSION="1.6.0"}},r={};function n(e){var a=r[e];if(void 0!==a)return a.exports;var s=r[e]={exports:{}},o=!0;try{t[e].call(s.exports,s,s.exports,n),o=!1}finally{o&&delete r[e]}return s.exports}n.ab=__dirname+"/";var a={};(()=>{Object.defineProperty(a,"__esModule",{value:!0}),a.trace=a.propagation=a.metrics=a.diag=a.context=a.INVALID_SPAN_CONTEXT=a.INVALID_TRACEID=a.INVALID_SPANID=a.isValidSpanId=a.isValidTraceId=a.isSpanContextValid=a.createTraceState=a.TraceFlags=a.SpanStatusCode=a.SpanKind=a.SamplingDecision=a.ProxyTracerProvider=a.ProxyTracer=a.defaultTextMapSetter=a.defaultTextMapGetter=a.ValueType=a.createNoopMeter=a.DiagLogLevel=a.DiagConsoleLogger=a.ROOT_CONTEXT=a.createContextKey=a.baggageEntryMetadataFromString=void 0;var e=n(369);Object.defineProperty(a,"baggageEntryMetadataFromString",{enumerable:!0,get:function(){return e.baggageEntryMetadataFromString}});var t=n(780);Object.defineProperty(a,"createContextKey",{enumerable:!0,get:function(){return t.createContextKey}}),Object.defineProperty(a,"ROOT_CONTEXT",{enumerable:!0,get:function(){return t.ROOT_CONTEXT}});var r=n(972);Object.defineProperty(a,"DiagConsoleLogger",{enumerable:!0,get:function(){return r.DiagConsoleLogger}});var s=n(957);Object.defineProperty(a,"DiagLogLevel",{enumerable:!0,get:function(){return s.DiagLogLevel}});var o=n(102);Object.defineProperty(a,"createNoopMeter",{enumerable:!0,get:function(){return o.createNoopMeter}});var i=n(901);Object.defineProperty(a,"ValueType",{enumerable:!0,get:function(){return i.ValueType}});var l=n(194);Object.defineProperty(a,"defaultTextMapGetter",{enumerable:!0,get:function(){return l.defaultTextMapGetter}}),Object.defineProperty(a,"defaultTextMapSetter",{enumerable:!0,get:function(){return l.defaultTextMapSetter}});var u=n(125);Object.defineProperty(a,"ProxyTracer",{enumerable:!0,get:function(){return u.ProxyTracer}});var c=n(846);Object.defineProperty(a,"ProxyTracerProvider",{enumerable:!0,get:function(){return c.ProxyTracerProvider}});var d=n(996);Object.defineProperty(a,"SamplingDecision",{enumerable:!0,get:function(){return d.SamplingDecision}});var p=n(357);Object.defineProperty(a,"SpanKind",{enumerable:!0,get:function(){return p.SpanKind}});var f=n(847);Object.defineProperty(a,"SpanStatusCode",{enumerable:!0,get:function(){return f.SpanStatusCode}});var m=n(475);Object.defineProperty(a,"TraceFlags",{enumerable:!0,get:function(){return m.TraceFlags}});var h=n(98);Object.defineProperty(a,"createTraceState",{enumerable:!0,get:function(){return h.createTraceState}});var g=n(139);Object.defineProperty(a,"isSpanContextValid",{enumerable:!0,get:function(){return g.isSpanContextValid}}),Object.defineProperty(a,"isValidTraceId",{enumerable:!0,get:function(){return g.isValidTraceId}}),Object.defineProperty(a,"isValidSpanId",{enumerable:!0,get:function(){return g.isValidSpanId}});var y=n(476);Object.defineProperty(a,"INVALID_SPANID",{enumerable:!0,get:function(){return y.INVALID_SPANID}}),Object.defineProperty(a,"INVALID_TRACEID",{enumerable:!0,get:function(){return y.INVALID_TRACEID}}),Object.defineProperty(a,"INVALID_SPAN_CONTEXT",{enumerable:!0,get:function(){return y.INVALID_SPAN_CONTEXT}});let v=n(67);Object.defineProperty(a,"context",{enumerable:!0,get:function(){return v.context}});let _=n(506);Object.defineProperty(a,"diag",{enumerable:!0,get:function(){return _.diag}});let b=n(886);Object.defineProperty(a,"metrics",{enumerable:!0,get:function(){return b.metrics}});let S=n(939);Object.defineProperty(a,"propagation",{enumerable:!0,get:function(){return S.propagation}});let w=n(845);Object.defineProperty(a,"trace",{enumerable:!0,get:function(){return w.trace}}),a.default={context:v.context,diag:_.diag,metrics:b.metrics,propagation:S.propagation,trace:w.trace}})(),e.exports=a})()},10189:(e,t,r)=>{"use strict";var n=r(49634),a={stream:!0},s=new Map;function o(e){var t=globalThis.__next_require__(e);return"function"!=typeof t.then||"fulfilled"===t.status?null:(t.then(function(e){t.status="fulfilled",t.value=e},function(e){t.status="rejected",t.reason=e}),t)}function i(){}var l=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.Dispatcher,u=Symbol.for("react.element"),c=Symbol.for("react.lazy"),d=Symbol.iterator,p=Array.isArray,f=Object.getPrototypeOf,m=Object.prototype,h=new WeakMap;function g(e,t,r,n){var a=1,s=0,o=null;e=JSON.stringify(e,function e(i,l){if(null===l)return null;if("object"==typeof l){if("function"==typeof l.then){null===o&&(o=new FormData),s++;var u,c,g=a++;return l.then(function(n){n=JSON.stringify(n,e);var a=o;a.append(t+g,n),0==--s&&r(a)},function(e){n(e)}),"$@"+g.toString(16)}if(p(l))return l;if(l instanceof FormData){null===o&&(o=new FormData);var y=o,v=t+(i=a++)+"_";return l.forEach(function(e,t){y.append(v+t,e)}),"$K"+i.toString(16)}if(l instanceof Map)return l=JSON.stringify(Array.from(l),e),null===o&&(o=new FormData),i=a++,o.append(t+i,l),"$Q"+i.toString(16);if(l instanceof Set)return l=JSON.stringify(Array.from(l),e),null===o&&(o=new FormData),i=a++,o.append(t+i,l),"$W"+i.toString(16);if(null===(c=l)||"object"!=typeof c?null:"function"==typeof(c=d&&c[d]||c["@@iterator"])?c:null)return Array.from(l);if((i=f(l))!==m&&(null===i||null!==f(i)))throw Error("Only plain objects, and a few built-ins, can be passed to Server Actions. Classes or null prototypes are not supported.");return l}if("string"==typeof l)return"Z"===l[l.length-1]&&this[i]instanceof Date?"$D"+l:l="$"===l[0]?"$"+l:l;if("boolean"==typeof l)return l;if("number"==typeof l)return Number.isFinite(u=l)?0===u&&-1/0==1/u?"$-0":u:1/0===u?"$Infinity":-1/0===u?"$-Infinity":"$NaN";if(void 0===l)return"$undefined";if("function"==typeof l){if(void 0!==(l=h.get(l)))return l=JSON.stringify(l,e),null===o&&(o=new FormData),i=a++,o.set(t+i,l),"$F"+i.toString(16);throw Error("Client Functions cannot be passed directly to Server Functions. Only Functions passed from the Server can be passed back again.")}if("symbol"==typeof l){if(Symbol.for(i=l.description)!==l)throw Error("Only global symbols received from Symbol.for(...) can be passed to Server Functions. The symbol Symbol.for("+l.description+") cannot be found among global symbols.");return"$S"+i}if("bigint"==typeof l)return"$n"+l.toString(10);throw Error("Type "+typeof l+" is not supported as an argument to a Server Function.")}),null===o?r(e):(o.set(t+"0",e),0===s&&r(o))}var y=new WeakMap;function v(e){var t=h.get(this);if(!t)throw Error("Tried to encode a Server Action from a different instance than the encoder is from. This is a bug in React.");var r=null;if(null!==t.bound){if((r=y.get(t))||(n=t,o=new Promise(function(e,t){a=e,s=t}),g(n,"",function(e){if("string"==typeof e){var t=new FormData;t.append("0",e),e=t}o.status="fulfilled",o.value=e,a(e)},function(e){o.status="rejected",o.reason=e,s(e)}),r=o,y.set(t,r)),"rejected"===r.status)throw r.reason;if("fulfilled"!==r.status)throw r;t=r.value;var n,a,s,o,i=new FormData;t.forEach(function(t,r){i.append("$ACTION_"+e+":"+r,t)}),r=i,t="$ACTION_REF_"+e}else t="$ACTION_ID_"+t.id;return{name:t,method:"POST",encType:"multipart/form-data",data:r}}function _(e,t){var r=h.get(this);if(!r)throw Error("Tried to encode a Server Action from a different instance than the encoder is from. This is a bug in React.");if(r.id!==e)return!1;var n=r.bound;if(null===n)return 0===t;switch(n.status){case"fulfilled":return n.value.length===t;case"pending":throw n;case"rejected":throw n.reason;default:throw"string"!=typeof n.status&&(n.status="pending",n.then(function(e){n.status="fulfilled",n.value=e},function(e){n.status="rejected",n.reason=e})),n}}function b(e,t,r){Object.defineProperties(e,{$$FORM_ACTION:{value:void 0===r?v:function(){var e=h.get(this);if(!e)throw Error("Tried to encode a Server Action from a different instance than the encoder is from. This is a bug in React.");var t=e.bound;return null===t&&(t=Promise.resolve([])),r(e.id,t)}},$$IS_SIGNATURE_EQUAL:{value:_},bind:{value:x}}),h.set(e,t)}var S=Function.prototype.bind,w=Array.prototype.slice;function x(){var e=S.apply(this,arguments),t=h.get(this);if(t){var r=w.call(arguments,1),n=null;n=null!==t.bound?Promise.resolve(t.bound).then(function(e){return e.concat(r)}):Promise.resolve(r),Object.defineProperties(e,{$$FORM_ACTION:{value:this.$$FORM_ACTION},$$IS_SIGNATURE_EQUAL:{value:_},bind:{value:x}}),h.set(e,{id:t.id,bound:n})}return e}function T(e,t,r,n){this.status=e,this.value=t,this.reason=r,this._response=n}function O(e){switch(e.status){case"resolved_model":R(e);break;case"resolved_module":P(e)}switch(e.status){case"fulfilled":return e.value;case"pending":case"blocked":case"cyclic":throw e;default:throw e.reason}}function E(e,t){for(var r=0;r<e.length;r++)(0,e[r])(t)}function N(e,t,r){switch(e.status){case"fulfilled":E(t,e.value);break;case"pending":case"blocked":case"cyclic":e.value=t,e.reason=r;break;case"rejected":r&&E(r,e.reason)}}function k(e,t){if("pending"===e.status||"blocked"===e.status){var r=e.reason;e.status="rejected",e.reason=t,null!==r&&E(r,t)}}function A(e,t){if("pending"===e.status||"blocked"===e.status){var r=e.value,n=e.reason;e.status="resolved_module",e.value=t,null!==r&&(P(e),N(e,r,n))}}T.prototype=Object.create(Promise.prototype),T.prototype.then=function(e,t){switch(this.status){case"resolved_model":R(this);break;case"resolved_module":P(this)}switch(this.status){case"fulfilled":e(this.value);break;case"pending":case"blocked":case"cyclic":e&&(null===this.value&&(this.value=[]),this.value.push(e)),t&&(null===this.reason&&(this.reason=[]),this.reason.push(t));break;default:t(this.reason)}};var I=null,C=null;function R(e){var t=I,r=C;I=e,C=null;var n=e.value;e.status="cyclic",e.value=null,e.reason=null;try{var a=JSON.parse(n,e._response._fromJSON);if(null!==C&&0<C.deps)C.value=a,e.status="blocked",e.value=null,e.reason=null;else{var s=e.value;e.status="fulfilled",e.value=a,null!==s&&E(s,a)}}catch(t){e.status="rejected",e.reason=t}finally{I=t,C=r}}function P(e){try{var t=e.value,r=globalThis.__next_require__(t[0]);if(4===t.length&&"function"==typeof r.then){if("fulfilled"===r.status)r=r.value;else throw r.reason}var n="*"===t[2]?r:""===t[2]?r.__esModule?r.default:r:r[t[2]];e.status="fulfilled",e.value=n}catch(t){e.status="rejected",e.reason=t}}function M(e,t){e._chunks.forEach(function(e){"pending"===e.status&&k(e,t)})}function j(e,t){var r=e._chunks,n=r.get(t);return n||(n=new T("pending",null,null,e),r.set(t,n)),n}function L(e,t){if("resolved_model"===(e=j(e,t)).status&&R(e),"fulfilled"===e.status)return e.value;throw e.reason}function D(){throw Error('Trying to call a function from "use server" but the callServer option was not implemented in your router runtime.')}function z(){throw Error("Server Functions cannot be called during initial render. This would create a fetch waterfall. Try to use a Server Component to pass data to Client Components instead.")}function $(e){var t,r=e.ssrManifest.moduleMap;return(r={_bundlerConfig:r,_moduleLoading:e.ssrManifest.moduleLoading,_callServer:void 0!==z?z:D,_encodeFormAction:e.encodeFormAction,_nonce:e="string"==typeof e.nonce?e.nonce:void 0,_chunks:new Map,_stringDecoder:new TextDecoder,_fromJSON:null,_rowState:0,_rowID:0,_rowTag:0,_rowLength:0,_buffer:[]})._fromJSON=(t=r,function(e,r){return"string"==typeof r?function(e,t,r,n){if("$"===n[0]){if("$"===n)return u;switch(n[1]){case"$":return n.slice(1);case"L":return{$$typeof:c,_payload:e=j(e,t=parseInt(n.slice(2),16)),_init:O};case"@":if(2===n.length)return new Promise(function(){});return j(e,t=parseInt(n.slice(2),16));case"S":return Symbol.for(n.slice(2));case"F":return t=L(e,t=parseInt(n.slice(2),16)),function(e,t){function r(){var e=Array.prototype.slice.call(arguments),r=t.bound;return r?"fulfilled"===r.status?n(t.id,r.value.concat(e)):Promise.resolve(r).then(function(r){return n(t.id,r.concat(e))}):n(t.id,e)}var n=e._callServer;return b(r,t,e._encodeFormAction),r}(e,t);case"Q":return new Map(e=L(e,t=parseInt(n.slice(2),16)));case"W":return new Set(e=L(e,t=parseInt(n.slice(2),16)));case"I":return 1/0;case"-":return"$-0"===n?-0:-1/0;case"N":return NaN;case"u":return;case"D":return new Date(Date.parse(n.slice(2)));case"n":return BigInt(n.slice(2));default:switch((e=j(e,n=parseInt(n.slice(1),16))).status){case"resolved_model":R(e);break;case"resolved_module":P(e)}switch(e.status){case"fulfilled":return e.value;case"pending":case"blocked":case"cyclic":var a;return n=I,e.then(function(e,t,r,n){if(C){var a=C;n||a.deps++}else a=C={deps:n?0:1,value:null};return function(n){t[r]=n,a.deps--,0===a.deps&&"blocked"===e.status&&(n=e.value,e.status="fulfilled",e.value=a.value,null!==n&&E(n,a.value))}}(n,t,r,"cyclic"===e.status),(a=n,function(e){return k(a,e)})),null;default:throw e.reason}}}return n}(t,this,e,r):"object"==typeof r&&null!==r?e=r[0]===u?{$$typeof:u,type:r[1],key:r[2],ref:null,props:r[3],_owner:null}:r:r}),r}function Z(e,t){function n(t){M(e,t)}var u=t.getReader();u.read().then(function t(c){var d=c.value;if(c.done)M(e,Error("Connection closed."));else{var p=0,f=e._rowState,m=e._rowID,h=e._rowTag,g=e._rowLength;c=e._buffer;for(var y=d.length;p<y;){var v=-1;switch(f){case 0:58===(v=d[p++])?f=1:m=m<<4|(96<v?v-87:v-48);continue;case 1:84===(f=d[p])?(h=f,f=2,p++):64<f&&91>f?(h=f,f=3,p++):(h=0,f=3);continue;case 2:44===(v=d[p++])?f=4:g=g<<4|(96<v?v-87:v-48);continue;case 3:v=d.indexOf(10,p);break;case 4:(v=p+g)>d.length&&(v=-1)}var _=d.byteOffset+p;if(-1<v){p=new Uint8Array(d.buffer,_,v-p),g=e,_=h;var b=g._stringDecoder;h="";for(var S=0;S<c.length;S++)h+=b.decode(c[S],a);switch(h+=b.decode(p),_){case 73:!function(e,t,n){var a=e._chunks,u=a.get(t);n=JSON.parse(n,e._fromJSON);var c=function(e,t){if(e){var r=e[t[0]];if(e=r[t[2]])r=e.name;else{if(!(e=r["*"]))throw Error('Could not find the module "'+t[0]+'" in the React SSR Manifest. This is probably a bug in the React Server Components bundler.');r=t[2]}return 4===t.length?[e.id,e.chunks,r,1]:[e.id,e.chunks,r]}return t}(e._bundlerConfig,n);if(function(e,t,r){if(null!==e)for(var n=1;n<t.length;n+=2){var a=l.current;if(a){var s=a.preinitScript,o=e.prefix+t[n],i=e.crossOrigin;i="string"==typeof i?"use-credentials"===i?i:"":void 0,s.call(a,o,{crossOrigin:i,nonce:r})}}}(e._moduleLoading,n[1],e._nonce),n=function(e){for(var t=e[1],n=[],a=0;a<t.length;){var l=t[a++];t[a++];var u=s.get(l);if(void 0===u){u=r.e(l),n.push(u);var c=s.set.bind(s,l,null);u.then(c,i),s.set(l,u)}else null!==u&&n.push(u)}return 4===e.length?0===n.length?o(e[0]):Promise.all(n).then(function(){return o(e[0])}):0<n.length?Promise.all(n):null}(c)){if(u){var d=u;d.status="blocked"}else d=new T("blocked",null,null,e),a.set(t,d);n.then(function(){return A(d,c)},function(e){return k(d,e)})}else u?A(u,c):a.set(t,new T("resolved_module",c,null,e))}(g,m,h);break;case 72:if(m=h[0],g=JSON.parse(h=h.slice(1),g._fromJSON),h=l.current)switch(m){case"D":h.prefetchDNS(g);break;case"C":"string"==typeof g?h.preconnect(g):h.preconnect(g[0],g[1]);break;case"L":m=g[0],p=g[1],3===g.length?h.preload(m,p,g[2]):h.preload(m,p);break;case"m":"string"==typeof g?h.preloadModule(g):h.preloadModule(g[0],g[1]);break;case"S":"string"==typeof g?h.preinitStyle(g):h.preinitStyle(g[0],0===g[1]?void 0:g[1],3===g.length?g[2]:void 0);break;case"X":"string"==typeof g?h.preinitScript(g):h.preinitScript(g[0],g[1]);break;case"M":"string"==typeof g?h.preinitModuleScript(g):h.preinitModuleScript(g[0],g[1])}break;case 69:p=(h=JSON.parse(h)).digest,(h=Error("An error occurred in the Server Components render. The specific message is omitted in production builds to avoid leaking sensitive details. A digest property is included on this error instance which may provide additional details about the nature of the error.")).stack="Error: "+h.message,h.digest=p,(_=(p=g._chunks).get(m))?k(_,h):p.set(m,new T("rejected",null,h,g));break;case 84:g._chunks.set(m,new T("fulfilled",h,null,g));break;case 68:case 87:throw Error("Failed to read a RSC payload created by a development version of React on the server while using a production version on the client. Always use matching versions on the server and the client.");default:(_=(p=g._chunks).get(m))?(g=_,m=h,"pending"===g.status&&(h=g.value,p=g.reason,g.status="resolved_model",g.value=m,null!==h&&(R(g),N(g,h,p)))):p.set(m,new T("resolved_model",h,null,g))}p=v,3===f&&p++,g=m=h=f=0,c.length=0}else{d=new Uint8Array(d.buffer,_,d.byteLength-p),c.push(d),g-=d.byteLength;break}}return e._rowState=f,e._rowID=m,e._rowTag=h,e._rowLength=g,u.read().then(t).catch(n)}}).catch(n)}t.createFromFetch=function(e,t){var r=$(t);return e.then(function(e){Z(r,e.body)},function(e){M(r,e)}),j(r,0)},t.createFromReadableStream=function(e,t){return Z(t=$(t),e),j(t,0)},t.createServerReference=function(e){return function(e,t,r){function n(){var r=Array.prototype.slice.call(arguments);return t(e,r)}return b(n,{id:e,bound:null},r),n}(e,z)},t.encodeReply=function(e){return new Promise(function(t,r){g(e,"",t,r)})}},85668:(e,t,r)=>{"use strict";e.exports=r(10189)},83204:()=>{},808:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"DetachedPromise",{enumerable:!0,get:function(){return r}});class r{constructor(){let e,t;this.promise=new Promise((r,n)=>{e=r,t=n}),this.resolve=e,this.reject=t}}},89061:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{atLeastOneTask:function(){return a},scheduleImmediate:function(){return n},scheduleOnNextTick:function(){return r}});let r=e=>{Promise.resolve().then(()=>{process.nextTick(e)})},n=e=>{setImmediate(e)};function a(){return new Promise(e=>n(e))}},49597:(e,t)=>{"use strict";let r,n;Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{arrayBufferToString:function(){return s},decrypt:function(){return l},encrypt:function(){return i},generateEncryptionKeyBase64:function(){return u},getActionEncryptionKey:function(){return m},getClientReferenceManifestSingleton:function(){return f},getServerModuleMap:function(){return p},setReferenceManifestsSingleton:function(){return d},stringToUint8Array:function(){return o}});let a=null;function s(e){let t=new Uint8Array(e),r=t.byteLength;if(r<65535)return String.fromCharCode.apply(null,t);let n="";for(let e=0;e<r;e++)n+=String.fromCharCode(t[e]);return n}function o(e){let t=e.length,r=new Uint8Array(t);for(let n=0;n<t;n++)r[n]=e.charCodeAt(n);return r}function i(e,t,r){return crypto.subtle.encrypt({name:"AES-GCM",iv:t},e,r)}function l(e,t,r){return crypto.subtle.decrypt({name:"AES-GCM",iv:t},e,r)}async function u(e){if(e&&void 0!==n)return n;a||(a=new Promise(async(e,t)=>{try{let t=await crypto.subtle.generateKey({name:"AES-GCM",length:256},!0,["encrypt","decrypt"]),r=await crypto.subtle.exportKey("raw",t),n=btoa(s(r));e([t,n])}catch(e){t(e)}}));let[t,o]=await a;return r=t,e&&(n=o),o}let c=Symbol.for("next.server.action-manifests");function d({clientReferenceManifest:e,serverActionsManifest:t,serverModuleMap:r}){globalThis[c]={clientReferenceManifest:e,serverActionsManifest:t,serverModuleMap:r}}function p(){let e=globalThis[c];if(!e)throw Error("Missing manifest for Server Actions. This is a bug in Next.js");return e.serverModuleMap}function f(){let e=globalThis[c];if(!e)throw Error("Missing manifest for Server Actions. This is a bug in Next.js");return e.clientReferenceManifest}async function m(){if(r)return r;let e=globalThis[c];if(!e)throw Error("Missing manifest for Server Actions. This is a bug in Next.js");let t=process.env.NEXT_SERVER_ACTIONS_ENCRYPTION_KEY||e.serverActionsManifest.encryptionKey;if(void 0===t)throw Error("Missing encryption key for Server Actions");return r=await crypto.subtle.importKey("raw",o(atob(t)),"AES-GCM",!0,["encrypt","decrypt"])}},26461:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{decryptActionBoundArgs:function(){return p},encryptActionBoundArgs:function(){return d}}),r(83204);let n=r(96012),a=r(85668),s=r(43598),o=r(49597),i=new TextEncoder,l=new TextDecoder;async function u(e,t){let r=await (0,o.getActionEncryptionKey)();if(void 0===r)throw Error("Missing encryption key for Server Action. This is a bug in Next.js");let n=atob(t),a=n.slice(0,16),s=n.slice(16),i=l.decode(await (0,o.decrypt)(r,(0,o.stringToUint8Array)(a),(0,o.stringToUint8Array)(s)));if(!i.startsWith(e))throw Error("Invalid Server Action payload: failed to decrypt.");return i.slice(e.length)}async function c(e,t){let r=await (0,o.getActionEncryptionKey)();if(void 0===r)throw Error("Missing encryption key for Server Action. This is a bug in Next.js");let n=new Uint8Array(16);crypto.getRandomValues(n);let a=(0,o.arrayBufferToString)(n.buffer),s=await (0,o.encrypt)(r,n,i.encode(e+t));return btoa(a+(0,o.arrayBufferToString)(s))}async function d(e,t){let r=(0,o.getClientReferenceManifestSingleton)(),a=await (0,s.streamToString)((0,n.renderToReadableStream)(t,r.clientModules));return await c(e,a)}async function p(e,t){let r=await u(e,await t),s=await (0,a.createFromReadableStream)(new ReadableStream({start(e){e.enqueue(i.encode(r)),e.close()}}),{ssrManifest:{moduleLoading:{},moduleMap:{}}}),l=(0,o.getServerModuleMap)();return await (0,n.decodeReply)(await (0,a.encodeReply)(s),l)}},49634:(e,t,r)=>{"use strict";e.exports=r(23191).vendored["react-rsc"].ReactDOM},96012:(e,t,r)=>{"use strict";e.exports=r(23191).vendored["react-rsc"].ReactServerDOMWebpackServerEdge},98467:(e,t)=>{"use strict";var r,n,a,s,o,i,l,u,c,d,p,f;Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{AppRenderSpan:function(){return l},AppRouteRouteHandlersSpan:function(){return d},BaseServerSpan:function(){return r},LoadComponentsSpan:function(){return n},LogSpanAllowList:function(){return h},MiddlewareSpan:function(){return f},NextNodeServerSpan:function(){return s},NextServerSpan:function(){return a},NextVanillaSpanAllowlist:function(){return m},NodeSpan:function(){return c},RenderSpan:function(){return i},ResolveMetadataSpan:function(){return p},RouterSpan:function(){return u},StartServerSpan:function(){return o}}),function(e){e.handleRequest="BaseServer.handleRequest",e.run="BaseServer.run",e.pipe="BaseServer.pipe",e.getStaticHTML="BaseServer.getStaticHTML",e.render="BaseServer.render",e.renderToResponseWithComponents="BaseServer.renderToResponseWithComponents",e.renderToResponse="BaseServer.renderToResponse",e.renderToHTML="BaseServer.renderToHTML",e.renderError="BaseServer.renderError",e.renderErrorToResponse="BaseServer.renderErrorToResponse",e.renderErrorToHTML="BaseServer.renderErrorToHTML",e.render404="BaseServer.render404"}(r||(r={})),function(e){e.loadDefaultErrorComponents="LoadComponents.loadDefaultErrorComponents",e.loadComponents="LoadComponents.loadComponents"}(n||(n={})),function(e){e.getRequestHandler="NextServer.getRequestHandler",e.getServer="NextServer.getServer",e.getServerRequestHandler="NextServer.getServerRequestHandler",e.createServer="createServer.createServer"}(a||(a={})),function(e){e.compression="NextNodeServer.compression",e.getBuildId="NextNodeServer.getBuildId",e.createComponentTree="NextNodeServer.createComponentTree",e.clientComponentLoading="NextNodeServer.clientComponentLoading",e.getLayoutOrPageModule="NextNodeServer.getLayoutOrPageModule",e.generateStaticRoutes="NextNodeServer.generateStaticRoutes",e.generateFsStaticRoutes="NextNodeServer.generateFsStaticRoutes",e.generatePublicRoutes="NextNodeServer.generatePublicRoutes",e.generateImageRoutes="NextNodeServer.generateImageRoutes.route",e.sendRenderResult="NextNodeServer.sendRenderResult",e.proxyRequest="NextNodeServer.proxyRequest",e.runApi="NextNodeServer.runApi",e.render="NextNodeServer.render",e.renderHTML="NextNodeServer.renderHTML",e.imageOptimizer="NextNodeServer.imageOptimizer",e.getPagePath="NextNodeServer.getPagePath",e.getRoutesManifest="NextNodeServer.getRoutesManifest",e.findPageComponents="NextNodeServer.findPageComponents",e.getFontManifest="NextNodeServer.getFontManifest",e.getServerComponentManifest="NextNodeServer.getServerComponentManifest",e.getRequestHandler="NextNodeServer.getRequestHandler",e.renderToHTML="NextNodeServer.renderToHTML",e.renderError="NextNodeServer.renderError",e.renderErrorToHTML="NextNodeServer.renderErrorToHTML",e.render404="NextNodeServer.render404",e.startResponse="NextNodeServer.startResponse",e.route="route",e.onProxyReq="onProxyReq",e.apiResolver="apiResolver",e.internalFetch="internalFetch"}(s||(s={})),(o||(o={})).startServer="startServer.startServer",function(e){e.getServerSideProps="Render.getServerSideProps",e.getStaticProps="Render.getStaticProps",e.renderToString="Render.renderToString",e.renderDocument="Render.renderDocument",e.createBodyResult="Render.createBodyResult"}(i||(i={})),function(e){e.renderToString="AppRender.renderToString",e.renderToReadableStream="AppRender.renderToReadableStream",e.getBodyResult="AppRender.getBodyResult",e.fetch="AppRender.fetch"}(l||(l={})),(u||(u={})).executeRoute="Router.executeRoute",(c||(c={})).runHandler="Node.runHandler",(d||(d={})).runHandler="AppRouteRouteHandlers.runHandler",function(e){e.generateMetadata="ResolveMetadata.generateMetadata",e.generateViewport="ResolveMetadata.generateViewport"}(p||(p={})),(f||(f={})).execute="Middleware.execute";let m=["Middleware.execute","BaseServer.handleRequest","Render.getServerSideProps","Render.getStaticProps","AppRender.fetch","AppRender.getBodyResult","Render.renderDocument","Node.runHandler","AppRouteRouteHandlers.runHandler","ResolveMetadata.generateMetadata","ResolveMetadata.generateViewport","NextNodeServer.createComponentTree","NextNodeServer.findPageComponents","NextNodeServer.getLayoutOrPageModule","NextNodeServer.startResponse","NextNodeServer.clientComponentLoading"],h=["NextNodeServer.findPageComponents","NextNodeServer.createComponentTree","NextNodeServer.clientComponentLoading"]},82755:(e,t,r)=>{"use strict";let n;Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{SpanKind:function(){return u},SpanStatusCode:function(){return l},getTracer:function(){return v}});let a=r(98467);try{n=r(99361)}catch(e){n=r(98601)}let{context:s,propagation:o,trace:i,SpanStatusCode:l,SpanKind:u,ROOT_CONTEXT:c}=n,d=e=>null!==e&&"object"==typeof e&&"function"==typeof e.then,p=(e,t)=>{(null==t?void 0:t.bubble)===!0?e.setAttribute("next.bubble",!0):(t&&e.recordException(t),e.setStatus({code:l.ERROR,message:null==t?void 0:t.message})),e.end()},f=new Map,m=n.createContextKey("next.rootSpanId"),h=0,g=()=>h++;class y{getTracerInstance(){return i.getTracer("next.js","0.0.1")}getContext(){return s}getActiveScopeSpan(){return i.getSpan(null==s?void 0:s.active())}withPropagatedContext(e,t,r){let n=s.active();if(i.getSpanContext(n))return t();let a=o.extract(n,e,r);return s.with(a,t)}trace(...e){var t;let[r,n,o]=e,{fn:l,options:u}="function"==typeof n?{fn:n,options:{}}:{fn:o,options:{...n}},h=u.spanName??r;if(!a.NextVanillaSpanAllowlist.includes(r)&&"1"!==process.env.NEXT_OTEL_VERBOSE||u.hideSpan)return l();let y=this.getSpanContext((null==u?void 0:u.parentSpan)??this.getActiveScopeSpan()),v=!1;y?(null==(t=i.getSpanContext(y))?void 0:t.isRemote)&&(v=!0):(y=(null==s?void 0:s.active())??c,v=!0);let _=g();return u.attributes={"next.span_name":h,"next.span_type":r,...u.attributes},s.with(y.setValue(m,_),()=>this.getTracerInstance().startActiveSpan(h,u,e=>{let t="performance"in globalThis?globalThis.performance.now():void 0,n=()=>{f.delete(_),t&&process.env.NEXT_OTEL_PERFORMANCE_PREFIX&&a.LogSpanAllowList.includes(r||"")&&performance.measure(`${process.env.NEXT_OTEL_PERFORMANCE_PREFIX}:next-${(r.split(".").pop()||"").replace(/[A-Z]/g,e=>"-"+e.toLowerCase())}`,{start:t,end:performance.now()})};v&&f.set(_,new Map(Object.entries(u.attributes??{})));try{if(l.length>1)return l(e,t=>p(e,t));let t=l(e);if(d(t))return t.then(t=>(e.end(),t)).catch(t=>{throw p(e,t),t}).finally(n);return e.end(),n(),t}catch(t){throw p(e,t),n(),t}}))}wrap(...e){let t=this,[r,n,o]=3===e.length?e:[e[0],{},e[1]];return a.NextVanillaSpanAllowlist.includes(r)||"1"===process.env.NEXT_OTEL_VERBOSE?function(){let e=n;"function"==typeof e&&"function"==typeof o&&(e=e.apply(this,arguments));let a=arguments.length-1,i=arguments[a];if("function"!=typeof i)return t.trace(r,e,()=>o.apply(this,arguments));{let n=t.getContext().bind(s.active(),i);return t.trace(r,e,(e,t)=>(arguments[a]=function(e){return null==t||t(e),n.apply(this,arguments)},o.apply(this,arguments)))}}:o}startSpan(...e){let[t,r]=e,n=this.getSpanContext((null==r?void 0:r.parentSpan)??this.getActiveScopeSpan());return this.getTracerInstance().startSpan(t,r,n)}getSpanContext(e){return e?i.setSpan(s.active(),e):void 0}getRootSpanAttributes(){let e=s.active().getValue(m);return f.get(e)}}let v=(()=>{let e=new y;return()=>e})()},42860:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ENCODED_TAGS",{enumerable:!0,get:function(){return r}});let r={OPENING:{HTML:new Uint8Array([60,104,116,109,108]),BODY:new Uint8Array([60,98,111,100,121])},CLOSED:{HEAD:new Uint8Array([60,47,104,101,97,100,62]),BODY:new Uint8Array([60,47,98,111,100,121,62]),HTML:new Uint8Array([60,47,104,116,109,108,62]),BODY_AND_HTML:new Uint8Array([60,47,98,111,100,121,62,60,47,104,116,109,108,62])}}},43598:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{chainStreams:function(){return d},continueDynamicDataResume:function(){return T},continueDynamicHTMLResume:function(){return x},continueDynamicPrerender:function(){return S},continueFizzStream:function(){return b},continueStaticPrerender:function(){return w},createBufferedTransformStream:function(){return m},createRootLayoutValidatorStream:function(){return _},renderToInitialFizzStream:function(){return h},streamFromString:function(){return p},streamToString:function(){return f}});let n=r(82755),a=r(98467),s=r(808),o=r(89061),i=r(42860),l=r(44192);function u(){}let c=new TextEncoder;function d(...e){if(0===e.length)throw Error("Invariant: chainStreams requires at least one stream");if(1===e.length)return e[0];let{readable:t,writable:r}=new TransformStream,n=e[0].pipeTo(r,{preventClose:!0}),a=1;for(;a<e.length-1;a++){let t=e[a];n=n.then(()=>t.pipeTo(r,{preventClose:!0}))}let s=e[a];return(n=n.then(()=>s.pipeTo(r))).catch(u),t}function p(e){return new ReadableStream({start(t){t.enqueue(c.encode(e)),t.close()}})}async function f(e){let t=new TextDecoder("utf-8",{fatal:!0}),r="";for await(let n of e)r+=t.decode(n,{stream:!0});return r+t.decode()}function m(){let e,t=[],r=0,n=n=>{if(e)return;let a=new s.DetachedPromise;e=a,(0,o.scheduleImmediate)(()=>{try{let e=new Uint8Array(r),a=0;for(let r=0;r<t.length;r++){let n=t[r];e.set(n,a),a+=n.byteLength}t.length=0,r=0,n.enqueue(e)}catch{}finally{e=void 0,a.resolve()}})};return new TransformStream({transform(e,a){t.push(e),r+=e.byteLength,n(a)},flush(){if(e)return e.promise}})}function h({ReactDOMServer:e,element:t,streamOptions:r}){return(0,n.getTracer)().trace(a.AppRenderSpan.renderToReadableStream,async()=>e.renderToReadableStream(t,r))}function g(e){let t=!1,r=!1,n=!1;return new TransformStream({async transform(a,s){if(n=!0,r){s.enqueue(a);return}let u=await e();if(t){if(u){let e=c.encode(u);s.enqueue(e)}s.enqueue(a),r=!0}else{let e=(0,l.indexOfUint8Array)(a,i.ENCODED_TAGS.CLOSED.HEAD);if(-1!==e){if(u){let t=c.encode(u),r=new Uint8Array(a.length+t.length);r.set(a.slice(0,e)),r.set(t,e),r.set(a.slice(e),e+t.length),s.enqueue(r)}else s.enqueue(a);r=!0,t=!0}}t?(0,o.scheduleImmediate)(()=>{r=!1}):s.enqueue(a)},async flush(t){if(n){let r=await e();r&&t.enqueue(c.encode(r))}}})}function y(e){let t=null,r=!1;async function n(n){if(t)return;let a=e.getReader();await (0,o.atLeastOneTask)();try{for(;;){let{done:e,value:t}=await a.read();if(e){r=!0;return}n.enqueue(t)}}catch(e){n.error(e)}}return new TransformStream({transform(e,r){r.enqueue(e),t||(t=n(r))},flush(e){if(!r)return t||n(e)}})}function v(e){let t=!1,r=c.encode(e);return new TransformStream({transform(n,a){if(t)return a.enqueue(n);let s=(0,l.indexOfUint8Array)(n,r);if(s>-1){if(t=!0,n.length===e.length)return;let r=n.slice(0,s);if(a.enqueue(r),n.length>e.length+s){let t=n.slice(s+e.length);a.enqueue(t)}}else a.enqueue(n)},flush(e){e.enqueue(r)}})}function _(){let e=!1,t=!1;return new TransformStream({async transform(r,n){!e&&(0,l.indexOfUint8Array)(r,i.ENCODED_TAGS.OPENING.HTML)>-1&&(e=!0),!t&&(0,l.indexOfUint8Array)(r,i.ENCODED_TAGS.OPENING.BODY)>-1&&(t=!0),n.enqueue(r)},flush(r){let n=[];e||n.push("html"),t||n.push("body"),n.length&&r.enqueue(c.encode(`<script>self.__next_root_layout_missing_tags=${JSON.stringify(n)}</script>`))}})}async function b(e,{suffix:t,inlinedDataStream:r,isStaticGeneration:n,getServerInsertedHTML:a,serverInsertedHTMLToHead:i,validateRootLayout:l}){let u="</body></html>",d=t?t.split(u,1)[0]:null;return n&&"allReady"in e&&await e.allReady,function(e,t){let r=e;for(let e of t)e&&(r=r.pipeThrough(e));return r}(e,[m(),a&&!i?new TransformStream({transform:async(e,t)=>{let r=await a();r&&t.enqueue(c.encode(r)),t.enqueue(e)}}):null,null!=d&&d.length>0?function(e){let t,r=!1,n=r=>{let n=new s.DetachedPromise;t=n,(0,o.scheduleImmediate)(()=>{try{r.enqueue(c.encode(e))}catch{}finally{t=void 0,n.resolve()}})};return new TransformStream({transform(e,t){t.enqueue(e),r||(r=!0,n(t))},flush(n){if(t)return t.promise;r||n.enqueue(c.encode(e))}})}(d):null,r?y(r):null,l?_():null,v(u),a&&i?g(a):null])}async function S(e,{getServerInsertedHTML:t}){return e.pipeThrough(m()).pipeThrough(new TransformStream({transform(e,t){(0,l.isEquivalentUint8Arrays)(e,i.ENCODED_TAGS.CLOSED.BODY_AND_HTML)||(0,l.isEquivalentUint8Arrays)(e,i.ENCODED_TAGS.CLOSED.BODY)||(0,l.isEquivalentUint8Arrays)(e,i.ENCODED_TAGS.CLOSED.HTML)||(e=(0,l.removeFromUint8Array)(e,i.ENCODED_TAGS.CLOSED.BODY),e=(0,l.removeFromUint8Array)(e,i.ENCODED_TAGS.CLOSED.HTML),t.enqueue(e))}})).pipeThrough(g(t))}async function w(e,{inlinedDataStream:t,getServerInsertedHTML:r}){return e.pipeThrough(m()).pipeThrough(g(r)).pipeThrough(y(t)).pipeThrough(v("</body></html>"))}async function x(e,{inlinedDataStream:t,getServerInsertedHTML:r}){return e.pipeThrough(m()).pipeThrough(g(r)).pipeThrough(y(t)).pipeThrough(v("</body></html>"))}async function T(e,{inlinedDataStream:t}){return e.pipeThrough(y(t)).pipeThrough(v("</body></html>"))}},44192:(e,t)=>{"use strict";function r(e,t){if(0===t.length)return 0;if(0===e.length||t.length>e.length)return -1;for(let r=0;r<=e.length-t.length;r++){let n=!0;for(let a=0;a<t.length;a++)if(e[r+a]!==t[a]){n=!1;break}if(n)return r}return -1}function n(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function a(e,t){let n=r(e,t);if(0===n)return e.subarray(t.length);if(!(n>-1))return e;{let r=new Uint8Array(e.length-t.length);return r.set(e.slice(0,n)),r.set(e.slice(n+t.length),n),r}}Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{indexOfUint8Array:function(){return r},isEquivalentUint8Arrays:function(){return n},removeFromUint8Array:function(){return a}})},32425:e=>{"use strict";let t="undefined"!=typeof Buffer,r=/"(?:_|\\u005[Ff])(?:_|\\u005[Ff])(?:p|\\u0070)(?:r|\\u0072)(?:o|\\u006[Ff])(?:t|\\u0074)(?:o|\\u006[Ff])(?:_|\\u005[Ff])(?:_|\\u005[Ff])"\s*:/,n=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/;function a(e,a,o){null==o&&null!==a&&"object"==typeof a&&(o=a,a=void 0),t&&Buffer.isBuffer(e)&&(e=e.toString()),e&&65279===e.charCodeAt(0)&&(e=e.slice(1));let i=JSON.parse(e,a);if(null===i||"object"!=typeof i)return i;let l=o&&o.protoAction||"error",u=o&&o.constructorAction||"error";if("ignore"===l&&"ignore"===u)return i;if("ignore"!==l&&"ignore"!==u){if(!1===r.test(e)&&!1===n.test(e))return i}else if("ignore"!==l&&"ignore"===u){if(!1===r.test(e))return i}else if(!1===n.test(e))return i;return s(i,{protoAction:l,constructorAction:u,safe:o&&o.safe})}function s(e,{protoAction:t="error",constructorAction:r="error",safe:n}={}){let a=[e];for(;a.length;){let e=a;for(let s of(a=[],e)){if("ignore"!==t&&Object.prototype.hasOwnProperty.call(s,"__proto__")){if(!0===n)return null;if("error"===t)throw SyntaxError("Object contains forbidden prototype property");delete s.__proto__}if("ignore"!==r&&Object.prototype.hasOwnProperty.call(s,"constructor")&&Object.prototype.hasOwnProperty.call(s.constructor,"prototype")){if(!0===n)return null;if("error"===r)throw SyntaxError("Object contains forbidden prototype property");delete s.constructor}for(let e in s){let t=s[e];t&&"object"==typeof t&&a.push(t)}}}return e}function o(e,t,r){let n=Error.stackTraceLimit;Error.stackTraceLimit=0;try{return a(e,t,r)}finally{Error.stackTraceLimit=n}}e.exports=o,e.exports.default=o,e.exports.parse=o,e.exports.safeParse=function(e,t){let r=Error.stackTraceLimit;Error.stackTraceLimit=0;try{return a(e,t,{safe:!0})}catch(e){return null}finally{Error.stackTraceLimit=r}},e.exports.scan=s},31347:(e,t,r)=>{"use strict";r.d(t,{JV:()=>eD,fr:()=>ez});var n,a,s,o,i,l,u,c,d,p,f="vercel.ai.error",m=Symbol.for(f),h=class e extends Error{constructor({name:e,message:t,cause:r}){super(t),this[n]=!0,this.name=e,this.cause=r}static isInstance(t){return e.hasMarker(t,f)}static hasMarker(e,t){let r=Symbol.for(t);return null!=e&&"object"==typeof e&&r in e&&"boolean"==typeof e[r]&&!0===e[r]}toJSON(){return{name:this.name,message:this.message}}};n=m;var g=h,y="AI_APICallError",v=`vercel.ai.error.${y}`,_=Symbol.for(v),b=class extends g{constructor({message:e,url:t,requestBodyValues:r,statusCode:n,responseHeaders:s,responseBody:o,cause:i,isRetryable:l=null!=n&&(408===n||409===n||429===n||n>=500),data:u}){super({name:y,message:e,cause:i}),this[a]=!0,this.url=t,this.requestBodyValues=r,this.statusCode=n,this.responseHeaders=s,this.responseBody=o,this.isRetryable=l,this.data=u}static isInstance(e){return g.hasMarker(e,v)}static isAPICallError(e){return e instanceof Error&&e.name===y&&"string"==typeof e.url&&"object"==typeof e.requestBodyValues&&(null==e.statusCode||"number"==typeof e.statusCode)&&(null==e.responseHeaders||"object"==typeof e.responseHeaders)&&(null==e.responseBody||"string"==typeof e.responseBody)&&(null==e.cause||"object"==typeof e.cause)&&"boolean"==typeof e.isRetryable&&(null==e.data||"object"==typeof e.data)}toJSON(){return{name:this.name,message:this.message,url:this.url,requestBodyValues:this.requestBodyValues,statusCode:this.statusCode,responseHeaders:this.responseHeaders,responseBody:this.responseBody,cause:this.cause,isRetryable:this.isRetryable,data:this.data}}};a=_;var S="AI_EmptyResponseBodyError",w=`vercel.ai.error.${S}`,x=Symbol.for(w),T=class extends g{constructor({message:e="Empty response body"}={}){super({name:S,message:e}),this[s]=!0}static isInstance(e){return g.hasMarker(e,w)}static isEmptyResponseBodyError(e){return e instanceof Error&&e.name===S}};function O(e){return null==e?"unknown error":"string"==typeof e?e:e instanceof Error?e.message:JSON.stringify(e)}s=x;var E="AI_InvalidPromptError",N=`vercel.ai.error.${E}`,k=Symbol.for(N),A=class extends g{constructor({prompt:e,message:t,cause:r}){super({name:E,message:`Invalid prompt: ${t}`,cause:r}),this[o]=!0,this.prompt=e}static isInstance(e){return g.hasMarker(e,N)}static isInvalidPromptError(e){return e instanceof Error&&e.name===E&&null!=prompt}toJSON(){return{name:this.name,message:this.message,stack:this.stack,prompt:this.prompt}}};o=k;var I="AI_InvalidResponseDataError",C=`vercel.ai.error.${I}`,R=Symbol.for(C),P=class extends g{constructor({data:e,message:t=`Invalid response data: ${JSON.stringify(e)}.`}){super({name:I,message:t}),this[i]=!0,this.data=e}static isInstance(e){return g.hasMarker(e,C)}static isInvalidResponseDataError(e){return e instanceof Error&&e.name===I&&null!=e.data}toJSON(){return{name:this.name,message:this.message,stack:this.stack,data:this.data}}};i=R;var M="AI_JSONParseError",j=`vercel.ai.error.${M}`,L=Symbol.for(j),D=class extends g{constructor({text:e,cause:t}){super({name:M,message:`JSON parsing failed: Text: ${e}.
Error message: ${O(t)}`,cause:t}),this[l]=!0,this.text=e}static isInstance(e){return g.hasMarker(e,j)}static isJSONParseError(e){return e instanceof Error&&e.name===M&&"text"in e&&"string"==typeof e.text}toJSON(){return{name:this.name,message:this.message,cause:this.cause,stack:this.stack,valueText:this.text}}};l=L;var z="AI_LoadAPIKeyError",$=`vercel.ai.error.${z}`,Z=Symbol.for($),F=class extends g{constructor({message:e}){super({name:z,message:e}),this[u]=!0}static isInstance(e){return g.hasMarker(e,$)}static isLoadAPIKeyError(e){return e instanceof Error&&e.name===z}};u=Z,Symbol.for("vercel.ai.error.AI_LoadSettingError"),Symbol.for("vercel.ai.error.AI_NoContentGeneratedError"),Symbol.for("vercel.ai.error.AI_NoSuchModelError");var B="AI_TooManyEmbeddingValuesForCallError",V=`vercel.ai.error.${B}`,U=Symbol.for(V),q=class extends g{constructor(e){super({name:B,message:`Too many values for a single embedding call. The ${e.provider} model "${e.modelId}" can only embed up to ${e.maxEmbeddingsPerCall} values per call, but ${e.values.length} values were provided.`}),this[c]=!0,this.provider=e.provider,this.modelId=e.modelId,this.maxEmbeddingsPerCall=e.maxEmbeddingsPerCall,this.values=e.values}static isInstance(e){return g.hasMarker(e,V)}static isTooManyEmbeddingValuesForCallError(e){return e instanceof Error&&e.name===B&&"provider"in e&&"string"==typeof e.provider&&"modelId"in e&&"string"==typeof e.modelId&&"maxEmbeddingsPerCall"in e&&"number"==typeof e.maxEmbeddingsPerCall&&"values"in e&&Array.isArray(e.values)}toJSON(){return{name:this.name,message:this.message,stack:this.stack,provider:this.provider,modelId:this.modelId,maxEmbeddingsPerCall:this.maxEmbeddingsPerCall,values:this.values}}};c=U;var G="AI_TypeValidationError",J=`vercel.ai.error.${G}`,K=Symbol.for(J),H=class e extends g{constructor({value:e,cause:t}){super({name:G,message:`Type validation failed: Value: ${JSON.stringify(e)}.
Error message: ${O(t)}`,cause:t}),this[d]=!0,this.value=e}static isInstance(e){return g.hasMarker(e,J)}static wrap({value:t,cause:r}){return e.isInstance(r)&&r.value===t?r:new e({value:t,cause:r})}static isTypeValidationError(e){return e instanceof Error&&e.name===G}toJSON(){return{name:this.name,message:this.message,cause:this.cause,stack:this.stack,value:this.value}}};d=K;var W="AI_UnsupportedFunctionalityError",X=`vercel.ai.error.${W}`,Y=Symbol.for(X),Q=class extends g{constructor({functionality:e}){super({name:W,message:`'${e}' functionality not supported.`}),this[p]=!0,this.functionality=e}static isInstance(e){return g.hasMarker(e,X)}static isUnsupportedFunctionalityError(e){return e instanceof Error&&e.name===W&&"string"==typeof e.functionality}toJSON(){return{name:this.name,message:this.message,stack:this.stack,functionality:this.functionality}}};function ee(e){return null===e||"string"==typeof e||"number"==typeof e||"boolean"==typeof e||(Array.isArray(e)?e.every(ee):"object"==typeof e&&Object.entries(e).every(([e,t])=>"string"==typeof e&&ee(t)))}p=Y;let et=(e,t=21)=>(r=t)=>{let n="",a=r;for(;a--;)n+=e[Math.random()*e.length|0];return n};var er=r(32425);let en=[239,187,191];class ea extends TransformStream{constructor(){let e;super({start(t){e=function(e){let t,r,n,a,s,o,i;return l(),{feed:function(l){var u;r=r?r+l:l,t&&(u=r,en.every((e,t)=>u.charCodeAt(t)===e))&&(r=r.slice(en.length)),t=!1;let c=r.length,d=0,p=!1;for(;d<c;){let t;p&&("\n"===r[d]&&++d,p=!1);let l=-1,u=a;for(let e=n;l<0&&e<c;++e)":"===(t=r[e])&&u<0?u=e-d:"\r"===t?(p=!0,l=e-d):"\n"===t&&(l=e-d);if(l<0){n=c-d,a=u;break}n=0,a=-1,function(t,r,n,a){if(0===a){i.length>0&&(e({type:"event",id:s,event:o||void 0,data:i.slice(0,-1)}),i="",s=void 0),o=void 0;return}let l=n<0,u=t.slice(r,r+(l?a:n)),c=0;c=l?a:" "===t[r+n+1]?n+2:n+1;let d=r+c,p=a-c,f=t.slice(d,d+p).toString();if("data"===u)i+=f?"".concat(f,"\n"):"\n";else if("event"===u)o=f;else if("id"!==u||f.includes("\0")){if("retry"===u){let t=parseInt(f,10);Number.isNaN(t)||e({type:"reconnect-interval",value:t})}}else s=f}(r,d,u,l),d+=l+1}d===c?r="":d>0&&(r=r.slice(d))},reset:l};function l(){t=!0,r="",n=0,a=-1,s=void 0,o=void 0,i=""}}(e=>{"event"===e.type&&t.enqueue(e)})},transform(t){e.feed(t)}})}}function es(...e){return e.reduce((e,t)=>({...e,...null!=t?t:{}}),{})}function eo(e){let t={};return e.headers.forEach((e,r)=>{t[r]=e}),t}var ei=(({prefix:e="",size:t=7,alphabet:r="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz"}={})=>{let n=et(r,t);return t=>`${e}${n(t)}`})();function el(e){return e instanceof Error&&("AbortError"===e.name||"TimeoutError"===e.name)}var eu=Symbol.for("vercel.ai.validator");function ec({value:e,schema:t}){let r="object"==typeof t&&null!==t&&eu in t&&!0===t[eu]&&"validate"in t?t:{[eu]:!0,validate:e=>{let r=t.safeParse(e);return r.success?{success:!0,value:r.data}:{success:!1,error:r.error}}};try{if(null==r.validate)return{success:!0,value:e};let t=r.validate(e);if(t.success)return t;return{success:!1,error:H.wrap({value:e,cause:t.error})}}catch(t){return{success:!1,error:H.wrap({value:e,cause:t})}}}function ed({text:e,schema:t}){try{let r=er.parse(e);if(null==t)return{success:!0,value:r};return ec({value:r,schema:t})}catch(t){return{success:!1,error:D.isJSONParseError(t)?t:new D({text:e,cause:t})}}}function ep(e){try{return er.parse(e),!0}catch(e){return!1}}var ef=()=>globalThis.fetch,em=async({url:e,headers:t,body:r,failedResponseHandler:n,successfulResponseHandler:a,abortSignal:s,fetch:o})=>eh({url:e,headers:{"Content-Type":"application/json",...t},body:{content:JSON.stringify(r),values:r},failedResponseHandler:n,successfulResponseHandler:a,abortSignal:s,fetch:o}),eh=async({url:e,headers:t={},body:r,successfulResponseHandler:n,failedResponseHandler:a,abortSignal:s,fetch:o=ef()})=>{try{let i=await o(e,{method:"POST",headers:Object.fromEntries(Object.entries(t).filter(([e,t])=>null!=t)),body:r.content,signal:s}),l=eo(i);if(!i.ok){let t;try{t=await a({response:i,url:e,requestBodyValues:r.values})}catch(t){if(el(t)||b.isAPICallError(t))throw t;throw new b({message:"Failed to process error response",cause:t,statusCode:i.status,url:e,responseHeaders:l,requestBodyValues:r.values})}throw t.value}try{return await n({response:i,url:e,requestBodyValues:r.values})}catch(t){if(t instanceof Error&&(el(t)||b.isAPICallError(t)))throw t;throw new b({message:"Failed to process successful response",cause:t,statusCode:i.status,url:e,responseHeaders:l,requestBodyValues:r.values})}}catch(t){if(el(t))throw t;if(t instanceof TypeError&&"fetch failed"===t.message){let n=t.cause;if(null!=n)throw new b({message:`Cannot connect to API: ${n.message}`,cause:n,url:e,requestBodyValues:r.values,isRetryable:!0})}throw t}},eg=e=>async({response:t})=>{let r=eo(t);if(null==t.body)throw new T({});return{responseHeaders:r,value:t.body.pipeThrough(new TextDecoderStream).pipeThrough(new ea).pipeThrough(new TransformStream({transform({data:t},r){"[DONE]"!==t&&r.enqueue(ed({text:t,schema:e}))}}))}},ey=e=>async({response:t,url:r,requestBodyValues:n})=>{let a=await t.text(),s=ed({text:a,schema:e}),o=eo(t);if(!s.success)throw new b({message:"Invalid JSON response",cause:s.error,statusCode:t.status,responseHeaders:o,responseBody:a,url:r,requestBodyValues:n});return{responseHeaders:o,value:s.value}},{btoa:ev,atob:e_}=globalThis,eb=r(10692);function eS(e){var t,r;return null!=(r=null==(t=null==e?void 0:e.content)?void 0:t.map(({token:e,logprob:t,top_logprobs:r})=>({token:e,logprob:t,topLogprobs:r?r.map(({token:e,logprob:t})=>({token:e,logprob:t})):[]})))?r:void 0}function ew(e){switch(e){case"stop":return"stop";case"length":return"length";case"content_filter":return"content-filter";case"function_call":case"tool_calls":return"tool-calls";default:return"unknown"}}var ex=eb.z.object({error:eb.z.object({message:eb.z.string(),type:eb.z.string().nullish(),param:eb.z.any().nullish(),code:eb.z.union([eb.z.string(),eb.z.number()]).nullish()})}),eT=(({errorSchema:e,errorToMessage:t,isRetryable:r})=>async({response:n,url:a,requestBodyValues:s})=>{let o=await n.text(),i=eo(n);if(""===o.trim())return{responseHeaders:i,value:new b({message:n.statusText,url:a,requestBodyValues:s,statusCode:n.status,responseHeaders:i,responseBody:o,isRetryable:null==r?void 0:r(n)})};try{let l=function({text:e,schema:t}){try{let r=er.parse(e);if(null==t)return r;return function({value:e,schema:t}){let r=ec({value:e,schema:t});if(!r.success)throw H.wrap({value:e,cause:r.error});return r.value}({value:r,schema:t})}catch(t){if(D.isJSONParseError(t)||H.isTypeValidationError(t))throw t;throw new D({text:e,cause:t})}}({text:o,schema:e});return{responseHeaders:i,value:new b({message:t(l),url:a,requestBodyValues:s,statusCode:n.status,responseHeaders:i,responseBody:o,data:l,isRetryable:null==r?void 0:r(n,l)})}}catch(e){return{responseHeaders:i,value:new b({message:n.statusText,url:a,requestBodyValues:s,statusCode:n.status,responseHeaders:i,responseBody:o,isRetryable:null==r?void 0:r(n)})}}})({errorSchema:ex,errorToMessage:e=>e.error.message});function eO({id:e,model:t,created:r}){return{id:null!=e?e:void 0,modelId:null!=t?t:void 0,timestamp:null!=r?new Date(1e3*r):void 0}}var eE=class{constructor(e,t,r){this.specificationVersion="v1",this.modelId=e,this.settings=t,this.config=r}get supportsStructuredOutputs(){return!0===this.settings.structuredOutputs}get defaultObjectGenerationMode(){return this.supportsStructuredOutputs?"json":"tool"}get provider(){return this.config.provider}get supportsImageUrls(){return!this.settings.downloadImages}getArgs({mode:e,prompt:t,maxTokens:r,temperature:n,topP:a,topK:s,frequencyPenalty:o,presencePenalty:i,stopSequences:l,responseFormat:u,seed:c,providerMetadata:d}){var p,f,m;let h=e.type,g=[];null!=s&&g.push({type:"unsupported-setting",setting:"topK"}),null!=u&&"json"===u.type&&null!=u.schema&&g.push({type:"unsupported-setting",setting:"responseFormat",details:"JSON response format schema is not supported"});let y=this.settings.useLegacyFunctionCalling;if(y&&!0===this.settings.parallelToolCalls)throw new Q({functionality:"useLegacyFunctionCalling with parallelToolCalls"});if(y&&!0===this.settings.structuredOutputs)throw new Q({functionality:"structuredOutputs with useLegacyFunctionCalling"});let v={model:this.modelId,logit_bias:this.settings.logitBias,logprobs:!0===this.settings.logprobs||"number"==typeof this.settings.logprobs||void 0,top_logprobs:"number"==typeof this.settings.logprobs?this.settings.logprobs:"boolean"==typeof this.settings.logprobs&&this.settings.logprobs?0:void 0,user:this.settings.user,parallel_tool_calls:this.settings.parallelToolCalls,max_tokens:r,temperature:n,top_p:a,frequency_penalty:o,presence_penalty:i,stop:l,seed:c,max_completion_tokens:null!=(f=null==(p=null==d?void 0:d.openai)?void 0:p.maxCompletionTokens)?f:void 0,response_format:(null==u?void 0:u.type)==="json"?{type:"json_object"}:void 0,messages:function({prompt:e,useLegacyFunctionCalling:t=!1}){let r=[];for(let{role:n,content:a}of e)switch(n){case"system":r.push({role:"system",content:a});break;case"user":if(1===a.length&&"text"===a[0].type){r.push({role:"user",content:a[0].text});break}r.push({role:"user",content:a.map(e=>{var t,r,n;switch(e.type){case"text":return{type:"text",text:e.text};case"image":return{type:"image_url",image_url:{url:e.image instanceof URL?e.image.toString():`data:${null!=(t=e.mimeType)?t:"image/jpeg"};base64,${function(e){let t="";for(let r=0;r<e.length;r++)t+=String.fromCodePoint(e[r]);return ev(t)}(e.image)}`,detail:null==(n=null==(r=e.providerMetadata)?void 0:r.openai)?void 0:n.imageDetail}};case"file":throw new Q({functionality:"File content parts in user messages"})}})});break;case"assistant":{let e="",n=[];for(let t of a)switch(t.type){case"text":e+=t.text;break;case"tool-call":n.push({id:t.toolCallId,type:"function",function:{name:t.toolName,arguments:JSON.stringify(t.args)}});break;default:throw Error(`Unsupported part: ${t}`)}if(t){if(n.length>1)throw new Q({functionality:"useLegacyFunctionCalling with multiple tool calls in one message"});r.push({role:"assistant",content:e,function_call:n.length>0?n[0].function:void 0})}else r.push({role:"assistant",content:e,tool_calls:n.length>0?n:void 0});break}case"tool":for(let e of a)t?r.push({role:"function",name:e.toolName,content:JSON.stringify(e.result)}):r.push({role:"tool",tool_call_id:e.toolCallId,content:JSON.stringify(e.result)});break;default:throw Error(`Unsupported role: ${n}`)}return r}({prompt:t,useLegacyFunctionCalling:y})};switch(eI(this.modelId)&&(v.temperature=void 0,v.top_p=void 0,v.frequency_penalty=void 0,v.presence_penalty=void 0),h){case"regular":return{args:{...v,...function({mode:e,useLegacyFunctionCalling:t=!1,structuredOutputs:r=!1}){var n;let a=(null==(n=e.tools)?void 0:n.length)?e.tools:void 0;if(null==a)return{tools:void 0,tool_choice:void 0};let s=e.toolChoice;if(t){let e=a.map(e=>({name:e.name,description:e.description,parameters:e.parameters}));if(null==s)return{functions:e,function_call:void 0};switch(s.type){case"auto":case"none":case void 0:return{functions:e,function_call:void 0};case"required":throw new Q({functionality:"useLegacyFunctionCalling and toolChoice: required"});default:return{functions:e,function_call:{name:s.toolName}}}}let o=a.map(e=>({type:"function",function:{name:e.name,description:e.description,parameters:e.parameters,strict:!0===r||void 0}}));if(null==s)return{tools:o,tool_choice:void 0};let i=s.type;switch(i){case"auto":case"none":case"required":return{tools:o,tool_choice:i};case"tool":return{tools:o,tool_choice:{type:"function",function:{name:s.toolName}}};default:throw Error(`Unsupported tool choice type: ${i}`)}}({mode:e,useLegacyFunctionCalling:y,structuredOutputs:this.settings.structuredOutputs})},warnings:g};case"object-json":return{args:{...v,response_format:!0===this.settings.structuredOutputs?{type:"json_schema",json_schema:{schema:e.schema,strict:!0,name:null!=(m=e.name)?m:"response",description:e.description}}:{type:"json_object"}},warnings:g};case"object-tool":return{args:y?{...v,function_call:{name:e.tool.name},functions:[{name:e.tool.name,description:e.tool.description,parameters:e.tool.parameters}]}:{...v,tool_choice:{type:"function",function:{name:e.tool.name}},tools:[{type:"function",function:{name:e.tool.name,description:e.tool.description,parameters:e.tool.parameters,strict:!0===this.settings.structuredOutputs||void 0}}]},warnings:g};default:throw Error(`Unsupported type: ${h}`)}}async doGenerate(e){var t,r,n,a,s,o,i,l,u,c;let{args:d,warnings:p}=this.getArgs(e),{responseHeaders:f,value:m}=await em({url:this.config.url({path:"/chat/completions",modelId:this.modelId}),headers:es(this.config.headers(),e.headers),body:d,failedResponseHandler:eT,successfulResponseHandler:ey(ek),abortSignal:e.abortSignal,fetch:this.config.fetch}),{messages:h,...g}=d,y=m.choices[0],v=(null==(r=null==(t=m.usage)?void 0:t.completion_tokens_details)?void 0:r.reasoning_tokens)!=null?{openai:{reasoningTokens:null==(a=null==(n=m.usage)?void 0:n.completion_tokens_details)?void 0:a.reasoning_tokens}}:void 0;return{text:null!=(s=y.message.content)?s:void 0,toolCalls:this.settings.useLegacyFunctionCalling&&y.message.function_call?[{toolCallType:"function",toolCallId:ei(),toolName:y.message.function_call.name,args:y.message.function_call.arguments}]:null==(o=y.message.tool_calls)?void 0:o.map(e=>{var t;return{toolCallType:"function",toolCallId:null!=(t=e.id)?t:ei(),toolName:e.function.name,args:e.function.arguments}}),finishReason:ew(y.finish_reason),usage:{promptTokens:null!=(l=null==(i=m.usage)?void 0:i.prompt_tokens)?l:NaN,completionTokens:null!=(c=null==(u=m.usage)?void 0:u.completion_tokens)?c:NaN},rawCall:{rawPrompt:h,rawSettings:g},rawResponse:{headers:f},response:eO(m),warnings:p,logprobs:eS(y.logprobs),providerMetadata:v}}async doStream(e){let t;if(eI(this.modelId)){let t=await this.doGenerate(e);return{stream:new ReadableStream({start(e){if(e.enqueue({type:"response-metadata",...t.response}),t.text&&e.enqueue({type:"text-delta",textDelta:t.text}),t.toolCalls)for(let r of t.toolCalls)e.enqueue({type:"tool-call",...r});e.enqueue({type:"finish",finishReason:t.finishReason,usage:t.usage,logprobs:t.logprobs,providerMetadata:t.providerMetadata}),e.close()}}),rawCall:t.rawCall,rawResponse:t.rawResponse,warnings:t.warnings}}let{args:r,warnings:n}=this.getArgs(e),{responseHeaders:a,value:s}=await em({url:this.config.url({path:"/chat/completions",modelId:this.modelId}),headers:es(this.config.headers(),e.headers),body:{...r,stream:!0,stream_options:"strict"===this.config.compatibility?{include_usage:!0}:void 0},failedResponseHandler:eT,successfulResponseHandler:eg(eA),abortSignal:e.abortSignal,fetch:this.config.fetch}),{messages:o,...i}=r,l=[],u="unknown",c={promptTokens:void 0,completionTokens:void 0},d=!0,{useLegacyFunctionCalling:p}=this.settings;return{stream:s.pipeThrough(new TransformStream({transform(e,r){var n,a,s,o,i,f,m,h,g,y,v,_,b,S;if(!e.success){u="error",r.enqueue({type:"error",error:e.error});return}let w=e.value;if("error"in w){u="error",r.enqueue({type:"error",error:w.error});return}d&&(d=!1,r.enqueue({type:"response-metadata",...eO(w)})),null!=w.usage&&(c={promptTokens:null!=(n=w.usage.prompt_tokens)?n:void 0,completionTokens:null!=(a=w.usage.completion_tokens)?a:void 0});let x=w.choices[0];if((null==x?void 0:x.finish_reason)!=null&&(u=ew(x.finish_reason)),(null==x?void 0:x.delta)==null)return;let T=x.delta;null!=T.content&&r.enqueue({type:"text-delta",textDelta:T.content});let O=eS(null==x?void 0:x.logprobs);(null==O?void 0:O.length)&&(void 0===t&&(t=[]),t.push(...O));let E=p&&null!=T.function_call?[{type:"function",id:ei(),function:T.function_call,index:0}]:T.tool_calls;if(null!=E)for(let e of E){let t=e.index;if(null==l[t]){if("function"!==e.type)throw new P({data:e,message:"Expected 'function' type."});if(null==e.id)throw new P({data:e,message:"Expected 'id' to be a string."});if((null==(s=e.function)?void 0:s.name)==null)throw new P({data:e,message:"Expected 'function.name' to be a string."});l[t]={id:e.id,type:"function",function:{name:e.function.name,arguments:null!=(o=e.function.arguments)?o:""}};let n=l[t];(null==(i=n.function)?void 0:i.name)!=null&&(null==(f=n.function)?void 0:f.arguments)!=null&&(n.function.arguments.length>0&&r.enqueue({type:"tool-call-delta",toolCallType:"function",toolCallId:n.id,toolName:n.function.name,argsTextDelta:n.function.arguments}),ep(n.function.arguments)&&r.enqueue({type:"tool-call",toolCallType:"function",toolCallId:null!=(m=n.id)?m:ei(),toolName:n.function.name,args:n.function.arguments}));continue}let n=l[t];(null==(h=e.function)?void 0:h.arguments)!=null&&(n.function.arguments+=null!=(y=null==(g=e.function)?void 0:g.arguments)?y:""),r.enqueue({type:"tool-call-delta",toolCallType:"function",toolCallId:n.id,toolName:n.function.name,argsTextDelta:null!=(v=e.function.arguments)?v:""}),(null==(_=n.function)?void 0:_.name)!=null&&(null==(b=n.function)?void 0:b.arguments)!=null&&ep(n.function.arguments)&&r.enqueue({type:"tool-call",toolCallType:"function",toolCallId:null!=(S=n.id)?S:ei(),toolName:n.function.name,args:n.function.arguments})}},flush(e){var r,n;e.enqueue({type:"finish",finishReason:u,logprobs:t,usage:{promptTokens:null!=(r=c.promptTokens)?r:NaN,completionTokens:null!=(n=c.completionTokens)?n:NaN}})}})),rawCall:{rawPrompt:o,rawSettings:i},rawResponse:{headers:a},warnings:n}}},eN=eb.z.object({prompt_tokens:eb.z.number().nullish(),completion_tokens:eb.z.number().nullish(),completion_tokens_details:eb.z.object({reasoning_tokens:eb.z.number().nullish()}).nullish()}).nullish(),ek=eb.z.object({id:eb.z.string().nullish(),created:eb.z.number().nullish(),model:eb.z.string().nullish(),choices:eb.z.array(eb.z.object({message:eb.z.object({role:eb.z.literal("assistant").nullish(),content:eb.z.string().nullish(),function_call:eb.z.object({arguments:eb.z.string(),name:eb.z.string()}).nullish(),tool_calls:eb.z.array(eb.z.object({id:eb.z.string().nullish(),type:eb.z.literal("function"),function:eb.z.object({name:eb.z.string(),arguments:eb.z.string()})})).nullish()}),index:eb.z.number(),logprobs:eb.z.object({content:eb.z.array(eb.z.object({token:eb.z.string(),logprob:eb.z.number(),top_logprobs:eb.z.array(eb.z.object({token:eb.z.string(),logprob:eb.z.number()}))})).nullable()}).nullish(),finish_reason:eb.z.string().nullish()})),usage:eN}),eA=eb.z.union([eb.z.object({id:eb.z.string().nullish(),created:eb.z.number().nullish(),model:eb.z.string().nullish(),choices:eb.z.array(eb.z.object({delta:eb.z.object({role:eb.z.enum(["assistant"]).nullish(),content:eb.z.string().nullish(),function_call:eb.z.object({name:eb.z.string().optional(),arguments:eb.z.string().optional()}).nullish(),tool_calls:eb.z.array(eb.z.object({index:eb.z.number(),id:eb.z.string().nullish(),type:eb.z.literal("function").optional(),function:eb.z.object({name:eb.z.string().nullish(),arguments:eb.z.string().nullish()})})).nullish()}).nullish(),logprobs:eb.z.object({content:eb.z.array(eb.z.object({token:eb.z.string(),logprob:eb.z.number(),top_logprobs:eb.z.array(eb.z.object({token:eb.z.string(),logprob:eb.z.number()}))})).nullable()}).nullish(),finish_reason:eb.z.string().nullable().optional(),index:eb.z.number()})),usage:eN}),ex]);function eI(e){return e.startsWith("o1-")}function eC(e){return null==e?void 0:e.tokens.map((t,r)=>({token:t,logprob:e.token_logprobs[r],topLogprobs:e.top_logprobs?Object.entries(e.top_logprobs[r]).map(([e,t])=>({token:e,logprob:t})):[]}))}var eR=class{constructor(e,t,r){this.specificationVersion="v1",this.defaultObjectGenerationMode=void 0,this.modelId=e,this.settings=t,this.config=r}get provider(){return this.config.provider}getArgs({mode:e,inputFormat:t,prompt:r,maxTokens:n,temperature:a,topP:s,topK:o,frequencyPenalty:i,presencePenalty:l,stopSequences:u,responseFormat:c,seed:d}){var p;let f=e.type,m=[];null!=o&&m.push({type:"unsupported-setting",setting:"topK"}),null!=c&&"text"!==c.type&&m.push({type:"unsupported-setting",setting:"responseFormat",details:"JSON response format is not supported."});let{prompt:h,stopSequences:g}=function({prompt:e,inputFormat:t,user:r="user",assistant:n="assistant"}){if("prompt"===t&&1===e.length&&"user"===e[0].role&&1===e[0].content.length&&"text"===e[0].content[0].type)return{prompt:e[0].content[0].text};let a="";for(let{role:t,content:s}of("system"===e[0].role&&(a+=`${e[0].content}

`,e=e.slice(1)),e))switch(t){case"system":throw new A({message:"Unexpected system message in prompt: ${content}",prompt:e});case"user":{let e=s.map(e=>{switch(e.type){case"text":return e.text;case"image":throw new Q({functionality:"images"})}}).join("");a+=`${r}:
${e}

`;break}case"assistant":{let e=s.map(e=>{switch(e.type){case"text":return e.text;case"tool-call":throw new Q({functionality:"tool-call messages"})}}).join("");a+=`${n}:
${e}

`;break}case"tool":throw new Q({functionality:"tool messages"});default:throw Error(`Unsupported role: ${t}`)}return{prompt:a+=`${n}:
`,stopSequences:[`
${r}:`]}}({prompt:r,inputFormat:t}),y=[...null!=g?g:[],...null!=u?u:[]],v={model:this.modelId,echo:this.settings.echo,logit_bias:this.settings.logitBias,logprobs:"number"==typeof this.settings.logprobs?this.settings.logprobs:"boolean"==typeof this.settings.logprobs&&this.settings.logprobs?0:void 0,suffix:this.settings.suffix,user:this.settings.user,max_tokens:n,temperature:a,top_p:s,frequency_penalty:i,presence_penalty:l,seed:d,prompt:h,stop:y.length>0?y:void 0};switch(f){case"regular":if(null==(p=e.tools)?void 0:p.length)throw new Q({functionality:"tools"});if(e.toolChoice)throw new Q({functionality:"toolChoice"});return{args:v,warnings:m};case"object-json":throw new Q({functionality:"object-json mode"});case"object-tool":throw new Q({functionality:"object-tool mode"});default:throw Error(`Unsupported type: ${f}`)}}async doGenerate(e){let{args:t,warnings:r}=this.getArgs(e),{responseHeaders:n,value:a}=await em({url:this.config.url({path:"/completions",modelId:this.modelId}),headers:es(this.config.headers(),e.headers),body:t,failedResponseHandler:eT,successfulResponseHandler:ey(eP),abortSignal:e.abortSignal,fetch:this.config.fetch}),{prompt:s,...o}=t,i=a.choices[0];return{text:i.text,usage:{promptTokens:a.usage.prompt_tokens,completionTokens:a.usage.completion_tokens},finishReason:ew(i.finish_reason),logprobs:eC(i.logprobs),rawCall:{rawPrompt:s,rawSettings:o},rawResponse:{headers:n},response:eO(a),warnings:r}}async doStream(e){let t;let{args:r,warnings:n}=this.getArgs(e),{responseHeaders:a,value:s}=await em({url:this.config.url({path:"/completions",modelId:this.modelId}),headers:es(this.config.headers(),e.headers),body:{...r,stream:!0,stream_options:"strict"===this.config.compatibility?{include_usage:!0}:void 0},failedResponseHandler:eT,successfulResponseHandler:eg(eM),abortSignal:e.abortSignal,fetch:this.config.fetch}),{prompt:o,...i}=r,l="unknown",u={promptTokens:Number.NaN,completionTokens:Number.NaN},c=!0;return{stream:s.pipeThrough(new TransformStream({transform(e,r){if(!e.success){l="error",r.enqueue({type:"error",error:e.error});return}let n=e.value;if("error"in n){l="error",r.enqueue({type:"error",error:n.error});return}c&&(c=!1,r.enqueue({type:"response-metadata",...eO(n)})),null!=n.usage&&(u={promptTokens:n.usage.prompt_tokens,completionTokens:n.usage.completion_tokens});let a=n.choices[0];(null==a?void 0:a.finish_reason)!=null&&(l=ew(a.finish_reason)),(null==a?void 0:a.text)!=null&&r.enqueue({type:"text-delta",textDelta:a.text});let s=eC(null==a?void 0:a.logprobs);(null==s?void 0:s.length)&&(void 0===t&&(t=[]),t.push(...s))},flush(e){e.enqueue({type:"finish",finishReason:l,logprobs:t,usage:u})}})),rawCall:{rawPrompt:o,rawSettings:i},rawResponse:{headers:a},warnings:n}}},eP=eb.z.object({id:eb.z.string().nullish(),created:eb.z.number().nullish(),model:eb.z.string().nullish(),choices:eb.z.array(eb.z.object({text:eb.z.string(),finish_reason:eb.z.string(),logprobs:eb.z.object({tokens:eb.z.array(eb.z.string()),token_logprobs:eb.z.array(eb.z.number()),top_logprobs:eb.z.array(eb.z.record(eb.z.string(),eb.z.number())).nullable()}).nullish()})),usage:eb.z.object({prompt_tokens:eb.z.number(),completion_tokens:eb.z.number()})}),eM=eb.z.union([eb.z.object({id:eb.z.string().nullish(),created:eb.z.number().nullish(),model:eb.z.string().nullish(),choices:eb.z.array(eb.z.object({text:eb.z.string(),finish_reason:eb.z.string().nullish(),index:eb.z.number(),logprobs:eb.z.object({tokens:eb.z.array(eb.z.string()),token_logprobs:eb.z.array(eb.z.number()),top_logprobs:eb.z.array(eb.z.record(eb.z.string(),eb.z.number())).nullable()}).nullish()})),usage:eb.z.object({prompt_tokens:eb.z.number(),completion_tokens:eb.z.number()}).nullish()}),ex]),ej=class{constructor(e,t,r){this.specificationVersion="v1",this.modelId=e,this.settings=t,this.config=r}get provider(){return this.config.provider}get maxEmbeddingsPerCall(){var e;return null!=(e=this.settings.maxEmbeddingsPerCall)?e:2048}get supportsParallelCalls(){var e;return null==(e=this.settings.supportsParallelCalls)||e}async doEmbed({values:e,headers:t,abortSignal:r}){if(e.length>this.maxEmbeddingsPerCall)throw new q({provider:this.provider,modelId:this.modelId,maxEmbeddingsPerCall:this.maxEmbeddingsPerCall,values:e});let{responseHeaders:n,value:a}=await em({url:this.config.url({path:"/embeddings",modelId:this.modelId}),headers:es(this.config.headers(),t),body:{model:this.modelId,input:e,encoding_format:"float",dimensions:this.settings.dimensions,user:this.settings.user},failedResponseHandler:eT,successfulResponseHandler:ey(eL),abortSignal:r,fetch:this.config.fetch});return{embeddings:a.data.map(e=>e.embedding),usage:a.usage?{tokens:a.usage.prompt_tokens}:void 0,rawResponse:{headers:n}}}},eL=eb.z.object({data:eb.z.array(eb.z.object({embedding:eb.z.array(eb.z.number())})),usage:eb.z.object({prompt_tokens:eb.z.number()}).nullish()});function eD(e={}){var t,r,n,a;let s=null!=(r=null==(a=null!=(t=e.baseURL)?t:e.baseUrl)?void 0:a.replace(/\/$/,""))?r:"https://api.openai.com/v1",o=null!=(n=e.compatibility)?n:"compatible",i=()=>({Authorization:`Bearer ${function({apiKey:e,environmentVariableName:t,apiKeyParameterName:r="apiKey",description:n}){if("string"==typeof e)return e;if(null!=e)throw new F({message:`${n} API key must be a string.`});if("undefined"==typeof process)throw new F({message:`${n} API key is missing. Pass it using the '${r}' parameter. Environment variables is not supported in this environment.`});if(null==(e=process.env[t]))throw new F({message:`${n} API key is missing. Pass it using the '${r}' parameter or the ${t} environment variable.`});if("string"!=typeof e)throw new F({message:`${n} API key must be a string. The value of the ${t} environment variable is not a string.`});return e}({apiKey:e.apiKey,environmentVariableName:"OPENAI_API_KEY",description:"OpenAI"})}`,"OpenAI-Organization":e.organization,"OpenAI-Project":e.project,...e.headers}),l=(t,r={})=>new eE(t,r,{provider:"openai.chat",url:({path:e})=>`${s}${e}`,headers:i,compatibility:o,fetch:e.fetch}),u=(t,r={})=>new eR(t,r,{provider:"openai.completion",url:({path:e})=>`${s}${e}`,headers:i,compatibility:o,fetch:e.fetch}),c=(t,r={})=>new ej(t,r,{provider:"openai.embedding",url:({path:e})=>`${s}${e}`,headers:i,fetch:e.fetch}),d=(e,t)=>{if(new.target)throw Error("The OpenAI model function cannot be called with the new keyword.");return"gpt-3.5-turbo-instruct"===e?u(e,t):l(e,t)},p=function(e,t){return d(e,t)};return p.languageModel=d,p.chat=l,p.completion=u,p.embedding=c,p.textEmbedding=c,p.textEmbeddingModel=c,p}var ez=eD({compatibility:"strict"})},50120:(e,t,r)=>{"use strict";let n;r.d(t,{_4:()=>r_});var a,s,o,i,l,u,c,d,p,f,m,h,g,y,v,_,b,S,w,x,T="vercel.ai.error",O=Symbol.for(T),E=class e extends Error{constructor({name:e,message:t,cause:r}){super(t),this[a]=!0,this.name=e,this.cause=r}static isInstance(t){return e.hasMarker(t,T)}static hasMarker(e,t){let r=Symbol.for(t);return null!=e&&"object"==typeof e&&r in e&&"boolean"==typeof e[r]&&!0===e[r]}toJSON(){return{name:this.name,message:this.message}}};a=O;var N=E,k="AI_APICallError",A=`vercel.ai.error.${k}`,I=Symbol.for(A),C=class extends N{constructor({message:e,url:t,requestBodyValues:r,statusCode:n,responseHeaders:a,responseBody:o,cause:i,isRetryable:l=null!=n&&(408===n||409===n||429===n||n>=500),data:u}){super({name:k,message:e,cause:i}),this[s]=!0,this.url=t,this.requestBodyValues=r,this.statusCode=n,this.responseHeaders=a,this.responseBody=o,this.isRetryable=l,this.data=u}static isInstance(e){return N.hasMarker(e,A)}static isAPICallError(e){return e instanceof Error&&e.name===k&&"string"==typeof e.url&&"object"==typeof e.requestBodyValues&&(null==e.statusCode||"number"==typeof e.statusCode)&&(null==e.responseHeaders||"object"==typeof e.responseHeaders)&&(null==e.responseBody||"string"==typeof e.responseBody)&&(null==e.cause||"object"==typeof e.cause)&&"boolean"==typeof e.isRetryable&&(null==e.data||"object"==typeof e.data)}toJSON(){return{name:this.name,message:this.message,url:this.url,requestBodyValues:this.requestBodyValues,statusCode:this.statusCode,responseHeaders:this.responseHeaders,responseBody:this.responseBody,cause:this.cause,isRetryable:this.isRetryable,data:this.data}}};function R(e){return null==e?"unknown error":"string"==typeof e?e:e instanceof Error?e.message:JSON.stringify(e)}s=I,Symbol.for("vercel.ai.error.AI_EmptyResponseBodyError");var P="AI_InvalidArgumentError",M=`vercel.ai.error.${P}`,j=Symbol.for(M),L=class extends N{constructor({message:e,cause:t,argument:r}){super({name:P,message:e,cause:t}),this[o]=!0,this.argument=r}static isInstance(e){return N.hasMarker(e,M)}};o=j;var D="AI_InvalidPromptError",z=`vercel.ai.error.${D}`,$=Symbol.for(z),Z=class extends N{constructor({prompt:e,message:t,cause:r}){super({name:D,message:`Invalid prompt: ${t}`,cause:r}),this[i]=!0,this.prompt=e}static isInstance(e){return N.hasMarker(e,z)}static isInvalidPromptError(e){return e instanceof Error&&e.name===D&&null!=prompt}toJSON(){return{name:this.name,message:this.message,stack:this.stack,prompt:this.prompt}}};i=$,Symbol.for("vercel.ai.error.AI_InvalidResponseDataError");var F="AI_JSONParseError",B=`vercel.ai.error.${F}`,V=Symbol.for(B),U=class extends N{constructor({text:e,cause:t}){super({name:F,message:`JSON parsing failed: Text: ${e}.
Error message: ${R(t)}`,cause:t}),this[l]=!0,this.text=e}static isInstance(e){return N.hasMarker(e,B)}static isJSONParseError(e){return e instanceof Error&&e.name===F&&"text"in e&&"string"==typeof e.text}toJSON(){return{name:this.name,message:this.message,cause:this.cause,stack:this.stack,valueText:this.text}}};l=V,Symbol.for("vercel.ai.error.AI_LoadAPIKeyError"),Symbol.for("vercel.ai.error.AI_LoadSettingError"),Symbol.for("vercel.ai.error.AI_NoContentGeneratedError");var q="AI_NoSuchModelError",G=`vercel.ai.error.${q}`,J=Symbol.for(G),K=class extends N{constructor({errorName:e=q,modelId:t,modelType:r,message:n=`No such ${r}: ${t}`}){super({name:e,message:n}),this[u]=!0,this.modelId=t,this.modelType=r}static isInstance(e){return N.hasMarker(e,G)}static isNoSuchModelError(e){return e instanceof Error&&e.name===q&&"string"==typeof e.modelId&&"string"==typeof e.modelType}toJSON(){return{name:this.name,message:this.message,stack:this.stack,modelId:this.modelId,modelType:this.modelType}}};u=J,Symbol.for("vercel.ai.error.AI_TooManyEmbeddingValuesForCallError");var H="AI_TypeValidationError",W=`vercel.ai.error.${H}`,X=Symbol.for(W),Y=class e extends N{constructor({value:e,cause:t}){super({name:H,message:`Type validation failed: Value: ${JSON.stringify(e)}.
Error message: ${R(t)}`,cause:t}),this[c]=!0,this.value=e}static isInstance(e){return N.hasMarker(e,W)}static wrap({value:t,cause:r}){return e.isInstance(r)&&r.value===t?r:new e({value:t,cause:r})}static isTypeValidationError(e){return e instanceof Error&&e.name===H}toJSON(){return{name:this.name,message:this.message,cause:this.cause,stack:this.stack,value:this.value}}};c=X;var Q="AI_UnsupportedFunctionalityError",ee=`vercel.ai.error.${Q}`,et=Symbol.for(ee),er=class extends N{constructor({functionality:e}){super({name:Q,message:`'${e}' functionality not supported.`}),this[d]=!0,this.functionality=e}static isInstance(e){return N.hasMarker(e,ee)}static isUnsupportedFunctionalityError(e){return e instanceof Error&&e.name===Q&&"string"==typeof e.functionality}toJSON(){return{name:this.name,message:this.message,stack:this.stack,functionality:this.functionality}}};function en(e){return null===e||"string"==typeof e||"number"==typeof e||"boolean"==typeof e||(Array.isArray(e)?e.every(en):"object"==typeof e&&Object.entries(e).every(([e,t])=>"string"==typeof e&&en(t)))}d=et;var ea=r(16748),es=r(32425),eo=({prefix:e,size:t=7,alphabet:r="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",separator:n="-"}={})=>{let a=(0,ea.k)(r,t);if(null==e)return a;if(r.includes(n))throw new L({argument:"separator",message:`The separator "${n}" must not be part of the alphabet "${r}".`});return t=>`${e}${n}${a(t)}`};eo();var ei=Symbol.for("vercel.ai.validator");function el({value:e,schema:t}){let r="object"==typeof t&&null!==t&&ei in t&&!0===t[ei]&&"validate"in t?t:{[ei]:!0,validate:e=>{let r=t.safeParse(e);return r.success?{success:!0,value:r.data}:{success:!1,error:r.error}}};try{if(null==r.validate)return{success:!0,value:e};let t=r.validate(e);if(t.success)return t;return{success:!1,error:Y.wrap({value:e,cause:t.error})}}catch(t){return{success:!1,error:Y.wrap({value:e,cause:t})}}}var{btoa:eu,atob:ec}=globalThis;function ed(e){let t="";for(let r=0;r<e.length;r++)t+=String.fromCodePoint(e[r]);return eu(t)}var ep=r(9974),ef=r(73701),em=r(10692),eh="vercel.ai.error",eg=Symbol.for(eh),ey=class e extends Error{constructor({name:e,message:t,cause:r}){super(t),this[p]=!0,this.name=e,this.cause=r}static isInstance(t){return e.hasMarker(t,eh)}static hasMarker(e,t){let r=Symbol.for(t);return null!=e&&"object"==typeof e&&r in e&&"boolean"==typeof e[r]&&!0===e[r]}toJSON(){return{name:this.name,message:this.message}}};p=eg;var ev=ey,e_=(Symbol.for("vercel.ai.error.AI_APICallError"),Symbol.for("vercel.ai.error.AI_EmptyResponseBodyError"),"AI_InvalidArgumentError"),eb=`vercel.ai.error.${e_}`,eS=Symbol.for(eb),ew=class extends ev{constructor({message:e,cause:t,argument:r}){super({name:e_,message:e,cause:t}),this[f]=!0,this.argument=r}static isInstance(e){return ev.hasMarker(e,eb)}};function ex(e){return null===e||"string"==typeof e||"number"==typeof e||"boolean"==typeof e||(Array.isArray(e)?e.every(ex):"object"==typeof e&&Object.entries(e).every(([e,t])=>"string"==typeof e&&ex(t)))}f=eS,Symbol.for("vercel.ai.error.AI_InvalidPromptError"),Symbol.for("vercel.ai.error.AI_InvalidResponseDataError"),Symbol.for("vercel.ai.error.AI_JSONParseError"),Symbol.for("vercel.ai.error.AI_LoadAPIKeyError"),Symbol.for("vercel.ai.error.AI_LoadSettingError"),Symbol.for("vercel.ai.error.AI_NoContentGeneratedError"),Symbol.for("vercel.ai.error.AI_NoSuchModelError"),Symbol.for("vercel.ai.error.AI_TooManyEmbeddingValuesForCallError"),Symbol.for("vercel.ai.error.AI_TypeValidationError"),Symbol.for("vercel.ai.error.AI_UnsupportedFunctionalityError");(({prefix:e,size:t=7,alphabet:r="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",separator:n="-"}={})=>{let a=(0,ea.k)(r,t);if(null!=e){if(r.includes(n))throw new ew({argument:"separator",message:`The separator "${n}" must not be part of the alphabet "${r}".`});return t=>`${e}${n}${a(t)}`}})();var eT=Symbol.for("vercel.ai.validator"),{btoa:eO,atob:eE}=globalThis;let eN=Symbol("Let zodToJsonSchema decide on which parser to use"),ek={name:void 0,$refStrategy:"root",basePath:["#"],effectStrategy:"input",pipeStrategy:"all",dateStrategy:"format:date-time",mapStrategy:"entries",removeAdditionalStrategy:"passthrough",allowedAdditionalProperties:!0,rejectedAdditionalProperties:!1,definitionPath:"definitions",target:"jsonSchema7",strictUnions:!1,definitions:{},errorMessages:!1,markdownDescription:!1,patternStrategy:"escape",applyRegexFlags:!1,emailStrategy:"format:email",base64Strategy:"contentEncoding:base64",nameStrategy:"ref"},eA=e=>"string"==typeof e?{...ek,name:e}:{...ek,...e},eI=e=>{let t=eA(e),r=void 0!==t.name?[...t.basePath,t.definitionPath,t.name]:t.basePath;return{...t,currentPath:r,propertyPath:void 0,seen:new Map(Object.entries(t.definitions).map(([e,r])=>[r._def,{def:r._def,path:[...t.basePath,t.definitionPath,e],jsonSchema:void 0}]))}};function eC(e,t,r,n){n?.errorMessages&&r&&(e.errorMessage={...e.errorMessage,[t]:r})}function eR(e,t,r,n,a){e[t]=r,eC(e,t,n,a)}function eP(e,t){return eX(e.type._def,t)}let eM=(e,t)=>eX(e.innerType._def,t),ej=(e,t)=>{let r={type:"integer",format:"unix-time"};if("openApi3"===t.target)return r;for(let n of e.checks)switch(n.kind){case"min":eR(r,"minimum",n.value,n.message,t);break;case"max":eR(r,"maximum",n.value,n.message,t)}return r},eL=e=>(!("type"in e)||"string"!==e.type)&&"allOf"in e,eD={cuid:/^[cC][^\s-]{8,}$/,cuid2:/^[0-9a-z]+$/,ulid:/^[0-9A-HJKMNP-TV-Z]{26}$/,email:/^(?!\.)(?!.*\.\.)([a-zA-Z0-9_'+\-\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\-]*\.)+[a-zA-Z]{2,}$/,emoji:()=>(void 0===n&&(n=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),n),ipv4Cidr:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,ipv6Cidr:/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,base64:/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,base64url:/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,nanoid:/^[a-zA-Z0-9_-]{21}$/,jwt:/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/};function ez(e,t){let r={type:"string"};if(e.checks)for(let n of e.checks)switch(n.kind){case"min":eR(r,"minLength","number"==typeof r.minLength?Math.max(r.minLength,n.value):n.value,n.message,t);break;case"max":eR(r,"maxLength","number"==typeof r.maxLength?Math.min(r.maxLength,n.value):n.value,n.message,t);break;case"email":switch(t.emailStrategy){case"format:email":eF(r,"email",n.message,t);break;case"format:idn-email":eF(r,"idn-email",n.message,t);break;case"pattern:zod":eB(r,eD.email,n.message,t)}break;case"url":eF(r,"uri",n.message,t);break;case"uuid":eF(r,"uuid",n.message,t);break;case"regex":eB(r,n.regex,n.message,t);break;case"cuid":eB(r,eD.cuid,n.message,t);break;case"cuid2":eB(r,eD.cuid2,n.message,t);break;case"startsWith":eB(r,RegExp(`^${e$(n.value,t)}`),n.message,t);break;case"endsWith":eB(r,RegExp(`${e$(n.value,t)}$`),n.message,t);break;case"datetime":eF(r,"date-time",n.message,t);break;case"date":eF(r,"date",n.message,t);break;case"time":eF(r,"time",n.message,t);break;case"duration":eF(r,"duration",n.message,t);break;case"length":eR(r,"minLength","number"==typeof r.minLength?Math.max(r.minLength,n.value):n.value,n.message,t),eR(r,"maxLength","number"==typeof r.maxLength?Math.min(r.maxLength,n.value):n.value,n.message,t);break;case"includes":eB(r,RegExp(e$(n.value,t)),n.message,t);break;case"ip":"v6"!==n.version&&eF(r,"ipv4",n.message,t),"v4"!==n.version&&eF(r,"ipv6",n.message,t);break;case"base64url":eB(r,eD.base64url,n.message,t);break;case"jwt":eB(r,eD.jwt,n.message,t);break;case"cidr":"v6"!==n.version&&eB(r,eD.ipv4Cidr,n.message,t),"v4"!==n.version&&eB(r,eD.ipv6Cidr,n.message,t);break;case"emoji":eB(r,eD.emoji(),n.message,t);break;case"ulid":eB(r,eD.ulid,n.message,t);break;case"base64":switch(t.base64Strategy){case"format:binary":eF(r,"binary",n.message,t);break;case"contentEncoding:base64":eR(r,"contentEncoding","base64",n.message,t);break;case"pattern:zod":eB(r,eD.base64,n.message,t)}break;case"nanoid":eB(r,eD.nanoid,n.message,t)}return r}function e$(e,t){return"escape"===t.patternStrategy?function(e){let t="";for(let r=0;r<e.length;r++)eZ.has(e[r])||(t+="\\"),t+=e[r];return t}(e):e}let eZ=new Set("ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvxyz0123456789");function eF(e,t,r,n){e.format||e.anyOf?.some(e=>e.format)?(e.anyOf||(e.anyOf=[]),e.format&&(e.anyOf.push({format:e.format,...e.errorMessage&&n.errorMessages&&{errorMessage:{format:e.errorMessage.format}}}),delete e.format,e.errorMessage&&(delete e.errorMessage.format,0===Object.keys(e.errorMessage).length&&delete e.errorMessage)),e.anyOf.push({format:t,...r&&n.errorMessages&&{errorMessage:{format:r}}})):eR(e,"format",t,r,n)}function eB(e,t,r,n){e.pattern||e.allOf?.some(e=>e.pattern)?(e.allOf||(e.allOf=[]),e.pattern&&(e.allOf.push({pattern:e.pattern,...e.errorMessage&&n.errorMessages&&{errorMessage:{pattern:e.errorMessage.pattern}}}),delete e.pattern,e.errorMessage&&(delete e.errorMessage.pattern,0===Object.keys(e.errorMessage).length&&delete e.errorMessage)),e.allOf.push({pattern:eV(t,n),...r&&n.errorMessages&&{errorMessage:{pattern:r}}})):eR(e,"pattern",eV(t,n),r,n)}function eV(e,t){if(!t.applyRegexFlags||!e.flags)return e.source;let r={i:e.flags.includes("i"),m:e.flags.includes("m"),s:e.flags.includes("s")},n=r.i?e.source.toLowerCase():e.source,a="",s=!1,o=!1,i=!1;for(let e=0;e<n.length;e++){if(s){a+=n[e],s=!1;continue}if(r.i){if(o){if(n[e].match(/[a-z]/)){i?(a+=n[e]+`${n[e-2]}-${n[e]}`.toUpperCase(),i=!1):"-"===n[e+1]&&n[e+2]?.match(/[a-z]/)?(a+=n[e],i=!0):a+=`${n[e]}${n[e].toUpperCase()}`;continue}}else if(n[e].match(/[a-z]/)){a+=`[${n[e]}${n[e].toUpperCase()}]`;continue}}if(r.m){if("^"===n[e]){a+=`(^|(?<=[\r
]))`;continue}if("$"===n[e]){a+=`($|(?=[\r
]))`;continue}}if(r.s&&"."===n[e]){a+=o?`${n[e]}\r
`:`[${n[e]}\r
]`;continue}a+=n[e],"\\"===n[e]?s=!0:o&&"]"===n[e]?o=!1:o||"["!==n[e]||(o=!0)}try{new RegExp(a)}catch{return console.warn(`Could not convert regex pattern at ${t.currentPath.join("/")} to a flag-independent form! Falling back to the flag-ignorant source`),e.source}return a}function eU(e,t){if("openAi"===t.target&&console.warn("Warning: OpenAI may not support records in schemas! Try an array of key-value pairs instead."),"openApi3"===t.target&&e.keyType?._def.typeName===em.pA.ZodEnum)return{type:"object",required:e.keyType._def.values,properties:e.keyType._def.values.reduce((r,n)=>({...r,[n]:eX(e.valueType._def,{...t,currentPath:[...t.currentPath,"properties",n]})??{}}),{}),additionalProperties:t.rejectedAdditionalProperties};let r={type:"object",additionalProperties:eX(e.valueType._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]})??t.allowedAdditionalProperties};if("openApi3"===t.target)return r;if(e.keyType?._def.typeName===em.pA.ZodString&&e.keyType._def.checks?.length){let{type:n,...a}=ez(e.keyType._def,t);return{...r,propertyNames:a}}if(e.keyType?._def.typeName===em.pA.ZodEnum)return{...r,propertyNames:{enum:e.keyType._def.values}};if(e.keyType?._def.typeName===em.pA.ZodBranded&&e.keyType._def.type._def.typeName===em.pA.ZodString&&e.keyType._def.type._def.checks?.length){let{type:n,...a}=eP(e.keyType._def,t);return{...r,propertyNames:a}}return r}let eq={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"},eG=(e,t)=>{let r=(e.options instanceof Map?Array.from(e.options.values()):e.options).map((e,r)=>eX(e._def,{...t,currentPath:[...t.currentPath,"anyOf",`${r}`]})).filter(e=>!!e&&(!t.strictUnions||"object"==typeof e&&Object.keys(e).length>0));return r.length?{anyOf:r}:void 0},eJ=(e,t)=>{if(t.currentPath.toString()===t.propertyPath?.toString())return eX(e.innerType._def,t);let r=eX(e.innerType._def,{...t,currentPath:[...t.currentPath,"anyOf","1"]});return r?{anyOf:[{not:{}},r]}:{}},eK=(e,t)=>{if("input"===t.pipeStrategy)return eX(e.in._def,t);if("output"===t.pipeStrategy)return eX(e.out._def,t);let r=eX(e.in._def,{...t,currentPath:[...t.currentPath,"allOf","0"]}),n=eX(e.out._def,{...t,currentPath:[...t.currentPath,"allOf",r?"1":"0"]});return{allOf:[r,n].filter(e=>void 0!==e)}},eH=(e,t)=>eX(e.innerType._def,t),eW=(e,t,r)=>{switch(t){case em.pA.ZodString:return ez(e,r);case em.pA.ZodNumber:return function(e,t){let r={type:"number"};if(!e.checks)return r;for(let n of e.checks)switch(n.kind){case"int":r.type="integer",eC(r,"type",n.message,t);break;case"min":"jsonSchema7"===t.target?n.inclusive?eR(r,"minimum",n.value,n.message,t):eR(r,"exclusiveMinimum",n.value,n.message,t):(n.inclusive||(r.exclusiveMinimum=!0),eR(r,"minimum",n.value,n.message,t));break;case"max":"jsonSchema7"===t.target?n.inclusive?eR(r,"maximum",n.value,n.message,t):eR(r,"exclusiveMaximum",n.value,n.message,t):(n.inclusive||(r.exclusiveMaximum=!0),eR(r,"maximum",n.value,n.message,t));break;case"multipleOf":eR(r,"multipleOf",n.value,n.message,t)}return r}(e,r);case em.pA.ZodObject:return function(e,t){let r="openAi"===t.target,n={type:"object",properties:{}},a=[],s=e.shape();for(let e in s){let o=s[e];if(void 0===o||void 0===o._def)continue;let i=function(e){try{return e.isOptional()}catch{return!0}}(o);i&&r&&(o instanceof em.ak&&(o=o._def.innerType),o.isNullable()||(o=o.nullable()),i=!1);let l=eX(o._def,{...t,currentPath:[...t.currentPath,"properties",e],propertyPath:[...t.currentPath,"properties",e]});void 0!==l&&(n.properties[e]=l,i||a.push(e))}a.length&&(n.required=a);let o=function(e,t){if("ZodNever"!==e.catchall._def.typeName)return eX(e.catchall._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]});switch(e.unknownKeys){case"passthrough":return t.allowedAdditionalProperties;case"strict":return t.rejectedAdditionalProperties;case"strip":return"strict"===t.removeAdditionalStrategy?t.allowedAdditionalProperties:t.rejectedAdditionalProperties}}(e,t);return void 0!==o&&(n.additionalProperties=o),n}(e,r);case em.pA.ZodBigInt:return function(e,t){let r={type:"integer",format:"int64"};if(!e.checks)return r;for(let n of e.checks)switch(n.kind){case"min":"jsonSchema7"===t.target?n.inclusive?eR(r,"minimum",n.value,n.message,t):eR(r,"exclusiveMinimum",n.value,n.message,t):(n.inclusive||(r.exclusiveMinimum=!0),eR(r,"minimum",n.value,n.message,t));break;case"max":"jsonSchema7"===t.target?n.inclusive?eR(r,"maximum",n.value,n.message,t):eR(r,"exclusiveMaximum",n.value,n.message,t):(n.inclusive||(r.exclusiveMaximum=!0),eR(r,"maximum",n.value,n.message,t));break;case"multipleOf":eR(r,"multipleOf",n.value,n.message,t)}return r}(e,r);case em.pA.ZodBoolean:return{type:"boolean"};case em.pA.ZodDate:return function e(t,r,n){let a=n??r.dateStrategy;if(Array.isArray(a))return{anyOf:a.map((n,a)=>e(t,r,n))};switch(a){case"string":case"format:date-time":return{type:"string",format:"date-time"};case"format:date":return{type:"string",format:"date"};case"integer":return ej(t,r)}}(e,r);case em.pA.ZodUndefined:return{not:{}};case em.pA.ZodNull:return"openApi3"===r.target?{enum:["null"],nullable:!0}:{type:"null"};case em.pA.ZodArray:return function(e,t){let r={type:"array"};return e.type?._def&&e.type?._def?.typeName!==em.pA.ZodAny&&(r.items=eX(e.type._def,{...t,currentPath:[...t.currentPath,"items"]})),e.minLength&&eR(r,"minItems",e.minLength.value,e.minLength.message,t),e.maxLength&&eR(r,"maxItems",e.maxLength.value,e.maxLength.message,t),e.exactLength&&(eR(r,"minItems",e.exactLength.value,e.exactLength.message,t),eR(r,"maxItems",e.exactLength.value,e.exactLength.message,t)),r}(e,r);case em.pA.ZodUnion:case em.pA.ZodDiscriminatedUnion:return function(e,t){if("openApi3"===t.target)return eG(e,t);let r=e.options instanceof Map?Array.from(e.options.values()):e.options;if(r.every(e=>e._def.typeName in eq&&(!e._def.checks||!e._def.checks.length))){let e=r.reduce((e,t)=>{let r=eq[t._def.typeName];return r&&!e.includes(r)?[...e,r]:e},[]);return{type:e.length>1?e:e[0]}}if(r.every(e=>"ZodLiteral"===e._def.typeName&&!e.description)){let e=r.reduce((e,t)=>{let r=typeof t._def.value;switch(r){case"string":case"number":case"boolean":return[...e,r];case"bigint":return[...e,"integer"];case"object":if(null===t._def.value)return[...e,"null"];default:return e}},[]);if(e.length===r.length){let t=e.filter((e,t,r)=>r.indexOf(e)===t);return{type:t.length>1?t:t[0],enum:r.reduce((e,t)=>e.includes(t._def.value)?e:[...e,t._def.value],[])}}}else if(r.every(e=>"ZodEnum"===e._def.typeName))return{type:"string",enum:r.reduce((e,t)=>[...e,...t._def.values.filter(t=>!e.includes(t))],[])};return eG(e,t)}(e,r);case em.pA.ZodIntersection:return function(e,t){let r=[eX(e.left._def,{...t,currentPath:[...t.currentPath,"allOf","0"]}),eX(e.right._def,{...t,currentPath:[...t.currentPath,"allOf","1"]})].filter(e=>!!e),n="jsonSchema2019-09"===t.target?{unevaluatedProperties:!1}:void 0,a=[];return r.forEach(e=>{if(eL(e))a.push(...e.allOf),void 0===e.unevaluatedProperties&&(n=void 0);else{let t=e;if("additionalProperties"in e&&!1===e.additionalProperties){let{additionalProperties:r,...n}=e;t=n}else n=void 0;a.push(t)}}),a.length?{allOf:a,...n}:void 0}(e,r);case em.pA.ZodTuple:return function(e,t){return e.rest?{type:"array",minItems:e.items.length,items:e.items.map((e,r)=>eX(e._def,{...t,currentPath:[...t.currentPath,"items",`${r}`]})).reduce((e,t)=>void 0===t?e:[...e,t],[]),additionalItems:eX(e.rest._def,{...t,currentPath:[...t.currentPath,"additionalItems"]})}:{type:"array",minItems:e.items.length,maxItems:e.items.length,items:e.items.map((e,r)=>eX(e._def,{...t,currentPath:[...t.currentPath,"items",`${r}`]})).reduce((e,t)=>void 0===t?e:[...e,t],[])}}(e,r);case em.pA.ZodRecord:return eU(e,r);case em.pA.ZodLiteral:return function(e,t){let r=typeof e.value;return"bigint"!==r&&"number"!==r&&"boolean"!==r&&"string"!==r?{type:Array.isArray(e.value)?"array":"object"}:"openApi3"===t.target?{type:"bigint"===r?"integer":r,enum:[e.value]}:{type:"bigint"===r?"integer":r,const:e.value}}(e,r);case em.pA.ZodEnum:return{type:"string",enum:Array.from(e.values)};case em.pA.ZodNativeEnum:return function(e){let t=e.values,r=Object.keys(e.values).filter(e=>"number"!=typeof t[t[e]]).map(e=>t[e]),n=Array.from(new Set(r.map(e=>typeof e)));return{type:1===n.length?"string"===n[0]?"string":"number":["string","number"],enum:r}}(e);case em.pA.ZodNullable:return function(e,t){if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(e.innerType._def.typeName)&&(!e.innerType._def.checks||!e.innerType._def.checks.length))return"openApi3"===t.target?{type:eq[e.innerType._def.typeName],nullable:!0}:{type:[eq[e.innerType._def.typeName],"null"]};if("openApi3"===t.target){let r=eX(e.innerType._def,{...t,currentPath:[...t.currentPath]});return r&&"$ref"in r?{allOf:[r],nullable:!0}:r&&{...r,nullable:!0}}let r=eX(e.innerType._def,{...t,currentPath:[...t.currentPath,"anyOf","0"]});return r&&{anyOf:[r,{type:"null"}]}}(e,r);case em.pA.ZodOptional:return eJ(e,r);case em.pA.ZodMap:return function(e,t){return"record"===t.mapStrategy?eU(e,t):{type:"array",maxItems:125,items:{type:"array",items:[eX(e.keyType._def,{...t,currentPath:[...t.currentPath,"items","items","0"]})||{},eX(e.valueType._def,{...t,currentPath:[...t.currentPath,"items","items","1"]})||{}],minItems:2,maxItems:2}}}(e,r);case em.pA.ZodSet:return function(e,t){let r={type:"array",uniqueItems:!0,items:eX(e.valueType._def,{...t,currentPath:[...t.currentPath,"items"]})};return e.minSize&&eR(r,"minItems",e.minSize.value,e.minSize.message,t),e.maxSize&&eR(r,"maxItems",e.maxSize.value,e.maxSize.message,t),r}(e,r);case em.pA.ZodLazy:return()=>e.getter()._def;case em.pA.ZodPromise:return eX(e.type._def,r);case em.pA.ZodNaN:case em.pA.ZodNever:return{not:{}};case em.pA.ZodEffects:return function(e,t){return"input"===t.effectStrategy?eX(e.schema._def,t):{}}(e,r);case em.pA.ZodAny:case em.pA.ZodUnknown:return{};case em.pA.ZodDefault:return function(e,t){return{...eX(e.innerType._def,t),default:e.defaultValue()}}(e,r);case em.pA.ZodBranded:return eP(e,r);case em.pA.ZodReadonly:return eH(e,r);case em.pA.ZodCatch:return eM(e,r);case em.pA.ZodPipeline:return eK(e,r);case em.pA.ZodFunction:case em.pA.ZodVoid:case em.pA.ZodSymbol:default:return}};function eX(e,t,r=!1){let n=t.seen.get(e);if(t.override){let a=t.override?.(e,t,n,r);if(a!==eN)return a}if(n&&!r){let e=eY(n,t);if(void 0!==e)return e}let a={def:e,path:t.currentPath,jsonSchema:void 0};t.seen.set(e,a);let s=eW(e,e.typeName,t),o="function"==typeof s?eX(s(),t):s;if(o&&e0(e,t,o),t.postProcess){let r=t.postProcess(o,e,t);return a.jsonSchema=o,r}return a.jsonSchema=o,o}let eY=(e,t)=>{switch(t.$refStrategy){case"root":return{$ref:e.path.join("/")};case"relative":return{$ref:eQ(t.currentPath,e.path)};case"none":case"seen":if(e.path.length<t.currentPath.length&&e.path.every((e,r)=>t.currentPath[r]===e))return console.warn(`Recursive reference detected at ${t.currentPath.join("/")}! Defaulting to any`),{};return"seen"===t.$refStrategy?{}:void 0}},eQ=(e,t)=>{let r=0;for(;r<e.length&&r<t.length&&e[r]===t[r];r++);return[(e.length-r).toString(),...t.slice(r)].join("/")},e0=(e,t,r)=>(e.description&&(r.description=e.description,t.markdownDescription&&(r.markdownDescription=e.description)),r),e1=(e,t)=>{let r=eI(t),n="object"==typeof t&&t.definitions?Object.entries(t.definitions).reduce((e,[t,n])=>({...e,[t]:eX(n._def,{...r,currentPath:[...r.basePath,r.definitionPath,t]},!0)??{}}),{}):void 0,a="string"==typeof t?t:t?.nameStrategy==="title"?void 0:t?.name,s=eX(e._def,void 0===a?r:{...r,currentPath:[...r.basePath,r.definitionPath,a]},!1)??{},o="object"==typeof t&&void 0!==t.name&&"title"===t.nameStrategy?t.name:void 0;void 0!==o&&(s.title=o);let i=void 0===a?n?{...s,[r.definitionPath]:n}:s:{$ref:[..."relative"===r.$refStrategy?[]:r.basePath,r.definitionPath,a].join("/"),[r.definitionPath]:{...n,[a]:s}};return"jsonSchema7"===r.target?i.$schema="http://json-schema.org/draft-07/schema#":("jsonSchema2019-09"===r.target||"openAi"===r.target)&&(i.$schema="https://json-schema.org/draft/2019-09/schema#"),"openAi"===r.target&&("anyOf"in i||"oneOf"in i||"allOf"in i||"type"in i&&Array.isArray(i.type))&&console.warn("Warning: OpenAI may not support schemas with unions as roots! Try wrapping it in an object property."),i};var e9={code:"0",name:"text",parse:e=>{if("string"!=typeof e)throw Error('"text" parts expect a string value.');return{type:"text",value:e}}},e4={code:"1",name:"function_call",parse:e=>{if(null==e||"object"!=typeof e||!("function_call"in e)||"object"!=typeof e.function_call||null==e.function_call||!("name"in e.function_call)||!("arguments"in e.function_call)||"string"!=typeof e.function_call.name||"string"!=typeof e.function_call.arguments)throw Error('"function_call" parts expect an object with a "function_call" property.');return{type:"function_call",value:e}}},e2={code:"2",name:"data",parse:e=>{if(!Array.isArray(e))throw Error('"data" parts expect an array value.');return{type:"data",value:e}}},e6={code:"3",name:"error",parse:e=>{if("string"!=typeof e)throw Error('"error" parts expect a string value.');return{type:"error",value:e}}},e5={code:"4",name:"assistant_message",parse:e=>{if(null==e||"object"!=typeof e||!("id"in e)||!("role"in e)||!("content"in e)||"string"!=typeof e.id||"string"!=typeof e.role||"assistant"!==e.role||!Array.isArray(e.content)||!e.content.every(e=>null!=e&&"object"==typeof e&&"type"in e&&"text"===e.type&&"text"in e&&null!=e.text&&"object"==typeof e.text&&"value"in e.text&&"string"==typeof e.text.value))throw Error('"assistant_message" parts expect an object with an "id", "role", and "content" property.');return{type:"assistant_message",value:e}}},e3={code:"5",name:"assistant_control_data",parse:e=>{if(null==e||"object"!=typeof e||!("threadId"in e)||!("messageId"in e)||"string"!=typeof e.threadId||"string"!=typeof e.messageId)throw Error('"assistant_control_data" parts expect an object with a "threadId" and "messageId" property.');return{type:"assistant_control_data",value:{threadId:e.threadId,messageId:e.messageId}}}},e8={code:"6",name:"data_message",parse:e=>{if(null==e||"object"!=typeof e||!("role"in e)||!("data"in e)||"string"!=typeof e.role||"data"!==e.role)throw Error('"data_message" parts expect an object with a "role" and "data" property.');return{type:"data_message",value:e}}},e7={code:"7",name:"tool_calls",parse:e=>{if(null==e||"object"!=typeof e||!("tool_calls"in e)||"object"!=typeof e.tool_calls||null==e.tool_calls||!Array.isArray(e.tool_calls)||e.tool_calls.some(e=>null==e||"object"!=typeof e||!("id"in e)||"string"!=typeof e.id||!("type"in e)||"string"!=typeof e.type||!("function"in e)||null==e.function||"object"!=typeof e.function||!("arguments"in e.function)||"string"!=typeof e.function.name||"string"!=typeof e.function.arguments))throw Error('"tool_calls" parts expect an object with a ToolCallPayload.');return{type:"tool_calls",value:e}}},te={code:"8",name:"message_annotations",parse:e=>{if(!Array.isArray(e))throw Error('"message_annotations" parts expect an array value.');return{type:"message_annotations",value:e}}},tt={code:"9",name:"tool_call",parse:e=>{if(null==e||"object"!=typeof e||!("toolCallId"in e)||"string"!=typeof e.toolCallId||!("toolName"in e)||"string"!=typeof e.toolName||!("args"in e)||"object"!=typeof e.args)throw Error('"tool_call" parts expect an object with a "toolCallId", "toolName", and "args" property.');return{type:"tool_call",value:e}}},tr={code:"a",name:"tool_result",parse:e=>{if(null==e||"object"!=typeof e||!("toolCallId"in e)||"string"!=typeof e.toolCallId||!("result"in e))throw Error('"tool_result" parts expect an object with a "toolCallId" and a "result" property.');return{type:"tool_result",value:e}}},tn={code:"b",name:"tool_call_streaming_start",parse:e=>{if(null==e||"object"!=typeof e||!("toolCallId"in e)||"string"!=typeof e.toolCallId||!("toolName"in e)||"string"!=typeof e.toolName)throw Error('"tool_call_streaming_start" parts expect an object with a "toolCallId" and "toolName" property.');return{type:"tool_call_streaming_start",value:e}}},ta={code:"c",name:"tool_call_delta",parse:e=>{if(null==e||"object"!=typeof e||!("toolCallId"in e)||"string"!=typeof e.toolCallId||!("argsTextDelta"in e)||"string"!=typeof e.argsTextDelta)throw Error('"tool_call_delta" parts expect an object with a "toolCallId" and "argsTextDelta" property.');return{type:"tool_call_delta",value:e}}},ts={code:"d",name:"finish_message",parse:e=>{if(null==e||"object"!=typeof e||!("finishReason"in e)||"string"!=typeof e.finishReason)throw Error('"finish_message" parts expect an object with a "finishReason" property.');let t={finishReason:e.finishReason};return"usage"in e&&null!=e.usage&&"object"==typeof e.usage&&"promptTokens"in e.usage&&"completionTokens"in e.usage&&(t.usage={promptTokens:"number"==typeof e.usage.promptTokens?e.usage.promptTokens:Number.NaN,completionTokens:"number"==typeof e.usage.completionTokens?e.usage.completionTokens:Number.NaN}),{type:"finish_message",value:t}}},to={code:"e",name:"finish_step",parse:e=>{if(null==e||"object"!=typeof e||!("finishReason"in e)||"string"!=typeof e.finishReason)throw Error('"finish_step" parts expect an object with a "finishReason" property.');let t={finishReason:e.finishReason,isContinued:!1};return"usage"in e&&null!=e.usage&&"object"==typeof e.usage&&"promptTokens"in e.usage&&"completionTokens"in e.usage&&(t.usage={promptTokens:"number"==typeof e.usage.promptTokens?e.usage.promptTokens:Number.NaN,completionTokens:"number"==typeof e.usage.completionTokens?e.usage.completionTokens:Number.NaN}),"isContinued"in e&&"boolean"==typeof e.isContinued&&(t.isContinued=e.isContinued),{type:"finish_step",value:t}}},ti=[e9,e4,e2,e6,e5,e3,e8,e7,te,tt,tr,tn,ta,ts,to],tl={[e9.code]:e9,[e4.code]:e4,[e2.code]:e2,[e6.code]:e6,[e5.code]:e5,[e3.code]:e3,[e8.code]:e8,[e7.code]:e7,[te.code]:te,[tt.code]:tt,[tr.code]:tr,[tn.code]:tn,[ta.code]:ta,[ts.code]:ts,[to.code]:to};e9.name,e9.code,e4.name,e4.code,e2.name,e2.code,e6.name,e6.code,e5.name,e5.code,e3.name,e3.code,e8.name,e8.code,e7.name,e7.code,te.name,te.code,tt.name,tt.code,tr.name,tr.code,tn.name,tn.code,ta.name,ta.code,ts.name,ts.code,to.name,to.code;var tu=ti.map(e=>e.code),tc=e=>{let t=e.indexOf(":");if(-1===t)throw Error("Failed to parse stream string. No separator found.");let r=e.slice(0,t);if(!tu.includes(r))throw Error(`Failed to parse stream string. Invalid code ${r}.`);let n=JSON.parse(e.slice(t+1));return tl[r].parse(n)},td=Symbol.for("vercel.ai.schema");function tp(e){return"object"==typeof e&&null!==e&&td in e&&!0===e[td]&&"jsonSchema"in e&&"validate"in e?e:function(e,{validate:t}={}){return{[td]:!0,_type:void 0,[eT]:!0,jsonSchema:e,validate:t}}(e1(e),{validate:t=>{let r=e.safeParse(t);return r.success?{success:!0,value:r.data}:{success:!1,error:r.error}}})}var tf=Object.defineProperty,tm=(e,t)=>{for(var r in t)tf(e,r,{get:t[r],enumerable:!0})};async function th(e){return void 0===e?Promise.resolve():new Promise(t=>setTimeout(t,e))}var tg="AI_RetryError",ty=`vercel.ai.error.${tg}`,tv=Symbol.for(ty),t_=class extends N{constructor({message:e,reason:t,errors:r}){super({name:tg,message:e}),this[m]=!0,this.reason=t,this.errors=r,this.lastError=r[r.length-1]}static isInstance(e){return N.hasMarker(e,ty)}static isRetryError(e){return e instanceof Error&&e.name===tg&&"string"==typeof e.reason&&Array.isArray(e.errors)}toJSON(){return{name:this.name,message:this.message,reason:this.reason,lastError:this.lastError,errors:this.errors}}};m=tv;var tb=({maxRetries:e=2,initialDelayInMs:t=2e3,backoffFactor:r=2}={})=>async n=>tS(n,{maxRetries:e,delayInMs:t,backoffFactor:r});async function tS(e,{maxRetries:t,delayInMs:r,backoffFactor:n},a=[]){try{return await e()}catch(u){var s;if((s=u)instanceof Error&&("AbortError"===s.name||"TimeoutError"===s.name)||0===t)throw u;let o=null==u?"unknown error":"string"==typeof u?u:u instanceof Error?u.message:JSON.stringify(u),i=[...a,u],l=i.length;if(l>t)throw new t_({message:`Failed after ${l} attempts. Last error: ${o}`,reason:"maxRetriesExceeded",errors:i});if(u instanceof Error&&C.isAPICallError(u)&&!0===u.isRetryable&&l<=t)return await th(r),tS(e,{maxRetries:t,delayInMs:n*r,backoffFactor:n},i);if(1===l)throw u;throw new t_({message:`Failed after ${l} attempts with non-retryable error: '${o}'`,reason:"errorNotRetryable",errors:i})}}function tw({operationId:e,telemetry:t}){return{"operation.name":`${e}${(null==t?void 0:t.functionId)!=null?` ${t.functionId}`:""}`,"resource.name":null==t?void 0:t.functionId,"ai.operationId":e,"ai.telemetry.functionId":null==t?void 0:t.functionId}}var tx={startSpan:()=>tT,startActiveSpan:(e,t,r,n)=>"function"==typeof t?t(tT):"function"==typeof r?r(tT):"function"==typeof n?n(tT):void 0},tT={spanContext:()=>tO,setAttribute(){return this},setAttributes(){return this},addEvent(){return this},addLink(){return this},addLinks(){return this},setStatus(){return this},updateName(){return this},end(){return this},isRecording:()=>!1,recordException(){return this}},tO={traceId:"",spanId:"",traceFlags:0};function tE({name:e,tracer:t,attributes:r,fn:n,endWhenDone:a=!0}){return t.startActiveSpan(e,{attributes:r},async e=>{try{let t=await n(e);return a&&e.end(),t}catch(t){try{t instanceof Error?(e.recordException({name:t.name,message:t.message,stack:t.stack}),e.setStatus({code:ef.Q.ERROR,message:t.message})):e.setStatus({code:ef.Q.ERROR})}finally{e.end()}throw t}})}function tN({telemetry:e,attributes:t}){return(null==e?void 0:e.isEnabled)!==!0?{}:Object.entries(t).reduce((t,[r,n])=>{if(void 0===n)return t;if("object"==typeof n&&"input"in n&&"function"==typeof n.input){if((null==e?void 0:e.recordInputs)===!1)return t;let a=n.input();return void 0===a?t:{...t,[r]:a}}if("object"==typeof n&&"output"in n&&"function"==typeof n.output){if((null==e?void 0:e.recordOutputs)===!1)return t;let a=n.output();return void 0===a?t:{...t,[r]:a}}return{...t,[r]:n}},{})}var tk="AI_DownloadError",tA=`vercel.ai.error.${tk}`,tI=Symbol.for(tA),tC=class extends N{constructor({url:e,statusCode:t,statusText:r,cause:n,message:a=null==n?`Failed to download ${e}: ${t} ${r}`:`Failed to download ${e}: ${n}`}){super({name:tk,message:a,cause:n}),this[h]=!0,this.url=e,this.statusCode=t,this.statusText=r}static isInstance(e){return N.hasMarker(e,tA)}static isDownloadError(e){return e instanceof Error&&e.name===tk&&"string"==typeof e.url&&(null==e.statusCode||"number"==typeof e.statusCode)&&(null==e.statusText||"string"==typeof e.statusText)}toJSON(){return{name:this.name,message:this.message,url:this.url,statusCode:this.statusCode,statusText:this.statusText,cause:this.cause}}};async function tR({url:e,fetchImplementation:t=fetch}){var r;let n=e.toString();try{let e=await t(n);if(!e.ok)throw new tC({url:n,statusCode:e.status,statusText:e.statusText});return{data:new Uint8Array(await e.arrayBuffer()),mimeType:null!=(r=e.headers.get("content-type"))?r:void 0}}catch(e){if(tC.isInstance(e))throw e;throw new tC({url:n,cause:e})}}h=tI;var tP=[{mimeType:"image/gif",bytes:[71,73,70]},{mimeType:"image/png",bytes:[137,80,78,71]},{mimeType:"image/jpeg",bytes:[255,216]},{mimeType:"image/webp",bytes:[82,73,70,70]}],tM="AI_InvalidDataContentError",tj=`vercel.ai.error.${tM}`,tL=Symbol.for(tj),tD=class extends N{constructor({content:e,cause:t,message:r=`Invalid data content. Expected a base64 string, Uint8Array, ArrayBuffer, or Buffer, but got ${typeof e}.`}){super({name:tM,message:r,cause:t}),this[g]=!0,this.content=e}static isInstance(e){return N.hasMarker(e,tj)}static isInvalidDataContentError(e){return e instanceof Error&&e.name===tM&&null!=e.content}toJSON(){return{name:this.name,message:this.message,stack:this.stack,cause:this.cause,content:this.content}}};g=tL;var tz=em.z.union([em.z.string(),em.z.instanceof(Uint8Array),em.z.instanceof(ArrayBuffer),em.z.custom(e=>{var t,r;return null!=(r=null==(t=globalThis.Buffer)?void 0:t.isBuffer(e))&&r},{message:"Must be a Buffer"})]);function t$(e){if(e instanceof Uint8Array)return e;if("string"==typeof e)try{return function(e){let t=ec(e.replace(/-/g,"+").replace(/_/g,"/"));return Uint8Array.from(t,e=>e.codePointAt(0))}(e)}catch(t){throw new tD({message:"Invalid data content. Content string is not a base64-encoded media.",content:e,cause:t})}if(e instanceof ArrayBuffer)return new Uint8Array(e);throw new tD({content:e})}var tZ="AI_InvalidMessageRoleError",tF=`vercel.ai.error.${tZ}`,tB=Symbol.for(tF),tV=class extends N{constructor({role:e,message:t=`Invalid message role: '${e}'. Must be one of: "system", "user", "assistant", "tool".`}){super({name:tZ,message:t}),this[y]=!0,this.role=e}static isInstance(e){return N.hasMarker(e,tF)}static isInvalidMessageRoleError(e){return e instanceof Error&&e.name===tZ&&"string"==typeof e.role}toJSON(){return{name:this.name,message:this.message,stack:this.stack,role:this.role}}};async function tU({prompt:e,modelSupportsImageUrls:t=!0,modelSupportsUrl:r=()=>!1,downloadImplementation:n=tR}){let a=await tq(e.messages,n,t,r);return[...null!=e.system?[{role:"system",content:e.system}]:[],...e.messages.map(e=>(function(e,t){let r=e.role;switch(r){case"system":return{role:"system",content:e.content,providerMetadata:e.experimental_providerMetadata};case"user":if("string"==typeof e.content)return{role:"user",content:[{type:"text",text:e.content}],providerMetadata:e.experimental_providerMetadata};return{role:"user",content:e.content.map(e=>(function(e,t){let r,n,a;if("text"===e.type)return{type:"text",text:e.text,providerMetadata:e.experimental_providerMetadata};let s=e.mimeType,o=e.type;switch(o){case"image":r=e.image;break;case"file":r=e.data;break;default:throw Error(`Unsupported part type: ${o}`)}try{n="string"==typeof r?new URL(r):r}catch(e){n=r}if(n instanceof URL){if("data:"===n.protocol){let{mimeType:e,base64Content:t}=function(e){try{let[t,r]=e.split(",");return{mimeType:t.split(";")[0].split(":")[1],base64Content:r}}catch(e){return{mimeType:void 0,base64Content:void 0}}}(n.toString());if(null==e||null==t)throw Error(`Invalid data URL format in part ${o}`);s=e,a=t$(t)}else{let e=t[n.toString()];e?(a=e.data,null!=s||(s=e.mimeType)):a=n}}else a=t$(n);switch(o){case"image":return null==s&&a instanceof Uint8Array&&(s=function(e){for(let{bytes:t,mimeType:r}of tP)if(e.length>=t.length&&t.every((t,r)=>e[r]===t))return r}(a)),{type:"image",image:a,mimeType:s,providerMetadata:e.experimental_providerMetadata};case"file":var i;if(null==s)throw Error("Mime type is missing for file part");return{type:"file",data:a instanceof Uint8Array?"string"==typeof(i=a)?i:i instanceof ArrayBuffer?ed(new Uint8Array(i)):ed(i):a,mimeType:s,providerMetadata:e.experimental_providerMetadata}}})(e,t)).filter(e=>"text"!==e.type||""!==e.text),providerMetadata:e.experimental_providerMetadata};case"assistant":if("string"==typeof e.content)return{role:"assistant",content:[{type:"text",text:e.content}],providerMetadata:e.experimental_providerMetadata};return{role:"assistant",content:e.content.filter(e=>"text"!==e.type||""!==e.text).map(e=>{let{experimental_providerMetadata:t,...r}=e;return{...r,providerMetadata:t}}),providerMetadata:e.experimental_providerMetadata};case"tool":return{role:"tool",content:e.content.map(e=>({type:"tool-result",toolCallId:e.toolCallId,toolName:e.toolName,result:e.result,content:e.experimental_content,isError:e.isError,providerMetadata:e.experimental_providerMetadata})),providerMetadata:e.experimental_providerMetadata};default:throw new tV({role:r})}})(e,a))]}async function tq(e,t,r,n){let a=e.filter(e=>"user"===e.role).map(e=>e.content).filter(e=>Array.isArray(e)).flat().filter(e=>"image"===e.type||"file"===e.type).filter(e=>!("image"===e.type&&!0===r)).map(e=>"image"===e.type?e.image:e.data).map(e=>"string"==typeof e&&(e.startsWith("http:")||e.startsWith("https:"))?new URL(e):e).filter(e=>e instanceof URL).filter(e=>!n(e));return Object.fromEntries((await Promise.all(a.map(async e=>({url:e,data:await t({url:e})})))).map(({url:e,data:t})=>[e.toString(),t]))}y=tB;var tG="AI_InvalidArgumentError",tJ=`vercel.ai.error.${tG}`,tK=Symbol.for(tJ),tH=class extends N{constructor({parameter:e,value:t,message:r}){super({name:tG,message:`Invalid argument for parameter ${e}: ${r}`}),this[v]=!0,this.parameter=e,this.value=t}static isInstance(e){return N.hasMarker(e,tJ)}static isInvalidArgumentError(e){return e instanceof Error&&e.name===tG&&"string"==typeof e.parameter&&"string"==typeof e.value}toJSON(){return{name:this.name,message:this.message,stack:this.stack,parameter:this.parameter,value:this.value}}};v=tK;var tW=em.z.lazy(()=>em.z.union([em.z.null(),em.z.string(),em.z.number(),em.z.boolean(),em.z.record(em.z.string(),tW),em.z.array(tW)])),tX=em.z.record(em.z.string(),em.z.record(em.z.string(),tW)),tY=em.z.array(em.z.union([em.z.object({type:em.z.literal("text"),text:em.z.string()}),em.z.object({type:em.z.literal("image"),data:em.z.string(),mimeType:em.z.string().optional()})])),tQ=em.z.object({type:em.z.literal("text"),text:em.z.string(),experimental_providerMetadata:tX.optional()}),t0=em.z.object({type:em.z.literal("image"),image:em.z.union([tz,em.z.instanceof(URL)]),mimeType:em.z.string().optional(),experimental_providerMetadata:tX.optional()}),t1=em.z.object({type:em.z.literal("file"),data:em.z.union([tz,em.z.instanceof(URL)]),mimeType:em.z.string(),experimental_providerMetadata:tX.optional()}),t9=em.z.object({type:em.z.literal("tool-call"),toolCallId:em.z.string(),toolName:em.z.string(),args:em.z.unknown()}),t4=em.z.object({type:em.z.literal("tool-result"),toolCallId:em.z.string(),toolName:em.z.string(),result:em.z.unknown(),content:tY.optional(),isError:em.z.boolean().optional(),experimental_providerMetadata:tX.optional()}),t2=em.z.object({role:em.z.literal("system"),content:em.z.string(),experimental_providerMetadata:tX.optional()}),t6=em.z.object({role:em.z.literal("user"),content:em.z.union([em.z.string(),em.z.array(em.z.union([tQ,t0,t1]))]),experimental_providerMetadata:tX.optional()}),t5=em.z.object({role:em.z.literal("assistant"),content:em.z.union([em.z.string(),em.z.array(em.z.union([tQ,t9]))]),experimental_providerMetadata:tX.optional()}),t3=em.z.object({role:em.z.literal("tool"),content:em.z.array(t4),experimental_providerMetadata:tX.optional()}),t8=em.z.union([t2,t6,t5,t3]);function t7(e){return"object"==typeof e&&null!==e&&("function"===e.role||"data"===e.role||"toolInvocations"in e||"experimental_attachments"in e)?"has-ui-specific-parts":"object"==typeof e&&null!==e&&"content"in e&&(Array.isArray(e.content)||"experimental_providerMetadata"in e)?"has-core-specific-parts":"object"==typeof e&&null!==e&&"role"in e&&"content"in e&&"string"==typeof e.content&&["system","user","assistant","tool"].includes(e.role)?"message":"other"}var re="AI_MessageConversionError",rt=`vercel.ai.error.${re}`,rr=Symbol.for(rt),rn=class extends N{constructor({originalMessage:e,message:t}){super({name:re,message:t}),this[_]=!0,this.originalMessage=e}static isInstance(e){return N.hasMarker(e,rt)}};_=rr;function ra(e,{contentType:t,dataStreamVersion:r}){var n;let a=new Headers(null!=(n=null==e?void 0:e.headers)?n:{});return a.has("Content-Type")||a.set("Content-Type",t),void 0!==r&&a.set("X-Vercel-AI-Data-Stream",r),a}var rs="AI_NoObjectGeneratedError",ro=`vercel.ai.error.${rs}`,ri=Symbol.for(ro),rl=class extends N{constructor({message:e="No object generated."}={}){super({name:rs,message:e}),this[b]=!0}static isInstance(e){return N.hasMarker(e,ro)}static isNoObjectGeneratedError(e){return e instanceof Error&&e.name===rs}toJSON(){return{name:this.name,cause:this.cause,message:this.message,stack:this.stack}}};b=ri;eo({prefix:"aiobj",size:24});eo({prefix:"aiobj",size:24});var ru="AI_InvalidToolArgumentsError",rc=`vercel.ai.error.${ru}`,rd=Symbol.for(rc),rp=class extends N{constructor({toolArgs:e,toolName:t,cause:r,message:n=`Invalid arguments for tool ${t}: ${R(r)}`}){super({name:ru,message:n,cause:r}),this[S]=!0,this.toolArgs=e,this.toolName=t}static isInstance(e){return N.hasMarker(e,rc)}static isInvalidToolArgumentsError(e){return e instanceof Error&&e.name===ru&&"string"==typeof e.toolName&&"string"==typeof e.toolArgs}toJSON(){return{name:this.name,message:this.message,cause:this.cause,stack:this.stack,toolName:this.toolName,toolArgs:this.toolArgs}}};S=rd;var rf="AI_NoSuchToolError",rm=`vercel.ai.error.${rf}`,rh=Symbol.for(rm),rg=class extends N{constructor({toolName:e,availableTools:t,message:r=`Model tried to call unavailable tool '${e}'. ${void 0===t?"No tools are available.":`Available tools: ${t.join(", ")}.`}`}){super({name:rf,message:r}),this[w]=!0,this.toolName=e,this.availableTools=t}static isInstance(e){return N.hasMarker(e,rm)}static isNoSuchToolError(e){return e instanceof Error&&e.name===rf&&"toolName"in e&&void 0!=e.toolName&&"string"==typeof e.name}toJSON(){return{name:this.name,message:this.message,stack:this.stack,toolName:this.toolName,availableTools:this.availableTools}}};w=rh;var ry=/^([\s\S]*?)(\s+)(\S*)$/,rv=eo({prefix:"aitxt",size:24});async function r_({model:e,tools:t,toolChoice:r,system:n,prompt:a,messages:s,maxRetries:o,abortSignal:i,headers:l,maxAutomaticRoundtrips:u=0,maxToolRoundtrips:c=u,maxSteps:d=null!=c?c+1:1,experimental_continuationSteps:p,experimental_continueSteps:f=null!=p&&p,experimental_telemetry:m,experimental_providerMetadata:h,experimental_activeTools:g,_internal:{generateId:y=rv,currentDate:v=()=>new Date}={},onStepFinish:_,...b}){if(d<1)throw new tH({parameter:"maxSteps",value:d,message:"maxSteps must be at least 1"});let S=function({model:e,settings:t,telemetry:r,headers:n}){var a;return{"ai.model.provider":e.provider,"ai.model.id":e.modelId,...Object.entries(t).reduce((e,[t,r])=>(e[`ai.settings.${t}`]=r,e),{}),...Object.entries(null!=(a=null==r?void 0:r.metadata)?a:{}).reduce((e,[t,r])=>(e[`ai.telemetry.metadata.${t}`]=r,e),{}),...Object.entries(null!=n?n:{}).reduce((e,[t,r])=>(void 0!==r&&(e[`ai.request.headers.${t}`]=r),e),{})}}({model:e,telemetry:m,headers:l,settings:{...b,maxRetries:o}}),w=function({prompt:e,tools:t}){if(null==e.prompt&&null==e.messages)throw new Z({prompt:e,message:"prompt or messages must be defined"});if(null!=e.prompt&&null!=e.messages)throw new Z({prompt:e,message:"prompt and messages cannot be defined at the same time"});if(null!=e.system&&"string"!=typeof e.system)throw new Z({prompt:e,message:"system must be a string"});if(null!=e.prompt){if("string"!=typeof e.prompt)throw new Z({prompt:e,message:"prompt must be a string"});return{type:"prompt",system:e.system,messages:[{role:"user",content:e.prompt}]}}if(null!=e.messages){let r=function(e){if(!Array.isArray(e))return"other";if(0===e.length)return"messages";let t=e.map(t7);return t.some(e=>"has-ui-specific-parts"===e)?"ui-messages":t.every(e=>"has-core-specific-parts"===e||"message"===e)?"messages":"other"}(e.messages);if("other"===r)throw new Z({prompt:e,message:"messages must be an array of CoreMessage or UIMessage"});let n="ui-messages"===r?function(e,t){var r;let n=null!=(r=null==t?void 0:t.tools)?r:{},a=[];for(let t of e){let{role:e,content:r,toolInvocations:s,experimental_attachments:o}=t;switch(e){case"system":a.push({role:"system",content:r});break;case"user":a.push({role:"user",content:o?[{type:"text",text:r},...function(e){var t,r,n;let a=[];for(let s of e){let e;try{e=new URL(s.url)}catch(e){throw Error(`Invalid URL: ${s.url}`)}switch(e.protocol){case"http:":case"https:":if(null==(t=s.contentType)?void 0:t.startsWith("image/"))a.push({type:"image",image:e});else{if(!s.contentType)throw Error("If the attachment is not an image, it must specify a content type");a.push({type:"file",data:e,mimeType:s.contentType})}break;case"data:":{let e,t,o;try{[e,t]=s.url.split(","),o=e.split(";")[0].split(":")[1]}catch(e){throw Error(`Error processing data URL: ${s.url}`)}if(null==o||null==t)throw Error(`Invalid data URL format: ${s.url}`);if(null==(r=s.contentType)?void 0:r.startsWith("image/"))a.push({type:"image",image:t$(t)});else if(null==(n=s.contentType)?void 0:n.startsWith("text/"))a.push({type:"text",text:function(e){try{return new TextDecoder().decode(e)}catch(e){throw Error("Error decoding Uint8Array to text")}}(t$(t))});else{if(!s.contentType)throw Error("If the attachment is not an image or text, it must specify a content type");a.push({type:"file",data:t,mimeType:s.contentType})}break}default:throw Error(`Unsupported URL protocol: ${e.protocol}`)}}return a}(o)]:r});break;case"assistant":if(null==s){a.push({role:"assistant",content:r});break}a.push({role:"assistant",content:[{type:"text",text:r},...s.map(({toolCallId:e,toolName:t,args:r})=>({type:"tool-call",toolCallId:e,toolName:t,args:r}))]}),a.push({role:"tool",content:s.map(e=>{if(!("result"in e))throw new rn({originalMessage:t,message:"ToolInvocation must have a result: "+JSON.stringify(e)});let{toolCallId:r,toolName:a,result:s}=e,o=n[a];return(null==o?void 0:o.experimental_toToolResultContent)!=null?{type:"tool-result",toolCallId:r,toolName:a,result:o.experimental_toToolResultContent(s),experimental_content:o.experimental_toToolResultContent(s)}:{type:"tool-result",toolCallId:r,toolName:a,result:s}})});break;case"function":case"data":case"tool":break;default:throw new rn({originalMessage:t,message:`Unsupported role: ${e}`})}}return a}(e.messages,{tools:t}):e.messages,a=el({value:n,schema:em.z.array(t8)});if(!a.success)throw new Z({prompt:e,message:"messages must be an array of CoreMessage or UIMessage",cause:a.error});return{type:"messages",messages:n,system:e.system}}throw Error("unreachable")}({prompt:{system:n,prompt:a,messages:s},tools:t}),x=function({isEnabled:e=!1,tracer:t}={}){return e?t||ep.g.getTracer("ai"):tx}(m);return tE({name:"ai.generateText",attributes:tN({telemetry:m,attributes:{...tw({operationId:"ai.generateText",telemetry:m}),...S,"ai.prompt":{input:()=>JSON.stringify({system:n,prompt:a,messages:s})},"ai.settings.maxSteps":d}}),tracer:x,fn:async n=>{var a,s,u,c,p,T,O;let E;let N=tb({maxRetries:o}),k={type:"regular",...function({tools:e,toolChoice:t,activeTools:r}){return null!=e&&Object.keys(e).length>0?{tools:(null!=r?Object.entries(e).filter(([e])=>r.includes(e)):Object.entries(e)).map(([e,t])=>{let r=t.type;switch(r){case void 0:case"function":return{type:"function",name:e,description:t.description,parameters:tp(t.parameters).jsonSchema};case"provider-defined":return{type:"provider-defined",name:e,id:t.id,args:t.args};default:throw Error(`Unsupported tool type: ${r}`)}}),toolChoice:null==t?{type:"auto"}:"string"==typeof t?{type:t}:{type:"tool",toolName:t.toolName}}:{tools:void 0,toolChoice:void 0}}({tools:t,toolChoice:r,activeTools:g})},A=function({maxTokens:e,temperature:t,topP:r,topK:n,presencePenalty:a,frequencyPenalty:s,stopSequences:o,seed:i,maxRetries:l}){if(null!=e){if(!Number.isInteger(e))throw new tH({parameter:"maxTokens",value:e,message:"maxTokens must be an integer"});if(e<1)throw new tH({parameter:"maxTokens",value:e,message:"maxTokens must be >= 1"})}if(null!=t&&"number"!=typeof t)throw new tH({parameter:"temperature",value:t,message:"temperature must be a number"});if(null!=r&&"number"!=typeof r)throw new tH({parameter:"topP",value:r,message:"topP must be a number"});if(null!=n&&"number"!=typeof n)throw new tH({parameter:"topK",value:n,message:"topK must be a number"});if(null!=a&&"number"!=typeof a)throw new tH({parameter:"presencePenalty",value:a,message:"presencePenalty must be a number"});if(null!=s&&"number"!=typeof s)throw new tH({parameter:"frequencyPenalty",value:s,message:"frequencyPenalty must be a number"});if(null!=i&&!Number.isInteger(i))throw new tH({parameter:"seed",value:i,message:"seed must be an integer"});if(null!=l){if(!Number.isInteger(l))throw new tH({parameter:"maxRetries",value:l,message:"maxRetries must be an integer"});if(l<0)throw new tH({parameter:"maxRetries",value:l,message:"maxRetries must be >= 0"})}return{maxTokens:e,temperature:null!=t?t:0,topP:r,topK:n,presencePenalty:a,frequencyPenalty:s,stopSequences:null!=o&&o.length>0?o:void 0,seed:i,maxRetries:null!=l?l:2}}(b),I=[],C=[],R=0,P=[],M="",j=[],L={completionTokens:0,promptTokens:0,totalTokens:0},D="initial";do{1===R&&(w.type="messages");let r=0===R?w.type:"messages",n=await tU({prompt:{type:r,system:w.system,messages:[...w.messages,...P]},modelSupportsImageUrls:e.supportsImageUrls,modelSupportsUrl:e.supportsUrl});I=(null!=(a=(E=await N(()=>tE({name:"ai.generateText.doGenerate",attributes:tN({telemetry:m,attributes:{...tw({operationId:"ai.generateText.doGenerate",telemetry:m}),...S,"ai.prompt.format":{input:()=>r},"ai.prompt.messages":{input:()=>JSON.stringify(n)},"ai.prompt.tools":{input:()=>{var e;return null==(e=k.tools)?void 0:e.map(e=>JSON.stringify(e))}},"ai.prompt.toolChoice":{input:()=>null!=k.toolChoice?JSON.stringify(k.toolChoice):void 0},"gen_ai.system":e.provider,"gen_ai.request.model":e.modelId,"gen_ai.request.frequency_penalty":b.frequencyPenalty,"gen_ai.request.max_tokens":b.maxTokens,"gen_ai.request.presence_penalty":b.presencePenalty,"gen_ai.request.stop_sequences":b.stopSequences,"gen_ai.request.temperature":b.temperature,"gen_ai.request.top_k":b.topK,"gen_ai.request.top_p":b.topP}}),tracer:x,fn:async t=>{var a,s,o,u,c,d;let p=await e.doGenerate({mode:k,...A,inputFormat:r,prompt:n,providerMetadata:h,abortSignal:i,headers:l}),f={id:null!=(s=null==(a=p.response)?void 0:a.id)?s:y(),timestamp:null!=(u=null==(o=p.response)?void 0:o.timestamp)?u:v(),modelId:null!=(d=null==(c=p.response)?void 0:c.modelId)?d:e.modelId};return t.setAttributes(tN({telemetry:m,attributes:{"ai.response.finishReason":p.finishReason,"ai.response.text":{output:()=>p.text},"ai.response.toolCalls":{output:()=>JSON.stringify(p.toolCalls)},"ai.response.id":f.id,"ai.response.model":f.modelId,"ai.response.timestamp":f.timestamp.toISOString(),"ai.usage.promptTokens":p.usage.promptTokens,"ai.usage.completionTokens":p.usage.completionTokens,"ai.finishReason":p.finishReason,"ai.result.text":{output:()=>p.text},"ai.result.toolCalls":{output:()=>JSON.stringify(p.toolCalls)},"gen_ai.response.finish_reasons":[p.finishReason],"gen_ai.response.id":f.id,"gen_ai.response.model":f.modelId,"gen_ai.usage.input_tokens":p.usage.promptTokens,"gen_ai.usage.output_tokens":p.usage.completionTokens}})),{...p,response:f}}}))).toolCalls)?a:[]).map(e=>(function({toolCall:e,tools:t}){let r=e.toolName;if(null==t)throw new rg({toolName:e.toolName});let n=t[r];if(null==n)throw new rg({toolName:e.toolName,availableTools:Object.keys(t)});let a=tp(n.parameters),s=""===e.args.trim()?el({value:{},schema:a}):function({text:e,schema:t}){try{let r=es.parse(e);if(null==t)return{success:!0,value:r};return el({value:r,schema:t})}catch(t){return{success:!1,error:U.isJSONParseError(t)?t:new U({text:e,cause:t})}}}({text:e.args,schema:a});if(!1===s.success)throw new rp({toolName:r,toolArgs:e.args,cause:s.error});return{type:"tool-call",toolCallId:e.toolCallId,toolName:r,args:s.value}})({toolCall:e,tools:t})),C=null==t?[]:await rb({toolCalls:I,tools:t,tracer:x,telemetry:m,abortSignal:i});let o={promptTokens:(O=E.usage).promptTokens,completionTokens:O.completionTokens,totalTokens:O.promptTokens+O.completionTokens};L.completionTokens+=o.completionTokens,L.promptTokens+=o.promptTokens,L.totalTokens+=o.totalTokens;let p="done";++R<d&&(f&&"length"===E.finishReason&&0===I.length?p="continue":I.length>0&&C.length===I.length&&(p="tool-result"));let g=null!=(s=E.text)?s:"",T="continue"===D&&M.trimEnd()!==M?g.trimStart():g,z="continue"===p?function(e){let t=function(e){let t=e.match(ry);return t?{prefix:t[1],whitespace:t[2],suffix:t[3]}:void 0}(e);return t?t.prefix+t.whitespace:e}(T):T;if(M="continue"===p||"continue"===D?M+z:z,"continue"===D){let e=P[P.length-1];"string"==typeof e.content?e.content+=z:e.content.push({text:z,type:"text"})}else P.push(...function({text:e="",tools:t,toolCalls:r,toolResults:n}){let a=[];return a.push({role:"assistant",content:[{type:"text",text:e},...r]}),n.length>0&&a.push({role:"tool",content:n.map(e=>{let r=t[e.toolName];return(null==r?void 0:r.experimental_toToolResultContent)!=null?{type:"tool-result",toolCallId:e.toolCallId,toolName:e.toolName,result:r.experimental_toToolResultContent(e.result),experimental_content:r.experimental_toToolResultContent(e.result)}:{type:"tool-result",toolCallId:e.toolCallId,toolName:e.toolName,result:e.result}})}),a}({text:M,tools:null!=t?t:{},toolCalls:I,toolResults:C}));let $={stepType:D,text:z,toolCalls:I,toolResults:C,finishReason:E.finishReason,usage:o,warnings:E.warnings,logprobs:E.logprobs,request:null!=(u=E.request)?u:{},response:{...E.response,headers:null==(c=E.rawResponse)?void 0:c.headers,messages:JSON.parse(JSON.stringify(P))},experimental_providerMetadata:E.providerMetadata,isContinued:"continue"===p};j.push($),await (null==_?void 0:_($)),D=p}while("done"!==D);return n.setAttributes(tN({telemetry:m,attributes:{"ai.response.finishReason":E.finishReason,"ai.response.text":{output:()=>E.text},"ai.response.toolCalls":{output:()=>JSON.stringify(E.toolCalls)},"ai.usage.promptTokens":E.usage.promptTokens,"ai.usage.completionTokens":E.usage.completionTokens,"ai.finishReason":E.finishReason,"ai.result.text":{output:()=>E.text},"ai.result.toolCalls":{output:()=>JSON.stringify(E.toolCalls)}}})),new rS({text:M,toolCalls:I,toolResults:C,finishReason:E.finishReason,usage:L,warnings:E.warnings,request:null!=(p=E.request)?p:{},response:{...E.response,headers:null==(T=E.rawResponse)?void 0:T.headers,messages:P},logprobs:E.logprobs,responseMessages:P,steps:j,providerMetadata:E.providerMetadata})}})}async function rb({toolCalls:e,tools:t,tracer:r,telemetry:n,abortSignal:a}){return(await Promise.all(e.map(async e=>{let s=t[e.toolName];if((null==s?void 0:s.execute)==null)return;let o=await tE({name:"ai.toolCall",attributes:tN({telemetry:n,attributes:{...tw({operationId:"ai.toolCall",telemetry:n}),"ai.toolCall.name":e.toolName,"ai.toolCall.id":e.toolCallId,"ai.toolCall.args":{output:()=>JSON.stringify(e.args)}}}),tracer:r,fn:async t=>{let r=await s.execute(e.args,{abortSignal:a});try{t.setAttributes(tN({telemetry:n,attributes:{"ai.toolCall.result":{output:()=>JSON.stringify(r)}}}))}catch(e){}return r}});return{toolCallId:e.toolCallId,toolName:e.toolName,args:e.args,result:o}}))).filter(e=>null!=e)}var rS=class{constructor(e){this.text=e.text,this.toolCalls=e.toolCalls,this.toolResults=e.toolResults,this.finishReason=e.finishReason,this.usage=e.usage,this.warnings=e.warnings,this.request=e.request,this.response=e.response,this.responseMessages=e.responseMessages,this.roundtrips=e.steps,this.steps=e.steps,this.experimental_providerMetadata=e.providerMetadata,this.rawResponse={headers:e.response.headers},this.logprobs=e.logprobs}};function rw(e,t){let r,n;let a=e.getReader(),s=t.getReader(),o=!1,i=!1;async function l(e){try{null==r&&(r=a.read());let t=await r;r=void 0,t.done?e.close():e.enqueue(t.value)}catch(t){e.error(t)}}async function u(e){try{null==n&&(n=s.read());let t=await n;n=void 0,t.done?e.close():e.enqueue(t.value)}catch(t){e.error(t)}}return new ReadableStream({async pull(e){try{if(o){await u(e);return}if(i){await l(e);return}null==r&&(r=a.read()),null==n&&(n=s.read());let{result:t,reader:c}=await Promise.race([r.then(e=>({result:e,reader:a})),n.then(e=>({result:e,reader:s}))]);t.done||e.enqueue(t.value),c===a?(r=void 0,t.done&&(await u(e),o=!0)):(n=void 0,t.done&&(i=!0,await l(e)))}catch(t){e.error(t)}},cancel(){a.cancel(),s.cancel()}})}eo({prefix:"aitxt",size:24});var rx="AI_NoSuchProviderError",rT=`vercel.ai.error.${rx}`;function rO(e){let t=new TextEncoder,r="",n=e||{};return new TransformStream({async start(){n.onStart&&await n.onStart()},async transform(e,a){let s="string"==typeof e?e:e.content;a.enqueue(t.encode(s)),r+=s,n.onToken&&await n.onToken(s),n.onText&&"string"==typeof e&&await n.onText(e)},async flush(){n.onCompletion&&await n.onCompletion(r),!n.onFinal||"experimental_onFunctionCall"in n||await n.onFinal(r)}})}x=Symbol.for(rT);function rE(){let e=new TextEncoder,t=new TextDecoder;return new TransformStream({transform:async(r,n)=>{let a=t.decode(r);n.enqueue(e.encode(function(e,t){let r=ti.find(t=>t.name===e);if(!r)throw Error(`Invalid stream part type: ${e}`);return`${r.code}:${JSON.stringify(t)}
`}("text",a)))}})}new TextDecoder("utf-8");function rN(e,t){return rk(e,t)}function rk(e,t){return e.pipeThrough(new TransformStream({transform:async(e,t)=>{var r;if("string"==typeof e){t.enqueue(e);return}if("event"in e){"on_chat_model_stream"===e.event&&rI(null==(r=e.data)?void 0:r.chunk,t);return}rI(e,t)}})).pipeThrough(rO(t)).pipeThrough(rE())}function rA(e,t){var r;let n=rk(e,null==t?void 0:t.callbacks),a=null==t?void 0:t.data,s=null==t?void 0:t.init;return new Response(a?rw(a.stream,n):n,{status:null!=(r=null==s?void 0:s.status)?r:200,statusText:null==s?void 0:s.statusText,headers:ra(s,{contentType:"text/plain; charset=utf-8",dataStreamVersion:"v1"})})}function rI(e,t){if("string"==typeof e.content)t.enqueue(e.content);else for(let r of e.content)"text"===r.type&&t.enqueue(r.text)}function rC(e,t){return(function(e){let t;let r=e[Symbol.asyncIterator](),n=(t=!0,e=>(t&&(e=e.trimStart())&&(t=!1),e));return new ReadableStream({async pull(e){var t;let{value:a,done:s}=await r.next();if(s){e.close();return}let o=n(null!=(t=a.delta)?t:"");o&&e.enqueue(o)}})})(e).pipeThrough(rO(t)).pipeThrough(rE())}function rR(e,t={}){var r;let{init:n,data:a,callbacks:s}=t,o=rC(e,s);return new Response(a?rw(a.stream,o):o,{status:null!=(r=null==n?void 0:n.status)?r:200,statusText:null==n?void 0:n.statusText,headers:ra(n,{contentType:"text/plain; charset=utf-8",dataStreamVersion:"v1"})})}tm({},{toAIStream:()=>rN,toDataStream:()=>rk,toDataStreamResponse:()=>rA}),tm({},{toDataStream:()=>rC,toDataStreamResponse:()=>rR});Symbol("internal_openai_fn_messages"),Response},16748:(e,t,r)=>{"use strict";r.d(t,{k:()=>n});let n=(e,t=21)=>(r=t)=>{let n="",a=0|r;for(;a--;)n+=e[Math.random()*e.length|0];return n}},10692:(e,t,r)=>{"use strict";let n;r.d(t,{ak:()=>eS,pA:()=>tl,z:()=>tu}),function(e){e.assertEqual=e=>e,e.assertIs=function(e){},e.assertNever=function(e){throw Error()},e.arrayToEnum=e=>{let t={};for(let r of e)t[r]=r;return t},e.getValidEnumValues=t=>{let r=e.objectKeys(t).filter(e=>"number"!=typeof t[t[e]]),n={};for(let e of r)n[e]=t[e];return e.objectValues(n)},e.objectValues=t=>e.objectKeys(t).map(function(e){return t[e]}),e.objectKeys="function"==typeof Object.keys?e=>Object.keys(e):e=>{let t=[];for(let r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t},e.find=(e,t)=>{for(let r of e)if(t(r))return r},e.isInteger="function"==typeof Number.isInteger?e=>Number.isInteger(e):e=>"number"==typeof e&&isFinite(e)&&Math.floor(e)===e,e.joinValues=function(e,t=" | "){return e.map(e=>"string"==typeof e?`'${e}'`:e).join(t)},e.jsonStringifyReplacer=(e,t)=>"bigint"==typeof t?t.toString():t}(tn||(tn={})),(ta||(ta={})).mergeShapes=(e,t)=>({...e,...t});let a=tn.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),s=e=>{switch(typeof e){case"undefined":return a.undefined;case"string":return a.string;case"number":return isNaN(e)?a.nan:a.number;case"boolean":return a.boolean;case"function":return a.function;case"bigint":return a.bigint;case"symbol":return a.symbol;case"object":if(Array.isArray(e))return a.array;if(null===e)return a.null;if(e.then&&"function"==typeof e.then&&e.catch&&"function"==typeof e.catch)return a.promise;if("undefined"!=typeof Map&&e instanceof Map)return a.map;if("undefined"!=typeof Set&&e instanceof Set)return a.set;if("undefined"!=typeof Date&&e instanceof Date)return a.date;return a.object;default:return a.unknown}},o=tn.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class i extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=e=>{this.issues=[...this.issues,e]},this.addIssues=(e=[])=>{this.issues=[...this.issues,...e]};let t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}format(e){let t=e||function(e){return e.message},r={_errors:[]},n=e=>{for(let a of e.issues)if("invalid_union"===a.code)a.unionErrors.map(n);else if("invalid_return_type"===a.code)n(a.returnTypeError);else if("invalid_arguments"===a.code)n(a.argumentsError);else if(0===a.path.length)r._errors.push(t(a));else{let e=r,n=0;for(;n<a.path.length;){let r=a.path[n];n===a.path.length-1?(e[r]=e[r]||{_errors:[]},e[r]._errors.push(t(a))):e[r]=e[r]||{_errors:[]},e=e[r],n++}}};return n(this),r}static assert(e){if(!(e instanceof i))throw Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,tn.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(e=e=>e.message){let t={},r=[];for(let n of this.issues)n.path.length>0?(t[n.path[0]]=t[n.path[0]]||[],t[n.path[0]].push(e(n))):r.push(e(n));return{formErrors:r,fieldErrors:t}}get formErrors(){return this.flatten()}}i.create=e=>new i(e);let l=(e,t)=>{let r;switch(e.code){case o.invalid_type:r=e.received===a.undefined?"Required":`Expected ${e.expected}, received ${e.received}`;break;case o.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,tn.jsonStringifyReplacer)}`;break;case o.unrecognized_keys:r=`Unrecognized key(s) in object: ${tn.joinValues(e.keys,", ")}`;break;case o.invalid_union:r="Invalid input";break;case o.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${tn.joinValues(e.options)}`;break;case o.invalid_enum_value:r=`Invalid enum value. Expected ${tn.joinValues(e.options)}, received '${e.received}'`;break;case o.invalid_arguments:r="Invalid function arguments";break;case o.invalid_return_type:r="Invalid function return type";break;case o.invalid_date:r="Invalid date";break;case o.invalid_string:"object"==typeof e.validation?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,"number"==typeof e.validation.position&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:tn.assertNever(e.validation):r="regex"!==e.validation?`Invalid ${e.validation}`:"Invalid";break;case o.too_small:r="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:"date"===e.type?`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:"Invalid input";break;case o.too_big:r="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"bigint"===e.type?`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"date"===e.type?`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:"Invalid input";break;case o.custom:r="Invalid input";break;case o.invalid_intersection_types:r="Intersection results could not be merged";break;case o.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case o.not_finite:r="Number must be finite";break;default:r=t.defaultError,tn.assertNever(e)}return{message:r}},u=l;function c(){return u}let d=e=>{let{data:t,path:r,errorMaps:n,issueData:a}=e,s=[...r,...a.path||[]],o={...a,path:s};if(void 0!==a.message)return{...a,path:s,message:a.message};let i="";for(let e of n.filter(e=>!!e).slice().reverse())i=e(o,{data:t,defaultError:i}).message;return{...a,path:s,message:i}};function p(e,t){let r=c(),n=d({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===l?void 0:l].filter(e=>!!e)});e.common.issues.push(n)}class f{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(e,t){let r=[];for(let n of t){if("aborted"===n.status)return m;"dirty"===n.status&&e.dirty(),r.push(n.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,t){let r=[];for(let e of t){let t=await e.key,n=await e.value;r.push({key:t,value:n})}return f.mergeObjectSync(e,r)}static mergeObjectSync(e,t){let r={};for(let n of t){let{key:t,value:a}=n;if("aborted"===t.status||"aborted"===a.status)return m;"dirty"===t.status&&e.dirty(),"dirty"===a.status&&e.dirty(),"__proto__"!==t.value&&(void 0!==a.value||n.alwaysSet)&&(r[t.value]=a.value)}return{status:e.value,value:r}}}let m=Object.freeze({status:"aborted"}),h=e=>({status:"dirty",value:e}),g=e=>({status:"valid",value:e}),y=e=>"aborted"===e.status,v=e=>"dirty"===e.status,_=e=>"valid"===e.status,b=e=>"undefined"!=typeof Promise&&e instanceof Promise;function S(e,t,r,n){if("a"===r&&!n)throw TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)}function w(e,t,r,n,a){if("m"===n)throw TypeError("Private method is not writable");if("a"===n&&!a)throw TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!a:!t.has(e))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?a.call(e,r):a?a.value=r:t.set(e,r),r}"function"==typeof SuppressedError&&SuppressedError,function(e){e.errToObj=e=>"string"==typeof e?{message:e}:e||{},e.toString=e=>"string"==typeof e?e:null==e?void 0:e.message}(ts||(ts={}));class x{constructor(e,t,r,n){this._cachedPath=[],this.parent=e,this.data=t,this._path=r,this._key=n}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}let T=(e,t)=>{if(_(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let t=new i(e.common.issues);return this._error=t,this._error}}};function O(e){if(!e)return{};let{errorMap:t,invalid_type_error:r,required_error:n,description:a}=e;if(t&&(r||n))throw Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');return t?{errorMap:t,description:a}:{errorMap:(t,a)=>{var s,o;let{message:i}=e;return"invalid_enum_value"===t.code?{message:null!=i?i:a.defaultError}:void 0===a.data?{message:null!==(s=null!=i?i:n)&&void 0!==s?s:a.defaultError}:"invalid_type"!==t.code?{message:a.defaultError}:{message:null!==(o=null!=i?i:r)&&void 0!==o?o:a.defaultError}},description:a}}class E{get description(){return this._def.description}_getType(e){return s(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:s(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new f,ctx:{common:e.parent.common,data:e.data,parsedType:s(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){let t=this._parse(e);if(b(t))throw Error("Synchronous parse encountered promise.");return t}_parseAsync(e){return Promise.resolve(this._parse(e))}parse(e,t){let r=this.safeParse(e,t);if(r.success)return r.data;throw r.error}safeParse(e,t){var r;let n={common:{issues:[],async:null!==(r=null==t?void 0:t.async)&&void 0!==r&&r,contextualErrorMap:null==t?void 0:t.errorMap},path:(null==t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:s(e)},a=this._parseSync({data:e,path:n.path,parent:n});return T(n,a)}"~validate"(e){var t,r;let n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:s(e)};if(!this["~standard"].async)try{let t=this._parseSync({data:e,path:[],parent:n});return _(t)?{value:t.value}:{issues:n.common.issues}}catch(e){(null===(r=null===(t=null==e?void 0:e.message)||void 0===t?void 0:t.toLowerCase())||void 0===r?void 0:r.includes("encountered"))&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:n}).then(e=>_(e)?{value:e.value}:{issues:n.common.issues})}async parseAsync(e,t){let r=await this.safeParseAsync(e,t);if(r.success)return r.data;throw r.error}async safeParseAsync(e,t){let r={common:{issues:[],contextualErrorMap:null==t?void 0:t.errorMap,async:!0},path:(null==t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:s(e)},n=this._parse({data:e,path:r.path,parent:r});return T(r,await (b(n)?n:Promise.resolve(n)))}refine(e,t){let r=e=>"string"==typeof t||void 0===t?{message:t}:"function"==typeof t?t(e):t;return this._refinement((t,n)=>{let a=e(t),s=()=>n.addIssue({code:o.custom,...r(t)});return"undefined"!=typeof Promise&&a instanceof Promise?a.then(e=>!!e||(s(),!1)):!!a||(s(),!1)})}refinement(e,t){return this._refinement((r,n)=>!!e(r)||(n.addIssue("function"==typeof t?t(r,n):t),!1))}_refinement(e){return new eb({schema:this,typeName:tl.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:e=>this["~validate"](e)}}optional(){return eS.create(this,this._def)}nullable(){return ew.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return en.create(this)}promise(){return e_.create(this,this._def)}or(e){return es.create([this,e],this._def)}and(e){return el.create(this,e,this._def)}transform(e){return new eb({...O(this._def),schema:this,typeName:tl.ZodEffects,effect:{type:"transform",transform:e}})}default(e){return new ex({...O(this._def),innerType:this,defaultValue:"function"==typeof e?e:()=>e,typeName:tl.ZodDefault})}brand(){return new eN({typeName:tl.ZodBranded,type:this,...O(this._def)})}catch(e){return new eT({...O(this._def),innerType:this,catchValue:"function"==typeof e?e:()=>e,typeName:tl.ZodCatch})}describe(e){return new this.constructor({...this._def,description:e})}pipe(e){return ek.create(this,e)}readonly(){return eA.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}let N=/^c[^\s-]{8,}$/i,k=/^[0-9a-z]+$/,A=/^[0-9A-HJKMNP-TV-Z]{26}$/i,I=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,C=/^[a-z0-9_-]{21}$/i,R=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,P=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,M=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,j=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,L=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,D=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,z=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,$=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Z=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,F="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",B=RegExp(`^${F}$`);function V(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:null==e.precision&&(t=`${t}(\\.\\d+)?`),t}function U(e){let t=`${F}T${V(e)}`,r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,RegExp(`^${t}$`)}class q extends E{_parse(e){var t,r,s,i;let l;if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==a.string){let t=this._getOrReturnCtx(e);return p(t,{code:o.invalid_type,expected:a.string,received:t.parsedType}),m}let u=new f;for(let a of this._def.checks)if("min"===a.kind)e.data.length<a.value&&(p(l=this._getOrReturnCtx(e,l),{code:o.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),u.dirty());else if("max"===a.kind)e.data.length>a.value&&(p(l=this._getOrReturnCtx(e,l),{code:o.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),u.dirty());else if("length"===a.kind){let t=e.data.length>a.value,r=e.data.length<a.value;(t||r)&&(l=this._getOrReturnCtx(e,l),t?p(l,{code:o.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):r&&p(l,{code:o.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),u.dirty())}else if("email"===a.kind)M.test(e.data)||(p(l=this._getOrReturnCtx(e,l),{validation:"email",code:o.invalid_string,message:a.message}),u.dirty());else if("emoji"===a.kind)n||(n=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),n.test(e.data)||(p(l=this._getOrReturnCtx(e,l),{validation:"emoji",code:o.invalid_string,message:a.message}),u.dirty());else if("uuid"===a.kind)I.test(e.data)||(p(l=this._getOrReturnCtx(e,l),{validation:"uuid",code:o.invalid_string,message:a.message}),u.dirty());else if("nanoid"===a.kind)C.test(e.data)||(p(l=this._getOrReturnCtx(e,l),{validation:"nanoid",code:o.invalid_string,message:a.message}),u.dirty());else if("cuid"===a.kind)N.test(e.data)||(p(l=this._getOrReturnCtx(e,l),{validation:"cuid",code:o.invalid_string,message:a.message}),u.dirty());else if("cuid2"===a.kind)k.test(e.data)||(p(l=this._getOrReturnCtx(e,l),{validation:"cuid2",code:o.invalid_string,message:a.message}),u.dirty());else if("ulid"===a.kind)A.test(e.data)||(p(l=this._getOrReturnCtx(e,l),{validation:"ulid",code:o.invalid_string,message:a.message}),u.dirty());else if("url"===a.kind)try{new URL(e.data)}catch(t){p(l=this._getOrReturnCtx(e,l),{validation:"url",code:o.invalid_string,message:a.message}),u.dirty()}else"regex"===a.kind?(a.regex.lastIndex=0,a.regex.test(e.data)||(p(l=this._getOrReturnCtx(e,l),{validation:"regex",code:o.invalid_string,message:a.message}),u.dirty())):"trim"===a.kind?e.data=e.data.trim():"includes"===a.kind?e.data.includes(a.value,a.position)||(p(l=this._getOrReturnCtx(e,l),{code:o.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),u.dirty()):"toLowerCase"===a.kind?e.data=e.data.toLowerCase():"toUpperCase"===a.kind?e.data=e.data.toUpperCase():"startsWith"===a.kind?e.data.startsWith(a.value)||(p(l=this._getOrReturnCtx(e,l),{code:o.invalid_string,validation:{startsWith:a.value},message:a.message}),u.dirty()):"endsWith"===a.kind?e.data.endsWith(a.value)||(p(l=this._getOrReturnCtx(e,l),{code:o.invalid_string,validation:{endsWith:a.value},message:a.message}),u.dirty()):"datetime"===a.kind?U(a).test(e.data)||(p(l=this._getOrReturnCtx(e,l),{code:o.invalid_string,validation:"datetime",message:a.message}),u.dirty()):"date"===a.kind?B.test(e.data)||(p(l=this._getOrReturnCtx(e,l),{code:o.invalid_string,validation:"date",message:a.message}),u.dirty()):"time"===a.kind?RegExp(`^${V(a)}$`).test(e.data)||(p(l=this._getOrReturnCtx(e,l),{code:o.invalid_string,validation:"time",message:a.message}),u.dirty()):"duration"===a.kind?P.test(e.data)||(p(l=this._getOrReturnCtx(e,l),{validation:"duration",code:o.invalid_string,message:a.message}),u.dirty()):"ip"===a.kind?(t=e.data,("v4"===(r=a.version)||!r)&&j.test(t)||("v6"===r||!r)&&D.test(t)||(p(l=this._getOrReturnCtx(e,l),{validation:"ip",code:o.invalid_string,message:a.message}),u.dirty())):"jwt"===a.kind?!function(e,t){if(!R.test(e))return!1;try{let[r]=e.split("."),n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),a=JSON.parse(atob(n));if("object"!=typeof a||null===a||!a.typ||!a.alg||t&&a.alg!==t)return!1;return!0}catch(e){return!1}}(e.data,a.alg)&&(p(l=this._getOrReturnCtx(e,l),{validation:"jwt",code:o.invalid_string,message:a.message}),u.dirty()):"cidr"===a.kind?(s=e.data,("v4"===(i=a.version)||!i)&&L.test(s)||("v6"===i||!i)&&z.test(s)||(p(l=this._getOrReturnCtx(e,l),{validation:"cidr",code:o.invalid_string,message:a.message}),u.dirty())):"base64"===a.kind?$.test(e.data)||(p(l=this._getOrReturnCtx(e,l),{validation:"base64",code:o.invalid_string,message:a.message}),u.dirty()):"base64url"===a.kind?Z.test(e.data)||(p(l=this._getOrReturnCtx(e,l),{validation:"base64url",code:o.invalid_string,message:a.message}),u.dirty()):tn.assertNever(a);return{status:u.value,value:e.data}}_regex(e,t,r){return this.refinement(t=>e.test(t),{validation:t,code:o.invalid_string,...ts.errToObj(r)})}_addCheck(e){return new q({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...ts.errToObj(e)})}url(e){return this._addCheck({kind:"url",...ts.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...ts.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...ts.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...ts.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...ts.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...ts.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...ts.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...ts.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...ts.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...ts.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...ts.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...ts.errToObj(e)})}datetime(e){var t,r;return"string"==typeof e?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:void 0===(null==e?void 0:e.precision)?null:null==e?void 0:e.precision,offset:null!==(t=null==e?void 0:e.offset)&&void 0!==t&&t,local:null!==(r=null==e?void 0:e.local)&&void 0!==r&&r,...ts.errToObj(null==e?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return"string"==typeof e?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:void 0===(null==e?void 0:e.precision)?null:null==e?void 0:e.precision,...ts.errToObj(null==e?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...ts.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...ts.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:null==t?void 0:t.position,...ts.errToObj(null==t?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...ts.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...ts.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...ts.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...ts.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...ts.errToObj(t)})}nonempty(e){return this.min(1,ts.errToObj(e))}trim(){return new q({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new q({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new q({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>"datetime"===e.kind)}get isDate(){return!!this._def.checks.find(e=>"date"===e.kind)}get isTime(){return!!this._def.checks.find(e=>"time"===e.kind)}get isDuration(){return!!this._def.checks.find(e=>"duration"===e.kind)}get isEmail(){return!!this._def.checks.find(e=>"email"===e.kind)}get isURL(){return!!this._def.checks.find(e=>"url"===e.kind)}get isEmoji(){return!!this._def.checks.find(e=>"emoji"===e.kind)}get isUUID(){return!!this._def.checks.find(e=>"uuid"===e.kind)}get isNANOID(){return!!this._def.checks.find(e=>"nanoid"===e.kind)}get isCUID(){return!!this._def.checks.find(e=>"cuid"===e.kind)}get isCUID2(){return!!this._def.checks.find(e=>"cuid2"===e.kind)}get isULID(){return!!this._def.checks.find(e=>"ulid"===e.kind)}get isIP(){return!!this._def.checks.find(e=>"ip"===e.kind)}get isCIDR(){return!!this._def.checks.find(e=>"cidr"===e.kind)}get isBase64(){return!!this._def.checks.find(e=>"base64"===e.kind)}get isBase64url(){return!!this._def.checks.find(e=>"base64url"===e.kind)}get minLength(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}q.create=e=>{var t;return new q({checks:[],typeName:tl.ZodString,coerce:null!==(t=null==e?void 0:e.coerce)&&void 0!==t&&t,...O(e)})};class G extends E{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){let t;if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==a.number){let t=this._getOrReturnCtx(e);return p(t,{code:o.invalid_type,expected:a.number,received:t.parsedType}),m}let r=new f;for(let n of this._def.checks)"int"===n.kind?tn.isInteger(e.data)||(p(t=this._getOrReturnCtx(e,t),{code:o.invalid_type,expected:"integer",received:"float",message:n.message}),r.dirty()):"min"===n.kind?(n.inclusive?e.data<n.value:e.data<=n.value)&&(p(t=this._getOrReturnCtx(e,t),{code:o.too_small,minimum:n.value,type:"number",inclusive:n.inclusive,exact:!1,message:n.message}),r.dirty()):"max"===n.kind?(n.inclusive?e.data>n.value:e.data>=n.value)&&(p(t=this._getOrReturnCtx(e,t),{code:o.too_big,maximum:n.value,type:"number",inclusive:n.inclusive,exact:!1,message:n.message}),r.dirty()):"multipleOf"===n.kind?0!==function(e,t){let r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,a=r>n?r:n;return parseInt(e.toFixed(a).replace(".",""))%parseInt(t.toFixed(a).replace(".",""))/Math.pow(10,a)}(e.data,n.value)&&(p(t=this._getOrReturnCtx(e,t),{code:o.not_multiple_of,multipleOf:n.value,message:n.message}),r.dirty()):"finite"===n.kind?Number.isFinite(e.data)||(p(t=this._getOrReturnCtx(e,t),{code:o.not_finite,message:n.message}),r.dirty()):tn.assertNever(n);return{status:r.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,ts.toString(t))}gt(e,t){return this.setLimit("min",e,!1,ts.toString(t))}lte(e,t){return this.setLimit("max",e,!0,ts.toString(t))}lt(e,t){return this.setLimit("max",e,!1,ts.toString(t))}setLimit(e,t,r,n){return new G({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:ts.toString(n)}]})}_addCheck(e){return new G({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:ts.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:ts.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:ts.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:ts.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:ts.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:ts.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:ts.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:ts.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:ts.toString(e)})}get minValue(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>"int"===e.kind||"multipleOf"===e.kind&&tn.isInteger(e.value))}get isFinite(){let e=null,t=null;for(let r of this._def.checks){if("finite"===r.kind||"int"===r.kind||"multipleOf"===r.kind)return!0;"min"===r.kind?(null===t||r.value>t)&&(t=r.value):"max"===r.kind&&(null===e||r.value<e)&&(e=r.value)}return Number.isFinite(t)&&Number.isFinite(e)}}G.create=e=>new G({checks:[],typeName:tl.ZodNumber,coerce:(null==e?void 0:e.coerce)||!1,...O(e)});class J extends E{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){let t;if(this._def.coerce)try{e.data=BigInt(e.data)}catch(t){return this._getInvalidInput(e)}if(this._getType(e)!==a.bigint)return this._getInvalidInput(e);let r=new f;for(let n of this._def.checks)"min"===n.kind?(n.inclusive?e.data<n.value:e.data<=n.value)&&(p(t=this._getOrReturnCtx(e,t),{code:o.too_small,type:"bigint",minimum:n.value,inclusive:n.inclusive,message:n.message}),r.dirty()):"max"===n.kind?(n.inclusive?e.data>n.value:e.data>=n.value)&&(p(t=this._getOrReturnCtx(e,t),{code:o.too_big,type:"bigint",maximum:n.value,inclusive:n.inclusive,message:n.message}),r.dirty()):"multipleOf"===n.kind?e.data%n.value!==BigInt(0)&&(p(t=this._getOrReturnCtx(e,t),{code:o.not_multiple_of,multipleOf:n.value,message:n.message}),r.dirty()):tn.assertNever(n);return{status:r.value,value:e.data}}_getInvalidInput(e){let t=this._getOrReturnCtx(e);return p(t,{code:o.invalid_type,expected:a.bigint,received:t.parsedType}),m}gte(e,t){return this.setLimit("min",e,!0,ts.toString(t))}gt(e,t){return this.setLimit("min",e,!1,ts.toString(t))}lte(e,t){return this.setLimit("max",e,!0,ts.toString(t))}lt(e,t){return this.setLimit("max",e,!1,ts.toString(t))}setLimit(e,t,r,n){return new J({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:ts.toString(n)}]})}_addCheck(e){return new J({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:ts.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:ts.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:ts.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:ts.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:ts.toString(t)})}get minValue(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}J.create=e=>{var t;return new J({checks:[],typeName:tl.ZodBigInt,coerce:null!==(t=null==e?void 0:e.coerce)&&void 0!==t&&t,...O(e)})};class K extends E{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==a.boolean){let t=this._getOrReturnCtx(e);return p(t,{code:o.invalid_type,expected:a.boolean,received:t.parsedType}),m}return g(e.data)}}K.create=e=>new K({typeName:tl.ZodBoolean,coerce:(null==e?void 0:e.coerce)||!1,...O(e)});class H extends E{_parse(e){let t;if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==a.date){let t=this._getOrReturnCtx(e);return p(t,{code:o.invalid_type,expected:a.date,received:t.parsedType}),m}if(isNaN(e.data.getTime()))return p(this._getOrReturnCtx(e),{code:o.invalid_date}),m;let r=new f;for(let n of this._def.checks)"min"===n.kind?e.data.getTime()<n.value&&(p(t=this._getOrReturnCtx(e,t),{code:o.too_small,message:n.message,inclusive:!0,exact:!1,minimum:n.value,type:"date"}),r.dirty()):"max"===n.kind?e.data.getTime()>n.value&&(p(t=this._getOrReturnCtx(e,t),{code:o.too_big,message:n.message,inclusive:!0,exact:!1,maximum:n.value,type:"date"}),r.dirty()):tn.assertNever(n);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new H({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:ts.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:ts.toString(t)})}get minDate(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return null!=e?new Date(e):null}get maxDate(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return null!=e?new Date(e):null}}H.create=e=>new H({checks:[],coerce:(null==e?void 0:e.coerce)||!1,typeName:tl.ZodDate,...O(e)});class W extends E{_parse(e){if(this._getType(e)!==a.symbol){let t=this._getOrReturnCtx(e);return p(t,{code:o.invalid_type,expected:a.symbol,received:t.parsedType}),m}return g(e.data)}}W.create=e=>new W({typeName:tl.ZodSymbol,...O(e)});class X extends E{_parse(e){if(this._getType(e)!==a.undefined){let t=this._getOrReturnCtx(e);return p(t,{code:o.invalid_type,expected:a.undefined,received:t.parsedType}),m}return g(e.data)}}X.create=e=>new X({typeName:tl.ZodUndefined,...O(e)});class Y extends E{_parse(e){if(this._getType(e)!==a.null){let t=this._getOrReturnCtx(e);return p(t,{code:o.invalid_type,expected:a.null,received:t.parsedType}),m}return g(e.data)}}Y.create=e=>new Y({typeName:tl.ZodNull,...O(e)});class Q extends E{constructor(){super(...arguments),this._any=!0}_parse(e){return g(e.data)}}Q.create=e=>new Q({typeName:tl.ZodAny,...O(e)});class ee extends E{constructor(){super(...arguments),this._unknown=!0}_parse(e){return g(e.data)}}ee.create=e=>new ee({typeName:tl.ZodUnknown,...O(e)});class et extends E{_parse(e){let t=this._getOrReturnCtx(e);return p(t,{code:o.invalid_type,expected:a.never,received:t.parsedType}),m}}et.create=e=>new et({typeName:tl.ZodNever,...O(e)});class er extends E{_parse(e){if(this._getType(e)!==a.undefined){let t=this._getOrReturnCtx(e);return p(t,{code:o.invalid_type,expected:a.void,received:t.parsedType}),m}return g(e.data)}}er.create=e=>new er({typeName:tl.ZodVoid,...O(e)});class en extends E{_parse(e){let{ctx:t,status:r}=this._processInputParams(e),n=this._def;if(t.parsedType!==a.array)return p(t,{code:o.invalid_type,expected:a.array,received:t.parsedType}),m;if(null!==n.exactLength){let e=t.data.length>n.exactLength.value,a=t.data.length<n.exactLength.value;(e||a)&&(p(t,{code:e?o.too_big:o.too_small,minimum:a?n.exactLength.value:void 0,maximum:e?n.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:n.exactLength.message}),r.dirty())}if(null!==n.minLength&&t.data.length<n.minLength.value&&(p(t,{code:o.too_small,minimum:n.minLength.value,type:"array",inclusive:!0,exact:!1,message:n.minLength.message}),r.dirty()),null!==n.maxLength&&t.data.length>n.maxLength.value&&(p(t,{code:o.too_big,maximum:n.maxLength.value,type:"array",inclusive:!0,exact:!1,message:n.maxLength.message}),r.dirty()),t.common.async)return Promise.all([...t.data].map((e,r)=>n.type._parseAsync(new x(t,e,t.path,r)))).then(e=>f.mergeArray(r,e));let s=[...t.data].map((e,r)=>n.type._parseSync(new x(t,e,t.path,r)));return f.mergeArray(r,s)}get element(){return this._def.type}min(e,t){return new en({...this._def,minLength:{value:e,message:ts.toString(t)}})}max(e,t){return new en({...this._def,maxLength:{value:e,message:ts.toString(t)}})}length(e,t){return new en({...this._def,exactLength:{value:e,message:ts.toString(t)}})}nonempty(e){return this.min(1,e)}}en.create=(e,t)=>new en({type:e,minLength:null,maxLength:null,exactLength:null,typeName:tl.ZodArray,...O(t)});class ea extends E{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;let e=this._def.shape(),t=tn.objectKeys(e);return this._cached={shape:e,keys:t}}_parse(e){if(this._getType(e)!==a.object){let t=this._getOrReturnCtx(e);return p(t,{code:o.invalid_type,expected:a.object,received:t.parsedType}),m}let{status:t,ctx:r}=this._processInputParams(e),{shape:n,keys:s}=this._getCached(),i=[];if(!(this._def.catchall instanceof et&&"strip"===this._def.unknownKeys))for(let e in r.data)s.includes(e)||i.push(e);let l=[];for(let e of s){let t=n[e],a=r.data[e];l.push({key:{status:"valid",value:e},value:t._parse(new x(r,a,r.path,e)),alwaysSet:e in r.data})}if(this._def.catchall instanceof et){let e=this._def.unknownKeys;if("passthrough"===e)for(let e of i)l.push({key:{status:"valid",value:e},value:{status:"valid",value:r.data[e]}});else if("strict"===e)i.length>0&&(p(r,{code:o.unrecognized_keys,keys:i}),t.dirty());else if("strip"===e);else throw Error("Internal ZodObject error: invalid unknownKeys value.")}else{let e=this._def.catchall;for(let t of i){let n=r.data[t];l.push({key:{status:"valid",value:t},value:e._parse(new x(r,n,r.path,t)),alwaysSet:t in r.data})}}return r.common.async?Promise.resolve().then(async()=>{let e=[];for(let t of l){let r=await t.key,n=await t.value;e.push({key:r,value:n,alwaysSet:t.alwaysSet})}return e}).then(e=>f.mergeObjectSync(t,e)):f.mergeObjectSync(t,l)}get shape(){return this._def.shape()}strict(e){return ts.errToObj,new ea({...this._def,unknownKeys:"strict",...void 0!==e?{errorMap:(t,r)=>{var n,a,s,o;let i=null!==(s=null===(a=(n=this._def).errorMap)||void 0===a?void 0:a.call(n,t,r).message)&&void 0!==s?s:r.defaultError;return"unrecognized_keys"===t.code?{message:null!==(o=ts.errToObj(e).message)&&void 0!==o?o:i}:{message:i}}}:{}})}strip(){return new ea({...this._def,unknownKeys:"strip"})}passthrough(){return new ea({...this._def,unknownKeys:"passthrough"})}extend(e){return new ea({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new ea({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:tl.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new ea({...this._def,catchall:e})}pick(e){let t={};return tn.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(t[r]=this.shape[r])}),new ea({...this._def,shape:()=>t})}omit(e){let t={};return tn.objectKeys(this.shape).forEach(r=>{e[r]||(t[r]=this.shape[r])}),new ea({...this._def,shape:()=>t})}deepPartial(){return function e(t){if(t instanceof ea){let r={};for(let n in t.shape){let a=t.shape[n];r[n]=eS.create(e(a))}return new ea({...t._def,shape:()=>r})}return t instanceof en?new en({...t._def,type:e(t.element)}):t instanceof eS?eS.create(e(t.unwrap())):t instanceof ew?ew.create(e(t.unwrap())):t instanceof eu?eu.create(t.items.map(t=>e(t))):t}(this)}partial(e){let t={};return tn.objectKeys(this.shape).forEach(r=>{let n=this.shape[r];e&&!e[r]?t[r]=n:t[r]=n.optional()}),new ea({...this._def,shape:()=>t})}required(e){let t={};return tn.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])t[r]=this.shape[r];else{let e=this.shape[r];for(;e instanceof eS;)e=e._def.innerType;t[r]=e}}),new ea({...this._def,shape:()=>t})}keyof(){return eg(tn.objectKeys(this.shape))}}ea.create=(e,t)=>new ea({shape:()=>e,unknownKeys:"strip",catchall:et.create(),typeName:tl.ZodObject,...O(t)}),ea.strictCreate=(e,t)=>new ea({shape:()=>e,unknownKeys:"strict",catchall:et.create(),typeName:tl.ZodObject,...O(t)}),ea.lazycreate=(e,t)=>new ea({shape:e,unknownKeys:"strip",catchall:et.create(),typeName:tl.ZodObject,...O(t)});class es extends E{_parse(e){let{ctx:t}=this._processInputParams(e),r=this._def.options;if(t.common.async)return Promise.all(r.map(async e=>{let r={...t,common:{...t.common,issues:[]},parent:null};return{result:await e._parseAsync({data:t.data,path:t.path,parent:r}),ctx:r}})).then(function(e){for(let t of e)if("valid"===t.result.status)return t.result;for(let r of e)if("dirty"===r.result.status)return t.common.issues.push(...r.ctx.common.issues),r.result;let r=e.map(e=>new i(e.ctx.common.issues));return p(t,{code:o.invalid_union,unionErrors:r}),m});{let e;let n=[];for(let a of r){let r={...t,common:{...t.common,issues:[]},parent:null},s=a._parseSync({data:t.data,path:t.path,parent:r});if("valid"===s.status)return s;"dirty"!==s.status||e||(e={result:s,ctx:r}),r.common.issues.length&&n.push(r.common.issues)}if(e)return t.common.issues.push(...e.ctx.common.issues),e.result;let a=n.map(e=>new i(e));return p(t,{code:o.invalid_union,unionErrors:a}),m}}get options(){return this._def.options}}es.create=(e,t)=>new es({options:e,typeName:tl.ZodUnion,...O(t)});let eo=e=>{if(e instanceof em)return eo(e.schema);if(e instanceof eb)return eo(e.innerType());if(e instanceof eh)return[e.value];if(e instanceof ey)return e.options;if(e instanceof ev)return tn.objectValues(e.enum);if(e instanceof ex)return eo(e._def.innerType);if(e instanceof X)return[void 0];else if(e instanceof Y)return[null];else if(e instanceof eS)return[void 0,...eo(e.unwrap())];else if(e instanceof ew)return[null,...eo(e.unwrap())];else if(e instanceof eN)return eo(e.unwrap());else if(e instanceof eA)return eo(e.unwrap());else if(e instanceof eT)return eo(e._def.innerType);else return[]};class ei extends E{_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==a.object)return p(t,{code:o.invalid_type,expected:a.object,received:t.parsedType}),m;let r=this.discriminator,n=t.data[r],s=this.optionsMap.get(n);return s?t.common.async?s._parseAsync({data:t.data,path:t.path,parent:t}):s._parseSync({data:t.data,path:t.path,parent:t}):(p(t,{code:o.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),m)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,r){let n=new Map;for(let r of t){let t=eo(r.shape[e]);if(!t.length)throw Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(let a of t){if(n.has(a))throw Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);n.set(a,r)}}return new ei({typeName:tl.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:n,...O(r)})}}class el extends E{_parse(e){let{status:t,ctx:r}=this._processInputParams(e),n=(e,n)=>{if(y(e)||y(n))return m;let i=function e(t,r){let n=s(t),o=s(r);if(t===r)return{valid:!0,data:t};if(n===a.object&&o===a.object){let n=tn.objectKeys(r),a=tn.objectKeys(t).filter(e=>-1!==n.indexOf(e)),s={...t,...r};for(let n of a){let a=e(t[n],r[n]);if(!a.valid)return{valid:!1};s[n]=a.data}return{valid:!0,data:s}}if(n===a.array&&o===a.array){if(t.length!==r.length)return{valid:!1};let n=[];for(let a=0;a<t.length;a++){let s=e(t[a],r[a]);if(!s.valid)return{valid:!1};n.push(s.data)}return{valid:!0,data:n}}return n===a.date&&o===a.date&&+t==+r?{valid:!0,data:t}:{valid:!1}}(e.value,n.value);return i.valid?((v(e)||v(n))&&t.dirty(),{status:t.value,value:i.data}):(p(r,{code:o.invalid_intersection_types}),m)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([e,t])=>n(e,t)):n(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}el.create=(e,t,r)=>new el({left:e,right:t,typeName:tl.ZodIntersection,...O(r)});class eu extends E{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==a.array)return p(r,{code:o.invalid_type,expected:a.array,received:r.parsedType}),m;if(r.data.length<this._def.items.length)return p(r,{code:o.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),m;!this._def.rest&&r.data.length>this._def.items.length&&(p(r,{code:o.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());let n=[...r.data].map((e,t)=>{let n=this._def.items[t]||this._def.rest;return n?n._parse(new x(r,e,r.path,t)):null}).filter(e=>!!e);return r.common.async?Promise.all(n).then(e=>f.mergeArray(t,e)):f.mergeArray(t,n)}get items(){return this._def.items}rest(e){return new eu({...this._def,rest:e})}}eu.create=(e,t)=>{if(!Array.isArray(e))throw Error("You must pass an array of schemas to z.tuple([ ... ])");return new eu({items:e,typeName:tl.ZodTuple,rest:null,...O(t)})};class ec extends E{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==a.object)return p(r,{code:o.invalid_type,expected:a.object,received:r.parsedType}),m;let n=[],s=this._def.keyType,i=this._def.valueType;for(let e in r.data)n.push({key:s._parse(new x(r,e,r.path,e)),value:i._parse(new x(r,r.data[e],r.path,e)),alwaysSet:e in r.data});return r.common.async?f.mergeObjectAsync(t,n):f.mergeObjectSync(t,n)}get element(){return this._def.valueType}static create(e,t,r){return new ec(t instanceof E?{keyType:e,valueType:t,typeName:tl.ZodRecord,...O(r)}:{keyType:q.create(),valueType:e,typeName:tl.ZodRecord,...O(t)})}}class ed extends E{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==a.map)return p(r,{code:o.invalid_type,expected:a.map,received:r.parsedType}),m;let n=this._def.keyType,s=this._def.valueType,i=[...r.data.entries()].map(([e,t],a)=>({key:n._parse(new x(r,e,r.path,[a,"key"])),value:s._parse(new x(r,t,r.path,[a,"value"]))}));if(r.common.async){let e=new Map;return Promise.resolve().then(async()=>{for(let r of i){let n=await r.key,a=await r.value;if("aborted"===n.status||"aborted"===a.status)return m;("dirty"===n.status||"dirty"===a.status)&&t.dirty(),e.set(n.value,a.value)}return{status:t.value,value:e}})}{let e=new Map;for(let r of i){let n=r.key,a=r.value;if("aborted"===n.status||"aborted"===a.status)return m;("dirty"===n.status||"dirty"===a.status)&&t.dirty(),e.set(n.value,a.value)}return{status:t.value,value:e}}}}ed.create=(e,t,r)=>new ed({valueType:t,keyType:e,typeName:tl.ZodMap,...O(r)});class ep extends E{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==a.set)return p(r,{code:o.invalid_type,expected:a.set,received:r.parsedType}),m;let n=this._def;null!==n.minSize&&r.data.size<n.minSize.value&&(p(r,{code:o.too_small,minimum:n.minSize.value,type:"set",inclusive:!0,exact:!1,message:n.minSize.message}),t.dirty()),null!==n.maxSize&&r.data.size>n.maxSize.value&&(p(r,{code:o.too_big,maximum:n.maxSize.value,type:"set",inclusive:!0,exact:!1,message:n.maxSize.message}),t.dirty());let s=this._def.valueType;function i(e){let r=new Set;for(let n of e){if("aborted"===n.status)return m;"dirty"===n.status&&t.dirty(),r.add(n.value)}return{status:t.value,value:r}}let l=[...r.data.values()].map((e,t)=>s._parse(new x(r,e,r.path,t)));return r.common.async?Promise.all(l).then(e=>i(e)):i(l)}min(e,t){return new ep({...this._def,minSize:{value:e,message:ts.toString(t)}})}max(e,t){return new ep({...this._def,maxSize:{value:e,message:ts.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}ep.create=(e,t)=>new ep({valueType:e,minSize:null,maxSize:null,typeName:tl.ZodSet,...O(t)});class ef extends E{constructor(){super(...arguments),this.validate=this.implement}_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==a.function)return p(t,{code:o.invalid_type,expected:a.function,received:t.parsedType}),m;function r(e,r){return d({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,c(),l].filter(e=>!!e),issueData:{code:o.invalid_arguments,argumentsError:r}})}function n(e,r){return d({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,c(),l].filter(e=>!!e),issueData:{code:o.invalid_return_type,returnTypeError:r}})}let s={errorMap:t.common.contextualErrorMap},u=t.data;if(this._def.returns instanceof e_){let e=this;return g(async function(...t){let a=new i([]),o=await e._def.args.parseAsync(t,s).catch(e=>{throw a.addIssue(r(t,e)),a}),l=await Reflect.apply(u,this,o);return await e._def.returns._def.type.parseAsync(l,s).catch(e=>{throw a.addIssue(n(l,e)),a})})}{let e=this;return g(function(...t){let a=e._def.args.safeParse(t,s);if(!a.success)throw new i([r(t,a.error)]);let o=Reflect.apply(u,this,a.data),l=e._def.returns.safeParse(o,s);if(!l.success)throw new i([n(o,l.error)]);return l.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new ef({...this._def,args:eu.create(e).rest(ee.create())})}returns(e){return new ef({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,r){return new ef({args:e||eu.create([]).rest(ee.create()),returns:t||ee.create(),typeName:tl.ZodFunction,...O(r)})}}class em extends E{get schema(){return this._def.getter()}_parse(e){let{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}em.create=(e,t)=>new em({getter:e,typeName:tl.ZodLazy,...O(t)});class eh extends E{_parse(e){if(e.data!==this._def.value){let t=this._getOrReturnCtx(e);return p(t,{received:t.data,code:o.invalid_literal,expected:this._def.value}),m}return{status:"valid",value:e.data}}get value(){return this._def.value}}function eg(e,t){return new ey({values:e,typeName:tl.ZodEnum,...O(t)})}eh.create=(e,t)=>new eh({value:e,typeName:tl.ZodLiteral,...O(t)});class ey extends E{constructor(){super(...arguments),to.set(this,void 0)}_parse(e){if("string"!=typeof e.data){let t=this._getOrReturnCtx(e),r=this._def.values;return p(t,{expected:tn.joinValues(r),received:t.parsedType,code:o.invalid_type}),m}if(S(this,to,"f")||w(this,to,new Set(this._def.values),"f"),!S(this,to,"f").has(e.data)){let t=this._getOrReturnCtx(e),r=this._def.values;return p(t,{received:t.data,code:o.invalid_enum_value,options:r}),m}return g(e.data)}get options(){return this._def.values}get enum(){let e={};for(let t of this._def.values)e[t]=t;return e}get Values(){let e={};for(let t of this._def.values)e[t]=t;return e}get Enum(){let e={};for(let t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return ey.create(e,{...this._def,...t})}exclude(e,t=this._def){return ey.create(this.options.filter(t=>!e.includes(t)),{...this._def,...t})}}to=new WeakMap,ey.create=eg;class ev extends E{constructor(){super(...arguments),ti.set(this,void 0)}_parse(e){let t=tn.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==a.string&&r.parsedType!==a.number){let e=tn.objectValues(t);return p(r,{expected:tn.joinValues(e),received:r.parsedType,code:o.invalid_type}),m}if(S(this,ti,"f")||w(this,ti,new Set(tn.getValidEnumValues(this._def.values)),"f"),!S(this,ti,"f").has(e.data)){let e=tn.objectValues(t);return p(r,{received:r.data,code:o.invalid_enum_value,options:e}),m}return g(e.data)}get enum(){return this._def.values}}ti=new WeakMap,ev.create=(e,t)=>new ev({values:e,typeName:tl.ZodNativeEnum,...O(t)});class e_ extends E{unwrap(){return this._def.type}_parse(e){let{ctx:t}=this._processInputParams(e);return t.parsedType!==a.promise&&!1===t.common.async?(p(t,{code:o.invalid_type,expected:a.promise,received:t.parsedType}),m):g((t.parsedType===a.promise?t.data:Promise.resolve(t.data)).then(e=>this._def.type.parseAsync(e,{path:t.path,errorMap:t.common.contextualErrorMap})))}}e_.create=(e,t)=>new e_({type:e,typeName:tl.ZodPromise,...O(t)});class eb extends E{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===tl.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){let{status:t,ctx:r}=this._processInputParams(e),n=this._def.effect||null,a={addIssue:e=>{p(r,e),e.fatal?t.abort():t.dirty()},get path(){return r.path}};if(a.addIssue=a.addIssue.bind(a),"preprocess"===n.type){let e=n.transform(r.data,a);if(r.common.async)return Promise.resolve(e).then(async e=>{if("aborted"===t.value)return m;let n=await this._def.schema._parseAsync({data:e,path:r.path,parent:r});return"aborted"===n.status?m:"dirty"===n.status||"dirty"===t.value?h(n.value):n});{if("aborted"===t.value)return m;let n=this._def.schema._parseSync({data:e,path:r.path,parent:r});return"aborted"===n.status?m:"dirty"===n.status||"dirty"===t.value?h(n.value):n}}if("refinement"===n.type){let e=e=>{let t=n.refinement(e,a);if(r.common.async)return Promise.resolve(t);if(t instanceof Promise)throw Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1!==r.common.async)return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(r=>"aborted"===r.status?m:("dirty"===r.status&&t.dirty(),e(r.value).then(()=>({status:t.value,value:r.value}))));{let n=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return"aborted"===n.status?m:("dirty"===n.status&&t.dirty(),e(n.value),{status:t.value,value:n.value})}}if("transform"===n.type){if(!1!==r.common.async)return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(e=>_(e)?Promise.resolve(n.transform(e.value,a)).then(e=>({status:t.value,value:e})):e);{let e=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!_(e))return e;let s=n.transform(e.value,a);if(s instanceof Promise)throw Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:s}}}tn.assertNever(n)}}eb.create=(e,t,r)=>new eb({schema:e,typeName:tl.ZodEffects,effect:t,...O(r)}),eb.createWithPreprocess=(e,t,r)=>new eb({schema:t,effect:{type:"preprocess",transform:e},typeName:tl.ZodEffects,...O(r)});class eS extends E{_parse(e){return this._getType(e)===a.undefined?g(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}eS.create=(e,t)=>new eS({innerType:e,typeName:tl.ZodOptional,...O(t)});class ew extends E{_parse(e){return this._getType(e)===a.null?g(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}ew.create=(e,t)=>new ew({innerType:e,typeName:tl.ZodNullable,...O(t)});class ex extends E{_parse(e){let{ctx:t}=this._processInputParams(e),r=t.data;return t.parsedType===a.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}ex.create=(e,t)=>new ex({innerType:e,typeName:tl.ZodDefault,defaultValue:"function"==typeof t.default?t.default:()=>t.default,...O(t)});class eT extends E{_parse(e){let{ctx:t}=this._processInputParams(e),r={...t,common:{...t.common,issues:[]}},n=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return b(n)?n.then(e=>({status:"valid",value:"valid"===e.status?e.value:this._def.catchValue({get error(){return new i(r.common.issues)},input:r.data})})):{status:"valid",value:"valid"===n.status?n.value:this._def.catchValue({get error(){return new i(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}eT.create=(e,t)=>new eT({innerType:e,typeName:tl.ZodCatch,catchValue:"function"==typeof t.catch?t.catch:()=>t.catch,...O(t)});class eO extends E{_parse(e){if(this._getType(e)!==a.nan){let t=this._getOrReturnCtx(e);return p(t,{code:o.invalid_type,expected:a.nan,received:t.parsedType}),m}return{status:"valid",value:e.data}}}eO.create=e=>new eO({typeName:tl.ZodNaN,...O(e)});let eE=Symbol("zod_brand");class eN extends E{_parse(e){let{ctx:t}=this._processInputParams(e),r=t.data;return this._def.type._parse({data:r,path:t.path,parent:t})}unwrap(){return this._def.type}}class ek extends E{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{let e=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return"aborted"===e.status?m:"dirty"===e.status?(t.dirty(),h(e.value)):this._def.out._parseAsync({data:e.value,path:r.path,parent:r})})();{let e=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return"aborted"===e.status?m:"dirty"===e.status?(t.dirty(),{status:"dirty",value:e.value}):this._def.out._parseSync({data:e.value,path:r.path,parent:r})}}static create(e,t){return new ek({in:e,out:t,typeName:tl.ZodPipeline})}}class eA extends E{_parse(e){let t=this._def.innerType._parse(e),r=e=>(_(e)&&(e.value=Object.freeze(e.value)),e);return b(t)?t.then(e=>r(e)):r(t)}unwrap(){return this._def.innerType}}function eI(e,t){let r="function"==typeof e?e(t):"string"==typeof e?{message:e}:e;return"string"==typeof r?{message:r}:r}function eC(e,t={},r){return e?Q.create().superRefine((n,a)=>{var s,o;let i=e(n);if(i instanceof Promise)return i.then(e=>{var s,o;if(!e){let e=eI(t,n),i=null===(o=null!==(s=e.fatal)&&void 0!==s?s:r)||void 0===o||o;a.addIssue({code:"custom",...e,fatal:i})}});if(!i){let e=eI(t,n),i=null===(o=null!==(s=e.fatal)&&void 0!==s?s:r)||void 0===o||o;a.addIssue({code:"custom",...e,fatal:i})}}):Q.create()}eA.create=(e,t)=>new eA({innerType:e,typeName:tl.ZodReadonly,...O(t)});let eR={object:ea.lazycreate};!function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"}(tl||(tl={}));let eP=q.create,eM=G.create,ej=eO.create,eL=J.create,eD=K.create,ez=H.create,e$=W.create,eZ=X.create,eF=Y.create,eB=Q.create,eV=ee.create,eU=et.create,eq=er.create,eG=en.create,eJ=ea.create,eK=ea.strictCreate,eH=es.create,eW=ei.create,eX=el.create,eY=eu.create,eQ=ec.create,e0=ed.create,e1=ep.create,e9=ef.create,e4=em.create,e2=eh.create,e6=ey.create,e5=ev.create,e3=e_.create,e8=eb.create,e7=eS.create,te=ew.create,tt=eb.createWithPreprocess,tr=ek.create;var tn,ta,ts,to,ti,tl,tu=Object.freeze({__proto__:null,defaultErrorMap:l,setErrorMap:function(e){u=e},getErrorMap:c,makeIssue:d,EMPTY_PATH:[],addIssueToContext:p,ParseStatus:f,INVALID:m,DIRTY:h,OK:g,isAborted:y,isDirty:v,isValid:_,isAsync:b,get util(){return tn},get objectUtil(){return ta},ZodParsedType:a,getParsedType:s,ZodType:E,datetimeRegex:U,ZodString:q,ZodNumber:G,ZodBigInt:J,ZodBoolean:K,ZodDate:H,ZodSymbol:W,ZodUndefined:X,ZodNull:Y,ZodAny:Q,ZodUnknown:ee,ZodNever:et,ZodVoid:er,ZodArray:en,ZodObject:ea,ZodUnion:es,ZodDiscriminatedUnion:ei,ZodIntersection:el,ZodTuple:eu,ZodRecord:ec,ZodMap:ed,ZodSet:ep,ZodFunction:ef,ZodLazy:em,ZodLiteral:eh,ZodEnum:ey,ZodNativeEnum:ev,ZodPromise:e_,ZodEffects:eb,ZodTransformer:eb,ZodOptional:eS,ZodNullable:ew,ZodDefault:ex,ZodCatch:eT,ZodNaN:eO,BRAND:eE,ZodBranded:eN,ZodPipeline:ek,ZodReadonly:eA,custom:eC,Schema:E,ZodSchema:E,late:eR,get ZodFirstPartyTypeKind(){return tl},coerce:{string:e=>q.create({...e,coerce:!0}),number:e=>G.create({...e,coerce:!0}),boolean:e=>K.create({...e,coerce:!0}),bigint:e=>J.create({...e,coerce:!0}),date:e=>H.create({...e,coerce:!0})},any:eB,array:eG,bigint:eL,boolean:eD,date:ez,discriminatedUnion:eW,effect:e8,enum:e6,function:e9,instanceof:(e,t={message:`Input not instance of ${e.name}`})=>eC(t=>t instanceof e,t),intersection:eX,lazy:e4,literal:e2,map:e0,nan:ej,nativeEnum:e5,never:eU,null:eF,nullable:te,number:eM,object:eJ,oboolean:()=>eD().optional(),onumber:()=>eM().optional(),optional:e7,ostring:()=>eP().optional(),pipeline:tr,preprocess:tt,promise:e3,record:eQ,set:e1,strictObject:eK,string:eP,symbol:e$,transformer:e8,tuple:eY,undefined:eZ,union:eH,unknown:eV,void:eq,NEVER:m,ZodIssueCode:o,quotelessJson:e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:"),ZodError:i})}};